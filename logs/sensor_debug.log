2025-04-27T23:38:01.323Z: Initializing sensor logging service
2025-04-27T23:38:01.323Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-04-27T23:38:01.324Z: Created new log file with header: timestamp,living room temperature,living room humidity,living room motion detected,spaceId
2025-04-27T23:38:01.325Z: Log stream created and logging enabled
2025-04-27T23:38:01.326Z: No polling was active to stop
2025-04-27T23:38:01.327Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-04-27T23:38:01.327Z: Polling interval set with ID: 775
2025-04-27T23:38:01.327Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-04-27T23:38:01.328Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-04-27T23:38:01.328Z: Received motion sensor data: {"motionDetected":false}
2025-04-27T23:38:01.328Z: Formatted motion sensor events: [{"name":"living room motion detected","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-04-27T23:38:01.593Z: logSensorData called with 1 sensors
2025-04-27T23:38:01.593Z: Column map has 3 columns: [["living room temperature",1],["living room humidity",2],["living room motion detected",3]]
2025-04-27T23:38:01.593Z: Setting spaceId column 4 to 41413915
2025-04-27T23:38:01.593Z: Setting column 3 (living room motion detected) to false
2025-04-27T23:38:01.593Z: Writing row to log file: 2025-04-27 23:38:01,,,false,41413915
2025-04-27T23:38:01.593Z: Successfully wrote to log file using appendFileSync
2025-04-27T23:38:01.328Z: Successfully logged motion sensor data
2025-04-27T23:38:01.328Z: Failed to update motion event living room motion detected: Event living room motion detected not found
2025-04-27T23:38:01.596Z: Initial Motion sensor polling result: {"success":true,"updatedEvents":[],"totalEvents":1,"successfulUpdates":0}
2025-04-27T23:38:01.767Z: Initializing sensor logging service
2025-04-27T23:38:01.767Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-04-27T23:38:01.768Z: Using existing log file
2025-04-27T23:38:01.768Z: Closing existing log stream before creating new one
2025-04-27T23:38:01.769Z: Log stream created and logging enabled
2025-04-27T23:38:01.769Z: Stopping sensor polling interval: 775
2025-04-27T23:38:01.769Z: Closing logging service
2025-04-27T23:38:01.770Z: Closing sensor logging service
2025-04-27T23:38:01.770Z: Closing log stream
2025-04-27T23:38:01.770Z: Logging stopped at 2025-04-27T23:38:01.770Z
2025-04-27T23:38:01.771Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-04-27T23:38:01.771Z: Polling interval set with ID: 923
2025-04-27T23:38:01.772Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-04-27T23:38:01.772Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-04-27T23:38:01.327Z: Received sensor data: {"temperature":21.2,"humidity":67.5}
2025-04-27T23:38:01.327Z: Formatted events: [{"name":"living room temperature","value":21.2,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":67.5,"roomName":"Living Room","spaceId":"41413915"}]
2025-04-27T23:38:01.976Z: logSensorData called with 2 sensors
2025-04-27T23:38:01.976Z: WARNING - Logging is disabled but logSensorData was called
2025-04-27T23:38:01.976Z: Attempting to re-initialize logging with existing events
2025-04-27T23:38:01.977Z: Initializing sensor logging service
2025-04-27T23:38:01.977Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-04-27T23:38:01.978Z: Using existing log file
2025-04-27T23:38:01.976Z: ERROR - Logging service not initialized (logStream is null)
2025-04-27T23:38:01.327Z: ERROR - Failed to log sensor data: Logging service not initialized
2025-04-27T23:38:01.327Z: Successfully updated event: living room temperature = 21.2
2025-04-27T23:38:01.327Z: Successfully updated event: living room humidity = 67.5
2025-04-27T23:38:01.980Z: Initial Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":21.2,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":67.5,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-04-27T23:38:01.981Z: Log stream created and logging enabled
2025-04-27T23:38:01.976Z: Re-initialization result: {"success":true,"message":"Sensor logging initialized to C:\\Users\\amin\\Desktop\\smart-space\\SmartSchool-Server\\logs\\sensor_data.csv","columns":[["living room temperature",1],["living room humidity",2],["living room motion detected",3]]}
2025-04-27T23:38:01.772Z: Received motion sensor data: {"motionDetected":false}
2025-04-27T23:38:01.772Z: Formatted motion sensor events: [{"name":"living room motion detected","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-04-27T23:38:02.100Z: logSensorData called with 1 sensors
2025-04-27T23:38:02.100Z: Column map has 3 columns: [["living room temperature",1],["living room humidity",2],["living room motion detected",3]]
2025-04-27T23:38:02.100Z: Setting spaceId column 4 to 41413915
2025-04-27T23:38:02.100Z: Setting column 3 (living room motion detected) to false
2025-04-27T23:38:02.100Z: Writing row to log file: 2025-04-27 23:38:02,,,false,41413915
2025-04-27T23:38:02.100Z: Successfully wrote to log file using appendFileSync
2025-04-27T23:38:01.772Z: Successfully logged motion sensor data
2025-04-27T23:38:01.772Z: Failed to update motion event living room motion detected: Event living room motion detected not found
2025-04-27T23:38:02.103Z: Initial Motion sensor polling result: {"success":true,"updatedEvents":[],"totalEvents":1,"successfulUpdates":0}
2025-04-27T23:38:01.772Z: Received sensor data: {"temperature":21.2,"humidity":67.5}
2025-04-27T23:38:01.772Z: Formatted events: [{"name":"living room temperature","value":21.2,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":67.5,"roomName":"Living Room","spaceId":"41413915"}]
2025-04-27T23:38:02.359Z: logSensorData called with 2 sensors
2025-04-27T23:38:02.359Z: Column map has 3 columns: [["living room temperature",1],["living room humidity",2],["living room motion detected",3]]
2025-04-27T23:38:02.359Z: Setting spaceId column 4 to 41413915
2025-04-27T23:38:02.359Z: Setting column 1 (living room temperature) to 21.2
2025-04-27T23:38:02.359Z: Setting column 2 (living room humidity) to 67.5
2025-04-27T23:38:02.359Z: Writing row to log file: 2025-04-27 23:38:02,21.2,67.5,,41413915
2025-04-27T23:38:02.359Z: Successfully wrote to log file using appendFileSync
2025-04-27T23:38:01.772Z: Successfully logged sensor data
2025-04-27T23:38:01.772Z: Successfully updated event: living room temperature = 21.2
2025-04-27T23:38:01.772Z: Successfully updated event: living room humidity = 67.5
2025-04-27T23:38:02.362Z: Initial Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":21.2,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":67.5,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-04-27T23:39:41.778Z: Polling for sensor data... (poll #1)
2025-04-27T23:39:41.779Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-04-27T23:39:41.779Z: Received sensor data: {"temperature":21.2,"humidity":67.5}
2025-04-27T23:39:41.779Z: Formatted events: [{"name":"living room temperature","value":21.2,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":67.5,"roomName":"Living Room","spaceId":"41413915"}]
2025-04-27T23:39:42.424Z: logSensorData called with 2 sensors
2025-04-27T23:39:42.424Z: Column map has 3 columns: [["living room temperature",1],["living room humidity",2],["living room motion detected",3]]
2025-04-27T23:39:42.424Z: Setting spaceId column 4 to 41413915
2025-04-27T23:39:42.424Z: Setting column 1 (living room temperature) to 21.2
2025-04-27T23:39:42.424Z: Setting column 2 (living room humidity) to 67.5
2025-04-27T23:39:42.424Z: Writing row to log file: 2025-04-27 23:39:42,21.2,67.5,,41413915
2025-04-27T23:39:42.424Z: Successfully wrote to log file using appendFileSync
2025-04-27T23:39:41.779Z: Successfully logged sensor data
2025-04-27T23:39:41.779Z: Successfully updated event: living room temperature = 21.2
2025-04-27T23:39:41.779Z: Successfully updated event: living room humidity = 67.5
2025-04-27T23:39:42.428Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":21.2,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":67.5,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-04-27T23:39:42.428Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-04-27T23:39:42.428Z: Received motion sensor data: {"motionDetected":true}
2025-04-27T23:39:42.428Z: Formatted motion sensor events: [{"name":"living room motion detected","value":true,"roomName":"Living Room","spaceId":"41413915"}]
2025-04-27T23:39:42.586Z: logSensorData called with 1 sensors
2025-04-27T23:39:42.586Z: Column map has 3 columns: [["living room temperature",1],["living room humidity",2],["living room motion detected",3]]
2025-04-27T23:39:42.586Z: Setting spaceId column 4 to 41413915
2025-04-27T23:39:42.586Z: Setting column 3 (living room motion detected) to true
2025-04-27T23:39:42.586Z: Writing row to log file: 2025-04-27 23:39:42,,,true,41413915
2025-04-27T23:39:42.586Z: Successfully wrote to log file using appendFileSync
2025-04-27T23:39:42.428Z: Successfully logged motion sensor data
2025-04-27T23:39:42.428Z: Failed to update motion event living room motion detected: Event living room motion detected not found
2025-04-27T23:39:42.589Z: Motion sensor polling result: {"success":true,"updatedEvents":[],"totalEvents":1,"successfulUpdates":0}
2025-04-27T23:39:42.589Z: Polling interval active: true
2025-04-27T23:41:21.784Z: Polling for sensor data... (poll #2)
2025-04-27T23:41:21.785Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-04-27T23:41:21.785Z: Received sensor data: {"temperature":21.2,"humidity":67.6}
2025-04-27T23:41:21.785Z: Formatted events: [{"name":"living room temperature","value":21.2,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":67.6,"roomName":"Living Room","spaceId":"41413915"}]
2025-04-27T23:41:22.491Z: logSensorData called with 2 sensors
2025-04-27T23:41:22.491Z: Column map has 3 columns: [["living room temperature",1],["living room humidity",2],["living room motion detected",3]]
2025-04-27T23:41:22.491Z: Setting spaceId column 4 to 41413915
2025-04-27T23:41:22.491Z: Setting column 1 (living room temperature) to 21.2
2025-04-27T23:41:22.491Z: Setting column 2 (living room humidity) to 67.6
2025-04-27T23:41:22.491Z: Writing row to log file: 2025-04-27 23:41:22,21.2,67.6,,41413915
2025-04-27T23:41:22.491Z: Successfully wrote to log file using appendFileSync
2025-04-27T23:41:21.785Z: Successfully logged sensor data
2025-04-27T23:41:21.785Z: Successfully updated event: living room temperature = 21.2
2025-04-27T23:41:21.785Z: Successfully updated event: living room humidity = 67.6
2025-04-27T23:41:22.495Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":21.2,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":67.6,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-04-27T23:41:22.495Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-04-27T23:41:22.495Z: Received motion sensor data: {"motionDetected":false}
2025-04-27T23:41:22.495Z: Formatted motion sensor events: [{"name":"living room motion detected","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-04-27T23:41:22.647Z: logSensorData called with 1 sensors
2025-04-27T23:41:22.647Z: Column map has 3 columns: [["living room temperature",1],["living room humidity",2],["living room motion detected",3]]
2025-04-27T23:41:22.647Z: Setting spaceId column 4 to 41413915
2025-04-27T23:41:22.647Z: Setting column 3 (living room motion detected) to false
2025-04-27T23:41:22.647Z: Writing row to log file: 2025-04-27 23:41:22,,,false,41413915
2025-04-27T23:41:22.647Z: Successfully wrote to log file using appendFileSync
2025-04-27T23:41:22.495Z: Successfully logged motion sensor data
2025-04-27T23:41:22.495Z: Failed to update motion event living room motion detected: Event living room motion detected not found
2025-04-27T23:41:22.650Z: Motion sensor polling result: {"success":true,"updatedEvents":[],"totalEvents":1,"successfulUpdates":0}
2025-04-27T23:41:22.650Z: Polling interval active: true
2025-04-27T23:43:01.788Z: Polling for sensor data... (poll #3)
2025-04-27T23:43:01.789Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-04-27T23:43:01.789Z: Received sensor data: {"temperature":21.2,"humidity":67.7}
2025-04-27T23:43:01.789Z: Formatted events: [{"name":"living room temperature","value":21.2,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":67.7,"roomName":"Living Room","spaceId":"41413915"}]
2025-04-27T23:43:02.357Z: logSensorData called with 2 sensors
2025-04-27T23:43:02.357Z: Column map has 3 columns: [["living room temperature",1],["living room humidity",2],["living room motion detected",3]]
2025-04-27T23:43:02.357Z: Setting spaceId column 4 to 41413915
2025-04-27T23:43:02.357Z: Setting column 1 (living room temperature) to 21.2
2025-04-27T23:43:02.357Z: Setting column 2 (living room humidity) to 67.7
2025-04-27T23:43:02.357Z: Writing row to log file: 2025-04-27 23:43:02,21.2,67.7,,41413915
2025-04-27T23:43:02.357Z: Successfully wrote to log file using appendFileSync
2025-04-27T23:43:01.789Z: Successfully logged sensor data
2025-04-27T23:43:01.789Z: Successfully updated event: living room temperature = 21.2
2025-04-27T23:43:01.789Z: Successfully updated event: living room humidity = 67.7
2025-04-27T23:43:02.362Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":21.2,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":67.7,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-04-27T23:43:02.362Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-04-27T23:43:02.362Z: Received motion sensor data: {"motionDetected":false}
2025-04-27T23:43:02.362Z: Formatted motion sensor events: [{"name":"living room motion detected","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-04-27T23:43:02.513Z: logSensorData called with 1 sensors
2025-04-27T23:43:02.513Z: Column map has 3 columns: [["living room temperature",1],["living room humidity",2],["living room motion detected",3]]
2025-04-27T23:43:02.513Z: Setting spaceId column 4 to 41413915
2025-04-27T23:43:02.513Z: Setting column 3 (living room motion detected) to false
2025-04-27T23:43:02.513Z: Writing row to log file: 2025-04-27 23:43:02,,,false,41413915
2025-04-27T23:43:02.513Z: Successfully wrote to log file using appendFileSync
2025-04-27T23:43:02.362Z: Successfully logged motion sensor data
2025-04-27T23:43:02.362Z: Failed to update motion event living room motion detected: Event living room motion detected not found
2025-04-27T23:43:02.516Z: Motion sensor polling result: {"success":true,"updatedEvents":[],"totalEvents":1,"successfulUpdates":0}
2025-04-27T23:43:02.516Z: Polling interval active: true
2025-04-27T23:44:41.800Z: Polling for sensor data... (poll #4)
2025-04-27T23:44:41.801Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-04-27T23:44:41.801Z: Received sensor data: {"temperature":21.2,"humidity":67.5}
2025-04-27T23:44:41.801Z: Formatted events: [{"name":"living room temperature","value":21.2,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":67.5,"roomName":"Living Room","spaceId":"41413915"}]
2025-04-27T23:44:42.413Z: logSensorData called with 2 sensors
2025-04-27T23:44:42.413Z: Column map has 3 columns: [["living room temperature",1],["living room humidity",2],["living room motion detected",3]]
2025-04-27T23:44:42.413Z: Setting spaceId column 4 to 41413915
2025-04-27T23:44:42.413Z: Setting column 1 (living room temperature) to 21.2
2025-04-27T23:44:42.413Z: Setting column 2 (living room humidity) to 67.5
2025-04-27T23:44:42.413Z: Writing row to log file: 2025-04-27 23:44:42,21.2,67.5,,41413915
2025-04-27T23:44:42.413Z: Successfully wrote to log file using appendFileSync
2025-04-27T23:44:41.801Z: Successfully logged sensor data
2025-04-27T23:44:41.801Z: Successfully updated event: living room temperature = 21.2
2025-04-27T23:44:41.801Z: Successfully updated event: living room humidity = 67.5
2025-04-27T23:44:42.417Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":21.2,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":67.5,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-04-27T23:44:42.417Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-04-27T23:44:42.417Z: Received motion sensor data: {"motionDetected":true}
2025-04-27T23:44:42.417Z: Formatted motion sensor events: [{"name":"living room motion detected","value":true,"roomName":"Living Room","spaceId":"41413915"}]
2025-04-27T23:44:42.569Z: logSensorData called with 1 sensors
2025-04-27T23:44:42.569Z: Column map has 3 columns: [["living room temperature",1],["living room humidity",2],["living room motion detected",3]]
2025-04-27T23:44:42.569Z: Setting spaceId column 4 to 41413915
2025-04-27T23:44:42.569Z: Setting column 3 (living room motion detected) to true
2025-04-27T23:44:42.569Z: Writing row to log file: 2025-04-27 23:44:42,,,true,41413915
2025-04-27T23:44:42.569Z: Successfully wrote to log file using appendFileSync
2025-04-27T23:44:42.417Z: Successfully logged motion sensor data
2025-04-27T23:44:42.417Z: Failed to update motion event living room motion detected: Event living room motion detected not found
2025-04-27T23:44:42.572Z: Motion sensor polling result: {"success":true,"updatedEvents":[],"totalEvents":1,"successfulUpdates":0}
2025-04-27T23:44:42.572Z: Polling interval active: true
2025-04-27T23:46:21.807Z: Polling for sensor data... (poll #5)
2025-04-27T23:46:21.808Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-04-27T23:46:21.808Z: Received sensor data: {"temperature":21.2,"humidity":67.7}
2025-04-27T23:46:21.808Z: Formatted events: [{"name":"living room temperature","value":21.2,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":67.7,"roomName":"Living Room","spaceId":"41413915"}]
2025-04-27T23:46:22.426Z: logSensorData called with 2 sensors
2025-04-27T23:46:22.426Z: Column map has 3 columns: [["living room temperature",1],["living room humidity",2],["living room motion detected",3]]
2025-04-27T23:46:22.426Z: Setting spaceId column 4 to 41413915
2025-04-27T23:46:22.426Z: Setting column 1 (living room temperature) to 21.2
2025-04-27T23:46:22.426Z: Setting column 2 (living room humidity) to 67.7
2025-04-27T23:46:22.426Z: Writing row to log file: 2025-04-27 23:46:22,21.2,67.7,,41413915
2025-04-27T23:46:22.426Z: Successfully wrote to log file using appendFileSync
2025-04-27T23:46:21.808Z: Successfully logged sensor data
2025-04-27T23:46:21.808Z: Successfully updated event: living room temperature = 21.2
2025-04-27T23:46:21.808Z: Successfully updated event: living room humidity = 67.7
2025-04-27T23:46:22.429Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":21.2,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":67.7,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-04-27T23:46:22.429Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-04-27T23:46:22.429Z: Received motion sensor data: {"motionDetected":false}
2025-04-27T23:46:22.429Z: Formatted motion sensor events: [{"name":"living room motion detected","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-04-27T23:46:22.583Z: logSensorData called with 1 sensors
2025-04-27T23:46:22.583Z: Column map has 3 columns: [["living room temperature",1],["living room humidity",2],["living room motion detected",3]]
2025-04-27T23:46:22.583Z: Setting spaceId column 4 to 41413915
2025-04-27T23:46:22.583Z: Setting column 3 (living room motion detected) to false
2025-04-27T23:46:22.583Z: Writing row to log file: 2025-04-27 23:46:22,,,false,41413915
2025-04-27T23:46:22.583Z: Successfully wrote to log file using appendFileSync
2025-04-27T23:46:22.429Z: Successfully logged motion sensor data
2025-04-27T23:46:22.429Z: Failed to update motion event living room motion detected: Event living room motion detected not found
2025-04-27T23:46:22.586Z: Motion sensor polling result: {"success":true,"updatedEvents":[],"totalEvents":1,"successfulUpdates":0}
2025-04-27T23:46:22.586Z: Polling interval active: true
2025-04-27T23:46:45.084Z: Initializing sensor logging service
2025-04-27T23:46:45.084Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-04-27T23:46:45.085Z: Using existing log file
2025-04-27T23:46:45.086Z: Log stream created and logging enabled
2025-04-27T23:46:45.087Z: No polling was active to stop
2025-04-27T23:46:45.088Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-04-27T23:46:45.088Z: Polling interval set with ID: 804
2025-04-27T23:46:45.089Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-04-27T23:46:45.090Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-04-27T23:46:45.102Z: Initializing sensor logging service
2025-04-27T23:46:45.103Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-04-27T23:46:45.103Z: Using existing log file
2025-04-27T23:46:45.103Z: Closing existing log stream before creating new one
2025-04-27T23:46:45.104Z: Log stream created and logging enabled
2025-04-27T23:46:45.104Z: Stopping sensor polling interval: 804
2025-04-27T23:46:45.104Z: Closing logging service
2025-04-27T23:46:45.105Z: Closing sensor logging service
2025-04-27T23:46:45.105Z: Closing log stream
2025-04-27T23:46:45.105Z: Logging stopped at 2025-04-27T23:46:45.105Z
2025-04-27T23:46:45.106Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-04-27T23:46:45.106Z: Polling interval set with ID: 869
2025-04-27T23:46:45.107Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-04-27T23:46:45.107Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-04-27T23:46:45.090Z: Received motion sensor data: {"motionDetected":true}
2025-04-27T23:46:45.090Z: Formatted motion sensor events: [{"name":"living room motion detected","value":true,"roomName":"Living Room","spaceId":"41413915"}]
2025-04-27T23:46:45.253Z: logSensorData called with 1 sensors
2025-04-27T23:46:45.253Z: WARNING - Logging is disabled but logSensorData was called
2025-04-27T23:46:45.253Z: Attempting to re-initialize logging with existing events
2025-04-27T23:46:45.253Z: Initializing sensor logging service
2025-04-27T23:46:45.254Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-04-27T23:46:45.255Z: Using existing log file
2025-04-27T23:46:45.253Z: ERROR - Logging service not initialized (logStream is null)
2025-04-27T23:46:45.090Z: ERROR - Failed to log motion sensor data: Logging service not initialized
2025-04-27T23:46:45.090Z: Failed to update motion event living room motion detected: Event living room motion detected not found
2025-04-27T23:46:45.256Z: Initial Motion sensor polling result: {"success":true,"updatedEvents":[],"totalEvents":1,"successfulUpdates":0}
2025-04-27T23:46:45.262Z: Log stream created and logging enabled
2025-04-27T23:46:45.253Z: Re-initialization result: {"success":true,"message":"Sensor logging initialized to C:\\Users\\amin\\Desktop\\smart-space\\SmartSchool-Server\\logs\\sensor_data.csv","columns":[["living room temperature",1],["living room humidity",2],["living room motion detected",3]]}
2025-04-27T23:46:45.107Z: Received motion sensor data: {"motionDetected":true}
2025-04-27T23:46:45.107Z: Formatted motion sensor events: [{"name":"living room motion detected","value":true,"roomName":"Living Room","spaceId":"41413915"}]
2025-04-27T23:46:45.408Z: logSensorData called with 1 sensors
2025-04-27T23:46:45.408Z: Column map has 3 columns: [["living room temperature",1],["living room humidity",2],["living room motion detected",3]]
2025-04-27T23:46:45.408Z: Setting spaceId column 4 to 41413915
2025-04-27T23:46:45.408Z: Setting column 3 (living room motion detected) to true
2025-04-27T23:46:45.408Z: Writing row to log file: 2025-04-27 23:46:45,,,true,41413915
2025-04-27T23:46:45.408Z: Successfully wrote to log file using appendFileSync
2025-04-27T23:46:45.107Z: Successfully logged motion sensor data
2025-04-27T23:46:45.107Z: Failed to update motion event living room motion detected: Event living room motion detected not found
2025-04-27T23:46:45.410Z: Initial Motion sensor polling result: {"success":true,"updatedEvents":[],"totalEvents":1,"successfulUpdates":0}
2025-04-27T23:46:45.089Z: Received sensor data: {"temperature":21.2,"humidity":67.7}
2025-04-27T23:46:45.089Z: Formatted events: [{"name":"living room temperature","value":21.2,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":67.7,"roomName":"Living Room","spaceId":"41413915"}]
2025-04-27T23:46:45.651Z: logSensorData called with 2 sensors
2025-04-27T23:46:45.651Z: Column map has 3 columns: [["living room temperature",1],["living room humidity",2],["living room motion detected",3]]
2025-04-27T23:46:45.651Z: Setting spaceId column 4 to 41413915
2025-04-27T23:46:45.651Z: Setting column 1 (living room temperature) to 21.2
2025-04-27T23:46:45.651Z: Setting column 2 (living room humidity) to 67.7
2025-04-27T23:46:45.651Z: Writing row to log file: 2025-04-27 23:46:45,21.2,67.7,,41413915
2025-04-27T23:46:45.651Z: Successfully wrote to log file using appendFileSync
2025-04-27T23:46:45.089Z: Successfully logged sensor data
2025-04-27T23:46:45.089Z: Successfully updated event: living room temperature = 21.2
2025-04-27T23:46:45.089Z: Successfully updated event: living room humidity = 67.7
2025-04-27T23:46:45.655Z: Initial Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":21.2,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":67.7,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-04-27T23:46:45.107Z: Received sensor data: {"temperature":21.2,"humidity":67.7}
2025-04-27T23:46:45.107Z: Formatted events: [{"name":"living room temperature","value":21.2,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":67.7,"roomName":"Living Room","spaceId":"41413915"}]
2025-04-27T23:46:45.828Z: logSensorData called with 2 sensors
2025-04-27T23:46:45.828Z: Column map has 3 columns: [["living room temperature",1],["living room humidity",2],["living room motion detected",3]]
2025-04-27T23:46:45.828Z: Setting spaceId column 4 to 41413915
2025-04-27T23:46:45.828Z: Setting column 1 (living room temperature) to 21.2
2025-04-27T23:46:45.828Z: Setting column 2 (living room humidity) to 67.7
2025-04-27T23:46:45.828Z: Writing row to log file: 2025-04-27 23:46:45,21.2,67.7,,41413915
2025-04-27T23:46:45.828Z: Successfully wrote to log file using appendFileSync
2025-04-27T23:46:45.107Z: Successfully logged sensor data
2025-04-27T23:46:45.107Z: Successfully updated event: living room temperature = 21.2
2025-04-27T23:46:45.107Z: Successfully updated event: living room humidity = 67.7
2025-04-27T23:46:45.832Z: Initial Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":21.2,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":67.7,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-04-27T23:47:59.090Z: Initializing sensor logging service
2025-04-27T23:47:59.090Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-04-27T23:47:59.091Z: Using existing log file
2025-04-27T23:47:59.091Z: Log stream created and logging enabled
2025-04-27T23:47:59.092Z: No polling was active to stop
2025-04-27T23:47:59.093Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-04-27T23:47:59.093Z: Polling interval set with ID: 803
2025-04-27T23:47:59.094Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-04-27T23:47:59.095Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-04-27T23:47:59.107Z: Initializing sensor logging service
2025-04-27T23:47:59.107Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-04-27T23:47:59.108Z: Using existing log file
2025-04-27T23:47:59.111Z: Closing existing log stream before creating new one
2025-04-27T23:47:59.111Z: Log stream created and logging enabled
2025-04-27T23:47:59.112Z: Stopping sensor polling interval: 803
2025-04-27T23:47:59.112Z: Closing logging service
2025-04-27T23:47:59.113Z: Closing sensor logging service
2025-04-27T23:47:59.113Z: Closing log stream
2025-04-27T23:47:59.113Z: Logging stopped at 2025-04-27T23:47:59.113Z
2025-04-27T23:47:59.114Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-04-27T23:47:59.114Z: Polling interval set with ID: 868
2025-04-27T23:47:59.115Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-04-27T23:47:59.115Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-04-27T23:47:59.095Z: Received motion sensor data: {"motionDetected":true}
2025-04-27T23:47:59.095Z: Formatted motion sensor events: [{"name":"living room motion detected","value":true,"roomName":"Living Room","spaceId":"41413915"}]
2025-04-27T23:47:59.263Z: logSensorData called with 1 sensors
2025-04-27T23:47:59.263Z: WARNING - Logging is disabled but logSensorData was called
2025-04-27T23:47:59.263Z: Attempting to re-initialize logging with existing events
2025-04-27T23:47:59.264Z: Initializing sensor logging service
2025-04-27T23:47:59.265Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-04-27T23:47:59.265Z: Using existing log file
2025-04-27T23:47:59.263Z: ERROR - Logging service not initialized (logStream is null)
2025-04-27T23:47:59.095Z: ERROR - Failed to log motion sensor data: Logging service not initialized
2025-04-27T23:47:59.095Z: Failed to update motion event living room motion detected: Event living room motion detected not found
2025-04-27T23:47:59.267Z: Initial Motion sensor polling result: {"success":true,"updatedEvents":[],"totalEvents":1,"successfulUpdates":0}
2025-04-27T23:47:59.276Z: Log stream created and logging enabled
2025-04-27T23:47:59.263Z: Re-initialization result: {"success":true,"message":"Sensor logging initialized to C:\\Users\\amin\\Desktop\\smart-space\\SmartSchool-Server\\logs\\sensor_data.csv","columns":[["living room temperature",1],["living room humidity",2],["living room motion detected",3]]}
2025-04-27T23:47:59.115Z: Received motion sensor data: {"motionDetected":true}
2025-04-27T23:47:59.115Z: Formatted motion sensor events: [{"name":"living room motion detected","value":true,"roomName":"Living Room","spaceId":"41413915"}]
2025-04-27T23:47:59.420Z: logSensorData called with 1 sensors
2025-04-27T23:47:59.420Z: Column map has 3 columns: [["living room temperature",1],["living room humidity",2],["living room motion detected",3]]
2025-04-27T23:47:59.420Z: Setting spaceId column 4 to 41413915
2025-04-27T23:47:59.420Z: Setting column 3 (living room motion detected) to true
2025-04-27T23:47:59.420Z: Writing row to log file: 2025-04-27 23:47:59,,,true,41413915
2025-04-27T23:47:59.420Z: Successfully wrote to log file using appendFileSync
2025-04-27T23:47:59.115Z: Successfully logged motion sensor data
2025-04-27T23:47:59.115Z: Failed to update motion event living room motion detected: Event living room motion detected not found
2025-04-27T23:47:59.423Z: Initial Motion sensor polling result: {"success":true,"updatedEvents":[],"totalEvents":1,"successfulUpdates":0}
2025-04-27T23:48:02.137Z: Initializing sensor logging service
2025-04-27T23:48:02.137Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-04-27T23:48:02.138Z: Using existing log file
2025-04-27T23:48:02.139Z: Log stream created and logging enabled
2025-04-27T23:48:02.140Z: No polling was active to stop
2025-04-27T23:48:02.141Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-04-27T23:48:02.141Z: Polling interval set with ID: 800
2025-04-27T23:48:02.142Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-04-27T23:48:02.143Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-04-27T23:48:02.146Z: Initializing sensor logging service
2025-04-27T23:48:02.146Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-04-27T23:48:02.147Z: Using existing log file
2025-04-27T23:48:02.152Z: Closing existing log stream before creating new one
2025-04-27T23:48:02.153Z: Log stream created and logging enabled
2025-04-27T23:48:02.154Z: Stopping sensor polling interval: 800
2025-04-27T23:48:02.154Z: Closing logging service
2025-04-27T23:48:02.154Z: Closing sensor logging service
2025-04-27T23:48:02.154Z: Closing log stream
2025-04-27T23:48:02.154Z: Logging stopped at 2025-04-27T23:48:02.154Z
2025-04-27T23:48:02.156Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-04-27T23:48:02.156Z: Polling interval set with ID: 859
2025-04-27T23:48:02.156Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-04-27T23:48:02.157Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-04-27T23:48:02.143Z: Received motion sensor data: {"motionDetected":false}
2025-04-27T23:48:02.143Z: Formatted motion sensor events: [{"name":"living room motion detected","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-04-27T23:48:02.367Z: logSensorData called with 1 sensors
2025-04-27T23:48:02.367Z: WARNING - Logging is disabled but logSensorData was called
2025-04-27T23:48:02.367Z: Attempting to re-initialize logging with existing events
2025-04-27T23:48:02.367Z: Initializing sensor logging service
2025-04-27T23:48:02.367Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-04-27T23:48:02.368Z: Using existing log file
2025-04-27T23:48:02.367Z: ERROR - Logging service not initialized (logStream is null)
2025-04-27T23:48:02.143Z: ERROR - Failed to log motion sensor data: Logging service not initialized
2025-04-27T23:48:02.143Z: Failed to update motion event living room motion detected: Event living room motion detected not found
2025-04-27T23:48:02.369Z: Initial Motion sensor polling result: {"success":true,"updatedEvents":[],"totalEvents":1,"successfulUpdates":0}
2025-04-27T23:48:02.370Z: Log stream created and logging enabled
2025-04-27T23:48:02.367Z: Re-initialization result: {"success":true,"message":"Sensor logging initialized to C:\\Users\\amin\\Desktop\\smart-space\\SmartSchool-Server\\logs\\sensor_data.csv","columns":[["living room temperature",1],["living room humidity",2],["living room motion detected",3]]}
2025-04-27T23:48:02.157Z: Received motion sensor data: {"motionDetected":false}
2025-04-27T23:48:02.157Z: Formatted motion sensor events: [{"name":"living room motion detected","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-04-27T23:48:02.470Z: logSensorData called with 1 sensors
2025-04-27T23:48:02.470Z: Column map has 3 columns: [["living room temperature",1],["living room humidity",2],["living room motion detected",3]]
2025-04-27T23:48:02.470Z: Setting spaceId column 4 to 41413915
2025-04-27T23:48:02.470Z: Setting column 3 (living room motion detected) to false
2025-04-27T23:48:02.470Z: Writing row to log file: 2025-04-27 23:48:02,,,false,41413915
2025-04-27T23:48:02.470Z: Successfully wrote to log file using appendFileSync
2025-04-27T23:48:02.157Z: Successfully logged motion sensor data
2025-04-27T23:48:02.157Z: Failed to update motion event living room motion detected: Event living room motion detected not found
2025-04-27T23:48:02.472Z: Initial Motion sensor polling result: {"success":true,"updatedEvents":[],"totalEvents":1,"successfulUpdates":0}
2025-04-27T23:48:02.142Z: Received sensor data: {"temperature":21.2,"humidity":67.7}
2025-04-27T23:48:02.142Z: Formatted events: [{"name":"living room temperature","value":21.2,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":67.7,"roomName":"Living Room","spaceId":"41413915"}]
2025-04-27T23:48:02.752Z: logSensorData called with 2 sensors
2025-04-27T23:48:02.752Z: Column map has 3 columns: [["living room temperature",1],["living room humidity",2],["living room motion detected",3]]
2025-04-27T23:48:02.752Z: Setting spaceId column 4 to 41413915
2025-04-27T23:48:02.752Z: Setting column 1 (living room temperature) to 21.2
2025-04-27T23:48:02.752Z: Setting column 2 (living room humidity) to 67.7
2025-04-27T23:48:02.752Z: Writing row to log file: 2025-04-27 23:48:02,21.2,67.7,,41413915
2025-04-27T23:48:02.752Z: Successfully wrote to log file using appendFileSync
2025-04-27T23:48:02.142Z: Successfully logged sensor data
2025-04-27T23:48:02.142Z: Successfully updated event: living room temperature = 21.2
2025-04-27T23:48:02.142Z: Successfully updated event: living room humidity = 67.7
2025-04-27T23:48:02.757Z: Initial Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":21.2,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":67.7,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-04-27T23:48:02.156Z: Received sensor data: {"temperature":21.2,"humidity":67.7}
2025-04-27T23:48:02.156Z: Formatted events: [{"name":"living room temperature","value":21.2,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":67.7,"roomName":"Living Room","spaceId":"41413915"}]
2025-04-27T23:48:02.941Z: logSensorData called with 2 sensors
2025-04-27T23:48:02.941Z: Column map has 3 columns: [["living room temperature",1],["living room humidity",2],["living room motion detected",3]]
2025-04-27T23:48:02.941Z: Setting spaceId column 4 to 41413915
2025-04-27T23:48:02.941Z: Setting column 1 (living room temperature) to 21.2
2025-04-27T23:48:02.941Z: Setting column 2 (living room humidity) to 67.7
2025-04-27T23:48:02.941Z: Writing row to log file: 2025-04-27 23:48:02,21.2,67.7,,41413915
2025-04-27T23:48:02.941Z: Successfully wrote to log file using appendFileSync
2025-04-27T23:48:02.156Z: Successfully logged sensor data
2025-04-27T23:48:02.156Z: Successfully updated event: living room temperature = 21.2
2025-04-27T23:48:02.156Z: Successfully updated event: living room humidity = 67.7
2025-04-27T23:48:02.944Z: Initial Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":21.2,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":67.7,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-04-27T23:48:07.133Z: Initializing sensor logging service
2025-04-27T23:48:07.134Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-04-27T23:48:07.135Z: Using existing log file
2025-04-27T23:48:07.136Z: Log stream created and logging enabled
2025-04-27T23:48:07.137Z: No polling was active to stop
2025-04-27T23:48:07.138Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-04-27T23:48:07.138Z: Polling interval set with ID: 806
2025-04-27T23:48:07.139Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-04-27T23:48:07.139Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-04-27T23:48:07.147Z: Initializing sensor logging service
2025-04-27T23:48:07.148Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-04-27T23:48:07.148Z: Using existing log file
2025-04-27T23:48:07.149Z: Closing existing log stream before creating new one
2025-04-27T23:48:07.149Z: Log stream created and logging enabled
2025-04-27T23:48:07.150Z: Stopping sensor polling interval: 806
2025-04-27T23:48:07.150Z: Closing logging service
2025-04-27T23:48:07.150Z: Closing sensor logging service
2025-04-27T23:48:07.150Z: Closing log stream
2025-04-27T23:48:07.150Z: Logging stopped at 2025-04-27T23:48:07.150Z
2025-04-27T23:48:07.151Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-04-27T23:48:07.151Z: Polling interval set with ID: 865
2025-04-27T23:48:07.152Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-04-27T23:48:07.152Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-04-27T23:48:07.139Z: Received motion sensor data: {"motionDetected":true}
2025-04-27T23:48:07.139Z: Formatted motion sensor events: [{"name":"living room motion detected","value":true,"roomName":"Living Room","spaceId":"41413915"}]
2025-04-27T23:48:07.299Z: logSensorData called with 1 sensors
2025-04-27T23:48:07.299Z: WARNING - Logging is disabled but logSensorData was called
2025-04-27T23:48:07.299Z: Attempting to re-initialize logging with existing events
2025-04-27T23:48:07.301Z: Initializing sensor logging service
2025-04-27T23:48:07.302Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-04-27T23:48:07.302Z: Using existing log file
2025-04-27T23:48:07.299Z: ERROR - Logging service not initialized (logStream is null)
2025-04-27T23:48:07.139Z: ERROR - Failed to log motion sensor data: Logging service not initialized
2025-04-27T23:48:07.139Z: Failed to update motion event living room motion detected: Event living room motion detected not found
2025-04-27T23:48:07.304Z: Initial Motion sensor polling result: {"success":true,"updatedEvents":[],"totalEvents":1,"successfulUpdates":0}
2025-04-27T23:48:07.308Z: Log stream created and logging enabled
2025-04-27T23:48:07.299Z: Re-initialization result: {"success":true,"message":"Sensor logging initialized to C:\\Users\\amin\\Desktop\\smart-space\\SmartSchool-Server\\logs\\sensor_data.csv","columns":[["living room temperature",1],["living room humidity",2],["living room motion detected",3]]}
2025-04-27T23:48:07.152Z: Received motion sensor data: {"motionDetected":true}
2025-04-27T23:48:07.152Z: Formatted motion sensor events: [{"name":"living room motion detected","value":true,"roomName":"Living Room","spaceId":"41413915"}]
2025-04-27T23:48:07.465Z: logSensorData called with 1 sensors
2025-04-27T23:48:07.465Z: Column map has 3 columns: [["living room temperature",1],["living room humidity",2],["living room motion detected",3]]
2025-04-27T23:48:07.465Z: Setting spaceId column 4 to 41413915
2025-04-27T23:48:07.465Z: Setting column 3 (living room motion detected) to true
2025-04-27T23:48:07.465Z: Writing row to log file: 2025-04-27 23:48:07,,,true,41413915
2025-04-27T23:48:07.465Z: Successfully wrote to log file using appendFileSync
2025-04-27T23:48:07.152Z: Successfully logged motion sensor data
2025-04-27T23:48:07.152Z: Failed to update motion event living room motion detected: Event living room motion detected not found
2025-04-27T23:48:07.468Z: Initial Motion sensor polling result: {"success":true,"updatedEvents":[],"totalEvents":1,"successfulUpdates":0}
2025-04-27T23:48:10.872Z: Initializing sensor logging service
2025-04-27T23:48:10.873Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-04-27T23:48:10.873Z: Using existing log file
2025-04-27T23:48:10.875Z: Log stream created and logging enabled
2025-04-27T23:48:10.875Z: No polling was active to stop
2025-04-27T23:48:10.876Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-04-27T23:48:10.876Z: Polling interval set with ID: 831
2025-04-27T23:48:10.877Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-04-27T23:48:10.878Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-04-27T23:48:10.878Z: Received motion sensor data: {"motionDetected":false}
2025-04-27T23:48:10.878Z: Formatted motion sensor events: [{"name":"living room motion detected","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-04-27T23:48:11.110Z: logSensorData called with 1 sensors
2025-04-27T23:48:11.110Z: Column map has 3 columns: [["living room temperature",1],["living room humidity",2],["living room motion detected",3]]
2025-04-27T23:48:11.110Z: Setting spaceId column 4 to 41413915
2025-04-27T23:48:11.110Z: Setting column 3 (living room motion detected) to false
2025-04-27T23:48:11.110Z: Writing row to log file: 2025-04-27 23:48:11,,,false,41413915
2025-04-27T23:48:11.110Z: Successfully wrote to log file using appendFileSync
2025-04-27T23:48:10.878Z: Successfully logged motion sensor data
2025-04-27T23:48:10.878Z: Failed to update motion event living room motion detected: Event living room motion detected not found
2025-04-27T23:48:11.113Z: Initial Motion sensor polling result: {"success":true,"updatedEvents":[],"totalEvents":1,"successfulUpdates":0}
2025-04-27T23:48:11.278Z: Initializing sensor logging service
2025-04-27T23:48:11.278Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-04-27T23:48:11.279Z: Using existing log file
2025-04-27T23:48:11.280Z: Closing existing log stream before creating new one
2025-04-27T23:48:11.280Z: Log stream created and logging enabled
2025-04-27T23:48:11.281Z: Stopping sensor polling interval: 831
2025-04-27T23:48:11.281Z: Closing logging service
2025-04-27T23:48:11.281Z: Closing sensor logging service
2025-04-27T23:48:11.281Z: Closing log stream
2025-04-27T23:48:11.281Z: Logging stopped at 2025-04-27T23:48:11.281Z
2025-04-27T23:48:11.283Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-04-27T23:48:11.283Z: Polling interval set with ID: 1037
2025-04-27T23:48:11.283Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-04-27T23:48:11.284Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-04-27T23:48:10.877Z: Received sensor data: {"temperature":21.2,"humidity":67.7}
2025-04-27T23:48:10.877Z: Formatted events: [{"name":"living room temperature","value":21.2,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":67.7,"roomName":"Living Room","spaceId":"41413915"}]
2025-04-27T23:48:11.418Z: logSensorData called with 2 sensors
2025-04-27T23:48:11.418Z: WARNING - Logging is disabled but logSensorData was called
2025-04-27T23:48:11.418Z: Attempting to re-initialize logging with existing events
2025-04-27T23:48:11.418Z: Initializing sensor logging service
2025-04-27T23:48:11.419Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-04-27T23:48:11.420Z: Using existing log file
2025-04-27T23:48:11.418Z: ERROR - Logging service not initialized (logStream is null)
2025-04-27T23:48:10.877Z: ERROR - Failed to log sensor data: Logging service not initialized
2025-04-27T23:48:10.877Z: Successfully updated event: living room temperature = 21.2
2025-04-27T23:48:10.877Z: Successfully updated event: living room humidity = 67.7
2025-04-27T23:48:11.422Z: Initial Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":21.2,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":67.7,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-04-27T23:48:11.423Z: Log stream created and logging enabled
2025-04-27T23:48:11.418Z: Re-initialization result: {"success":true,"message":"Sensor logging initialized to C:\\Users\\amin\\Desktop\\smart-space\\SmartSchool-Server\\logs\\sensor_data.csv","columns":[["living room temperature",1],["living room humidity",2],["living room motion detected",3]]}
2025-04-27T23:48:11.284Z: Received motion sensor data: {"motionDetected":false}
2025-04-27T23:48:11.284Z: Formatted motion sensor events: [{"name":"living room motion detected","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-04-27T23:48:11.581Z: logSensorData called with 1 sensors
2025-04-27T23:48:11.581Z: Column map has 3 columns: [["living room temperature",1],["living room humidity",2],["living room motion detected",3]]
2025-04-27T23:48:11.581Z: Setting spaceId column 4 to 41413915
2025-04-27T23:48:11.581Z: Setting column 3 (living room motion detected) to false
2025-04-27T23:48:11.581Z: Writing row to log file: 2025-04-27 23:48:11,,,false,41413915
2025-04-27T23:48:11.581Z: Successfully wrote to log file using appendFileSync
2025-04-27T23:48:11.284Z: Successfully logged motion sensor data
2025-04-27T23:48:11.284Z: Failed to update motion event living room motion detected: Event living room motion detected not found
2025-04-27T23:48:11.584Z: Initial Motion sensor polling result: {"success":true,"updatedEvents":[],"totalEvents":1,"successfulUpdates":0}
2025-04-27T23:48:11.283Z: Received sensor data: {"temperature":21.2,"humidity":67.7}
2025-04-27T23:48:11.283Z: Formatted events: [{"name":"living room temperature","value":21.2,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":67.7,"roomName":"Living Room","spaceId":"41413915"}]
2025-04-27T23:48:11.813Z: logSensorData called with 2 sensors
2025-04-27T23:48:11.813Z: Column map has 3 columns: [["living room temperature",1],["living room humidity",2],["living room motion detected",3]]
2025-04-27T23:48:11.813Z: Setting spaceId column 4 to 41413915
2025-04-27T23:48:11.813Z: Setting column 1 (living room temperature) to 21.2
2025-04-27T23:48:11.813Z: Setting column 2 (living room humidity) to 67.7
2025-04-27T23:48:11.813Z: Writing row to log file: 2025-04-27 23:48:11,21.2,67.7,,41413915
2025-04-27T23:48:11.813Z: Successfully wrote to log file using appendFileSync
2025-04-27T23:48:11.283Z: Successfully logged sensor data
2025-04-27T23:48:11.283Z: Successfully updated event: living room temperature = 21.2
2025-04-27T23:48:11.283Z: Successfully updated event: living room humidity = 67.7
2025-04-27T23:48:11.819Z: Initial Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":21.2,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":67.7,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-04-27T23:48:14.596Z: Initializing sensor logging service
2025-04-27T23:48:14.596Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-04-27T23:48:14.597Z: Using existing log file
2025-04-27T23:48:14.598Z: Log stream created and logging enabled
2025-04-27T23:48:14.599Z: No polling was active to stop
2025-04-27T23:48:14.600Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-04-27T23:48:14.600Z: Polling interval set with ID: 837
2025-04-27T23:48:14.600Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-04-27T23:48:14.601Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-04-27T23:48:14.640Z: Initializing sensor logging service
2025-04-27T23:48:14.640Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-04-27T23:48:14.641Z: Using existing log file
2025-04-27T23:48:14.642Z: Closing existing log stream before creating new one
2025-04-27T23:48:14.643Z: Log stream created and logging enabled
2025-04-27T23:48:14.643Z: Stopping sensor polling interval: 837
2025-04-27T23:48:14.643Z: Closing logging service
2025-04-27T23:48:14.644Z: Closing sensor logging service
2025-04-27T23:48:14.644Z: Closing log stream
2025-04-27T23:48:14.644Z: Logging stopped at 2025-04-27T23:48:14.644Z
2025-04-27T23:48:14.645Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-04-27T23:48:14.645Z: Polling interval set with ID: 908
2025-04-27T23:48:14.645Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-04-27T23:48:14.646Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-04-27T23:48:14.601Z: Received motion sensor data: {"motionDetected":true}
2025-04-27T23:48:14.601Z: Formatted motion sensor events: [{"name":"living room motion detected","value":true,"roomName":"Living Room","spaceId":"41413915"}]
2025-04-27T23:48:14.831Z: logSensorData called with 1 sensors
2025-04-27T23:48:14.831Z: WARNING - Logging is disabled but logSensorData was called
2025-04-27T23:48:14.831Z: Attempting to re-initialize logging with existing events
2025-04-27T23:48:14.832Z: Initializing sensor logging service
2025-04-27T23:48:14.832Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-04-27T23:48:14.832Z: Using existing log file
2025-04-27T23:48:14.831Z: ERROR - Logging service not initialized (logStream is null)
2025-04-27T23:48:14.601Z: ERROR - Failed to log motion sensor data: Logging service not initialized
2025-04-27T23:48:14.601Z: Failed to update motion event living room motion detected: Event living room motion detected not found
2025-04-27T23:48:14.834Z: Initial Motion sensor polling result: {"success":true,"updatedEvents":[],"totalEvents":1,"successfulUpdates":0}
2025-04-27T23:48:14.834Z: Log stream created and logging enabled
2025-04-27T23:48:14.831Z: Re-initialization result: {"success":true,"message":"Sensor logging initialized to C:\\Users\\amin\\Desktop\\smart-space\\SmartSchool-Server\\logs\\sensor_data.csv","columns":[["living room temperature",1],["living room humidity",2],["living room motion detected",3]]}
2025-04-27T23:48:14.646Z: Received motion sensor data: {"motionDetected":true}
2025-04-27T23:48:14.646Z: Formatted motion sensor events: [{"name":"living room motion detected","value":true,"roomName":"Living Room","spaceId":"41413915"}]
2025-04-27T23:48:14.943Z: logSensorData called with 1 sensors
2025-04-27T23:48:14.943Z: Column map has 3 columns: [["living room temperature",1],["living room humidity",2],["living room motion detected",3]]
2025-04-27T23:48:14.943Z: Setting spaceId column 4 to 41413915
2025-04-27T23:48:14.943Z: Setting column 3 (living room motion detected) to true
2025-04-27T23:48:14.943Z: Writing row to log file: 2025-04-27 23:48:14,,,true,41413915
2025-04-27T23:48:14.943Z: Successfully wrote to log file using appendFileSync
2025-04-27T23:48:14.646Z: Successfully logged motion sensor data
2025-04-27T23:48:14.646Z: Failed to update motion event living room motion detected: Event living room motion detected not found
2025-04-27T23:48:14.947Z: Initial Motion sensor polling result: {"success":true,"updatedEvents":[],"totalEvents":1,"successfulUpdates":0}
2025-04-27T23:48:14.600Z: Received sensor data: {"temperature":21.2,"humidity":67.7}
2025-04-27T23:48:14.600Z: Formatted events: [{"name":"living room temperature","value":21.2,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":67.7,"roomName":"Living Room","spaceId":"41413915"}]
2025-04-27T23:48:15.164Z: logSensorData called with 2 sensors
2025-04-27T23:48:15.164Z: Column map has 3 columns: [["living room temperature",1],["living room humidity",2],["living room motion detected",3]]
2025-04-27T23:48:15.164Z: Setting spaceId column 4 to 41413915
2025-04-27T23:48:15.164Z: Setting column 1 (living room temperature) to 21.2
2025-04-27T23:48:15.164Z: Setting column 2 (living room humidity) to 67.7
2025-04-27T23:48:15.164Z: Writing row to log file: 2025-04-27 23:48:15,21.2,67.7,,41413915
2025-04-27T23:48:15.164Z: Successfully wrote to log file using appendFileSync
2025-04-27T23:48:14.600Z: Successfully logged sensor data
2025-04-27T23:48:14.600Z: Successfully updated event: living room temperature = 21.2
2025-04-27T23:48:14.600Z: Successfully updated event: living room humidity = 67.7
2025-04-27T23:48:15.168Z: Initial Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":21.2,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":67.7,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-04-27T23:48:14.645Z: Received sensor data: {"temperature":21.2,"humidity":67.7}
2025-04-27T23:48:14.645Z: Formatted events: [{"name":"living room temperature","value":21.2,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":67.7,"roomName":"Living Room","spaceId":"41413915"}]
2025-04-27T23:48:15.378Z: logSensorData called with 2 sensors
2025-04-27T23:48:15.378Z: Column map has 3 columns: [["living room temperature",1],["living room humidity",2],["living room motion detected",3]]
2025-04-27T23:48:15.378Z: Setting spaceId column 4 to 41413915
2025-04-27T23:48:15.378Z: Setting column 1 (living room temperature) to 21.2
2025-04-27T23:48:15.378Z: Setting column 2 (living room humidity) to 67.7
2025-04-27T23:48:15.378Z: Writing row to log file: 2025-04-27 23:48:15,21.2,67.7,,41413915
2025-04-27T23:48:15.378Z: Successfully wrote to log file using appendFileSync
2025-04-27T23:48:14.645Z: Successfully logged sensor data
2025-04-27T23:48:14.645Z: Successfully updated event: living room temperature = 21.2
2025-04-27T23:48:14.645Z: Successfully updated event: living room humidity = 67.7
2025-04-27T23:48:15.381Z: Initial Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":21.2,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":67.7,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-04-27T23:48:43.142Z: Initializing sensor logging service
2025-04-27T23:48:43.143Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-04-27T23:48:43.144Z: Using existing log file
2025-04-27T23:48:43.145Z: Log stream created and logging enabled
2025-04-27T23:48:43.145Z: No polling was active to stop
2025-04-27T23:48:43.146Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-04-27T23:48:43.146Z: Polling interval set with ID: 812
2025-04-27T23:48:43.147Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-04-27T23:48:43.148Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-04-27T23:48:43.148Z: Received motion sensor data: {"motionDetected":false}
2025-04-27T23:48:43.148Z: Formatted motion sensor events: [{"name":"living room motion detected","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-04-27T23:48:43.306Z: logSensorData called with 1 sensors
2025-04-27T23:48:43.306Z: Column map has 3 columns: [["living room temperature",1],["living room humidity",2],["living room motion detected",3]]
2025-04-27T23:48:43.306Z: Setting spaceId column 4 to 41413915
2025-04-27T23:48:43.306Z: Setting column 3 (living room motion detected) to false
2025-04-27T23:48:43.306Z: Writing row to log file: 2025-04-27 23:48:43,,,false,41413915
2025-04-27T23:48:43.306Z: Successfully wrote to log file using appendFileSync
2025-04-27T23:48:43.148Z: Successfully logged motion sensor data
2025-04-27T23:48:43.148Z: Failed to update motion event living room motion detected: Event living room motion detected not found
2025-04-27T23:48:43.309Z: Initial Motion sensor polling result: {"success":true,"updatedEvents":[],"totalEvents":1,"successfulUpdates":0}
2025-04-27T23:48:43.602Z: Initializing sensor logging service
2025-04-27T23:48:43.602Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-04-27T23:48:43.603Z: Using existing log file
2025-04-27T23:48:43.604Z: Closing existing log stream before creating new one
2025-04-27T23:48:43.604Z: Log stream created and logging enabled
2025-04-27T23:48:43.605Z: Stopping sensor polling interval: 812
2025-04-27T23:48:43.605Z: Closing logging service
2025-04-27T23:48:43.605Z: Closing sensor logging service
2025-04-27T23:48:43.605Z: Closing log stream
2025-04-27T23:48:43.605Z: Logging stopped at 2025-04-27T23:48:43.605Z
2025-04-27T23:48:43.606Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-04-27T23:48:43.606Z: Polling interval set with ID: 942
2025-04-27T23:48:43.607Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-04-27T23:48:43.607Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-04-27T23:48:43.147Z: Received sensor data: {"temperature":21.2,"humidity":67.7}
2025-04-27T23:48:43.147Z: Formatted events: [{"name":"living room temperature","value":21.2,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":67.7,"roomName":"Living Room","spaceId":"41413915"}]
2025-04-27T23:48:43.779Z: logSensorData called with 2 sensors
2025-04-27T23:48:43.779Z: WARNING - Logging is disabled but logSensorData was called
2025-04-27T23:48:43.779Z: Attempting to re-initialize logging with existing events
2025-04-27T23:48:43.780Z: Initializing sensor logging service
2025-04-27T23:48:43.780Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-04-27T23:48:43.781Z: Using existing log file
2025-04-27T23:48:43.779Z: ERROR - Logging service not initialized (logStream is null)
2025-04-27T23:48:43.147Z: ERROR - Failed to log sensor data: Logging service not initialized
2025-04-27T23:48:43.147Z: Successfully updated event: living room temperature = 21.2
2025-04-27T23:48:43.147Z: Successfully updated event: living room humidity = 67.7
2025-04-27T23:48:43.783Z: Initial Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":21.2,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":67.7,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-04-27T23:48:43.787Z: Log stream created and logging enabled
2025-04-27T23:48:43.779Z: Re-initialization result: {"success":true,"message":"Sensor logging initialized to C:\\Users\\amin\\Desktop\\smart-space\\SmartSchool-Server\\logs\\sensor_data.csv","columns":[["living room temperature",1],["living room humidity",2],["living room motion detected",3]]}
2025-04-27T23:48:43.607Z: Received motion sensor data: {"motionDetected":false}
2025-04-27T23:48:43.607Z: Formatted motion sensor events: [{"name":"living room motion detected","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-04-27T23:48:43.920Z: logSensorData called with 1 sensors
2025-04-27T23:48:43.920Z: Column map has 3 columns: [["living room temperature",1],["living room humidity",2],["living room motion detected",3]]
2025-04-27T23:48:43.920Z: Setting spaceId column 4 to 41413915
2025-04-27T23:48:43.920Z: Setting column 3 (living room motion detected) to false
2025-04-27T23:48:43.920Z: Writing row to log file: 2025-04-27 23:48:43,,,false,41413915
2025-04-27T23:48:43.920Z: Successfully wrote to log file using appendFileSync
2025-04-27T23:48:43.607Z: Successfully logged motion sensor data
2025-04-27T23:48:43.607Z: Failed to update motion event living room motion detected: Event living room motion detected not found
2025-04-27T23:48:43.923Z: Initial Motion sensor polling result: {"success":true,"updatedEvents":[],"totalEvents":1,"successfulUpdates":0}
2025-04-27T23:48:43.607Z: Received sensor data: {"temperature":21.2,"humidity":67.7}
2025-04-27T23:48:43.607Z: Formatted events: [{"name":"living room temperature","value":21.2,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":67.7,"roomName":"Living Room","spaceId":"41413915"}]
2025-04-27T23:48:44.191Z: logSensorData called with 2 sensors
2025-04-27T23:48:44.191Z: Column map has 3 columns: [["living room temperature",1],["living room humidity",2],["living room motion detected",3]]
2025-04-27T23:48:44.191Z: Setting spaceId column 4 to 41413915
2025-04-27T23:48:44.191Z: Setting column 1 (living room temperature) to 21.2
2025-04-27T23:48:44.191Z: Setting column 2 (living room humidity) to 67.7
2025-04-27T23:48:44.191Z: Writing row to log file: 2025-04-27 23:48:44,21.2,67.7,,41413915
2025-04-27T23:48:44.191Z: Successfully wrote to log file using appendFileSync
2025-04-27T23:48:43.607Z: Successfully logged sensor data
2025-04-27T23:48:43.607Z: Successfully updated event: living room temperature = 21.2
2025-04-27T23:48:43.607Z: Successfully updated event: living room humidity = 67.7
2025-04-27T23:48:44.194Z: Initial Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":21.2,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":67.7,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
