2025-05-20T11:24:38.999Z: Initializing sensor logging service
2025-05-20T11:24:39.000Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-20T11:24:39.001Z: Added light_state column to event names
2025-05-20T11:24:39.001Z: Added ac_state column to event names
2025-05-20T11:24:39.002Z: Created new log file with header: timestamp,living room temperature,living room humidity,living room motion,light_state,ac_state,spaceId
2025-05-20T11:24:39.002Z: Logging enabled
2025-05-20T11:24:39.003Z: No polling was active to stop
2025-05-20T11:24:39.004Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-05-20T11:24:39.004Z: Polling interval set with ID: 1301
2025-05-20T11:24:39.005Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-20T11:24:39.006Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-20T11:24:39.072Z: Initializing sensor logging service
2025-05-20T11:24:39.073Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-20T11:24:39.073Z: Added light_state column to event names
2025-05-20T11:24:39.074Z: Added ac_state column to event names
2025-05-20T11:24:39.074Z: Using existing log file
2025-05-20T11:24:39.076Z: Closing existing log stream before creating new one
2025-05-20T11:24:39.076Z: Logging enabled
2025-05-20T11:24:39.077Z: Stopping sensor polling interval: 1301
2025-05-20T11:24:39.077Z: Closing logging service
2025-05-20T11:24:39.077Z: Closing sensor logging service
2025-05-20T11:24:39.077Z: Closing log stream
2025-05-20T11:24:39.077Z: Logging stopped at 2025-05-20T11:24:39.077Z
2025-05-20T11:24:39.079Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-05-20T11:24:39.079Z: Polling interval set with ID: 1593
2025-05-20T11:24:39.080Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-20T11:24:39.080Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-20T11:24:39.006Z: Received motion sensor data: {"motionDetected":false}
2025-05-20T11:24:39.006Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-20T11:24:39.006Z: Successfully updated motion event: living room motion = false
2025-05-20T11:24:39.080Z: Received motion sensor data: {"motionDetected":false}
2025-05-20T11:24:39.080Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-20T11:24:39.080Z: Successfully updated motion event: living room motion = false
2025-05-20T11:24:39.005Z: Received sensor data: {"temperature":23.4,"humidity":57.2}
2025-05-20T11:24:39.005Z: Formatted events: [{"name":"living room temperature","value":23.4,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":57.2,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-20T11:24:39.005Z: Successfully updated event: living room temperature = 23.4
2025-05-20T11:24:39.005Z: Successfully updated event: living room humidity = 57.2
2025-05-20T11:24:39.766Z: Creating a combined row with motion=false, temp=23.4, humidity=57.2, light=true, ac_on=false
2025-05-20T11:24:39.767Z: logSensorData called with 5 sensors
2025-05-20T11:24:39.767Z: WARNING - Logging is disabled but logSensorData was called
2025-05-20T11:24:39.767Z: Attempting to re-initialize logging with existing events
2025-05-20T11:24:39.768Z: Initializing sensor logging service
2025-05-20T11:24:39.769Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-20T11:24:39.770Z: Using existing log file
2025-05-20T11:24:39.767Z: Column map has 5 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5]]
2025-05-20T11:24:39.767Z: Setting spaceId column 6 to 41413915
2025-05-20T11:24:39.767Z: Setting column 3 (living room motion) to false
2025-05-20T11:24:39.767Z: Setting column 1 (living room temperature) to 23.4
2025-05-20T11:24:39.767Z: Setting column 2 (living room humidity) to 57.2
2025-05-20T11:24:39.767Z: Setting column 4 (light_state) to true
2025-05-20T11:24:39.767Z: Setting column 5 (ac_state) to false
2025-05-20T11:24:39.767Z: Preparing row: 2025-05-20 11:24:39,23.4,57.2,false,true,false,41413915
2025-05-20T11:24:39.767Z: Successfully wrote to log file using writeFileSync
2025-05-20T11:24:39.766Z: Successfully logged combined sensor data in one row
2025-05-20T11:24:39.772Z: Initial combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-20T11:24:39.773Z: Logging enabled
2025-05-20T11:24:39.767Z: Re-initialization result: {"success":true,"message":"Sensor logging initialized to C:\\Users\\amin\\Desktop\\smart-space\\SmartSchool-Server\\logs\\sensor_data.csv","columns":[["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5]]}
2025-05-20T11:24:39.080Z: Received sensor data: {"temperature":23.4,"humidity":57.2}
2025-05-20T11:24:39.080Z: Formatted events: [{"name":"living room temperature","value":23.4,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":57.2,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-20T11:24:39.080Z: Successfully updated event: living room temperature = 23.4
2025-05-20T11:24:39.080Z: Successfully updated event: living room humidity = 57.2
2025-05-20T11:24:39.794Z: Creating a combined row with motion=false, temp=23.4, humidity=57.2, light=true, ac_on=false
2025-05-20T11:24:39.794Z: logSensorData called with 5 sensors
2025-05-20T11:24:39.794Z: Column map has 5 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5]]
2025-05-20T11:24:39.794Z: Setting spaceId column 6 to 41413915
2025-05-20T11:24:39.794Z: Setting column 3 (living room motion) to false
2025-05-20T11:24:39.794Z: Setting column 1 (living room temperature) to 23.4
2025-05-20T11:24:39.794Z: Setting column 2 (living room humidity) to 57.2
2025-05-20T11:24:39.794Z: Setting column 4 (light_state) to true
2025-05-20T11:24:39.794Z: Setting column 5 (ac_state) to false
2025-05-20T11:24:39.794Z: Preparing row: 2025-05-20 11:24:39,23.4,57.2,false,true,false,41413915
2025-05-20T11:24:39.794Z: Successfully wrote to log file using writeFileSync
2025-05-20T11:24:39.794Z: Successfully logged combined sensor data in one row
2025-05-20T11:24:39.800Z: Initial combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-20T11:26:19.090Z: Polling for sensor data... (poll #1)
2025-05-20T11:26:19.091Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-21T20:49:44.913Z: Initializing sensor logging service
2025-05-21T20:49:44.914Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-21T20:49:44.915Z: Added light_state column to event names
2025-05-21T20:49:44.915Z: Added ac_state column to event names
2025-05-21T20:49:44.916Z: Using existing log file
2025-05-21T20:49:44.917Z: Logging enabled
2025-05-21T20:49:44.918Z: No polling was active to stop
2025-05-21T20:49:44.918Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-05-21T20:49:44.918Z: Polling interval set with ID: 1264
2025-05-21T20:49:44.919Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-21T20:49:44.920Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-21T20:49:44.920Z: Received motion sensor data: {"motionDetected":true}
2025-05-21T20:49:44.920Z: Formatted motion sensor events: [{"name":"living room motion","value":true,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-21T20:49:44.920Z: Successfully updated motion event: living room motion = true
2025-05-21T20:49:45.305Z: Initializing sensor logging service
2025-05-21T20:49:45.305Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-21T20:49:45.306Z: Added light_state column to event names
2025-05-21T20:49:45.306Z: Added ac_state column to event names
2025-05-21T20:49:45.306Z: Using existing log file
2025-05-21T20:49:45.307Z: Closing existing log stream before creating new one
2025-05-21T20:49:45.308Z: Logging enabled
2025-05-21T20:49:45.308Z: Stopping sensor polling interval: 1264
2025-05-21T20:49:45.308Z: Closing logging service
2025-05-21T20:49:45.309Z: Closing sensor logging service
2025-05-21T20:49:45.309Z: Closing log stream
2025-05-21T20:49:45.309Z: Logging stopped at 2025-05-21T20:49:45.309Z
2025-05-21T20:49:45.310Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-05-21T20:49:45.310Z: Polling interval set with ID: 1695
2025-05-21T20:49:45.310Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-21T20:49:45.311Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-21T20:49:44.919Z: Received sensor data: {"temperature":23.2,"humidity":63.4}
2025-05-21T20:49:44.919Z: Formatted events: [{"name":"living room temperature","value":23.2,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":63.4,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-21T20:49:44.919Z: Successfully updated event: living room temperature = 23.2
2025-05-21T20:49:44.919Z: Successfully updated event: living room humidity = 63.4
2025-05-21T20:49:45.311Z: Received motion sensor data: {"motionDetected":true}
2025-05-21T20:49:45.311Z: Formatted motion sensor events: [{"name":"living room motion","value":true,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-21T20:49:45.311Z: Successfully updated motion event: living room motion = true
2025-05-21T20:49:45.667Z: Creating a combined row with motion=true, temp=23.2, humidity=63.4, light=false, ac_on=false
2025-05-21T20:49:45.668Z: logSensorData called with 5 sensors
2025-05-21T20:49:45.668Z: WARNING - Logging is disabled but logSensorData was called
2025-05-21T20:49:45.668Z: Attempting to re-initialize logging with existing events
2025-05-21T20:49:45.668Z: Initializing sensor logging service
2025-05-21T20:49:45.668Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-21T20:49:45.669Z: Using existing log file
2025-05-21T20:49:45.668Z: Column map has 5 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5]]
2025-05-21T20:49:45.668Z: Setting spaceId column 6 to 41413915
2025-05-21T20:49:45.668Z: Setting column 3 (living room motion) to true
2025-05-21T20:49:45.668Z: Setting column 1 (living room temperature) to 23.2
2025-05-21T20:49:45.668Z: Setting column 2 (living room humidity) to 63.4
2025-05-21T20:49:45.668Z: Setting column 4 (light_state) to false
2025-05-21T20:49:45.668Z: Setting column 5 (ac_state) to false
2025-05-21T20:49:45.668Z: Preparing row: 2025-05-21 20:49:45,23.2,63.4,true,false,false,41413915
2025-05-21T20:49:45.668Z: Successfully wrote to log file using writeFileSync
2025-05-21T20:49:45.667Z: Successfully logged combined sensor data in one row
2025-05-21T20:49:45.672Z: Initial combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-21T20:49:45.673Z: Logging enabled
2025-05-21T20:49:45.668Z: Re-initialization result: {"success":true,"message":"Sensor logging initialized to C:\\Users\\amin\\Desktop\\smart-space\\SmartSchool-Server\\logs\\sensor_data.csv","columns":[["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5]]}
2025-05-21T20:49:45.310Z: Received sensor data: {"temperature":23.2,"humidity":63.4}
2025-05-21T20:49:45.310Z: Formatted events: [{"name":"living room temperature","value":23.2,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":63.4,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-21T20:49:45.310Z: Successfully updated event: living room temperature = 23.2
2025-05-21T20:49:45.310Z: Successfully updated event: living room humidity = 63.4
2025-05-21T20:49:46.429Z: Creating a combined row with motion=true, temp=23.2, humidity=63.4, light=false, ac_on=false
2025-05-21T20:49:46.430Z: logSensorData called with 5 sensors
2025-05-21T20:49:46.430Z: Column map has 5 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5]]
2025-05-21T20:49:46.430Z: Setting spaceId column 6 to 41413915
2025-05-21T20:49:46.430Z: Setting column 3 (living room motion) to true
2025-05-21T20:49:46.430Z: Setting column 1 (living room temperature) to 23.2
2025-05-21T20:49:46.430Z: Setting column 2 (living room humidity) to 63.4
2025-05-21T20:49:46.430Z: Setting column 4 (light_state) to false
2025-05-21T20:49:46.430Z: Setting column 5 (ac_state) to false
2025-05-21T20:49:46.430Z: Preparing row: 2025-05-21 20:49:46,23.2,63.4,true,false,false,41413915
2025-05-21T20:49:46.430Z: Successfully wrote to log file using writeFileSync
2025-05-21T20:49:46.429Z: Successfully logged combined sensor data in one row
2025-05-21T20:49:46.433Z: Initial combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-21T20:51:25.322Z: Polling for sensor data... (poll #1)
2025-05-21T20:51:25.322Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-21T20:51:25.322Z: Received sensor data: {"temperature":23.2,"humidity":63.4}
2025-05-21T20:51:25.322Z: Formatted events: [{"name":"living room temperature","value":23.2,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":63.4,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-21T20:51:25.322Z: Successfully updated event: living room temperature = 23.2
2025-05-21T20:51:25.322Z: Successfully updated event: living room humidity = 63.4
2025-05-21T20:51:25.915Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":23.2,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":63.4,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-21T20:51:25.915Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-21T20:51:25.915Z: Received motion sensor data: {"motionDetected":false}
2025-05-21T20:51:25.915Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-21T20:51:25.915Z: Successfully updated motion event: living room motion = false
2025-05-21T20:51:26.066Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-21T20:51:26.661Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":false,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-21T20:51:26.647935Z"}}
2025-05-21T20:51:26.661Z: Extracted AC on state: false
2025-05-21T20:51:26.989Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":false},"success":true}
2025-05-21T20:51:26.989Z: Extracted light state: false
2025-05-21T20:51:26.990Z: Creating a combined row with motion=false, temp=23.2, humidity=63.4, light=false, ac_on=false
2025-05-21T20:51:26.990Z: logSensorData called with 5 sensors
2025-05-21T20:51:26.990Z: Column map has 5 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5]]
2025-05-21T20:51:26.990Z: Setting spaceId column 6 to 41413915
2025-05-21T20:51:26.990Z: Setting column 3 (living room motion) to false
2025-05-21T20:51:26.990Z: Setting column 1 (living room temperature) to 23.2
2025-05-21T20:51:26.990Z: Setting column 2 (living room humidity) to 63.4
2025-05-21T20:51:26.990Z: Setting column 4 (light_state) to false
2025-05-21T20:51:26.990Z: Setting column 5 (ac_state) to false
2025-05-21T20:51:26.990Z: Preparing row: 2025-05-21 20:51:26,23.2,63.4,false,false,false,41413915
2025-05-21T20:51:26.990Z: Successfully wrote to log file using writeFileSync
2025-05-21T20:51:26.990Z: Successfully logged combined sensor data in one row
2025-05-21T20:51:26.993Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-21T20:51:26.993Z: Polling interval active: true
2025-05-21T20:53:05.336Z: Polling for sensor data... (poll #2)
2025-05-21T20:53:05.337Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-21T20:53:05.337Z: Received sensor data: {"temperature":23.2,"humidity":63.4}
2025-05-21T20:53:05.337Z: Formatted events: [{"name":"living room temperature","value":23.2,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":63.4,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-21T20:53:05.337Z: Successfully updated event: living room temperature = 23.2
2025-05-21T20:53:05.337Z: Successfully updated event: living room humidity = 63.4
2025-05-21T20:53:05.885Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":23.2,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":63.4,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-21T20:53:05.885Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-21T20:53:05.885Z: Received motion sensor data: {"motionDetected":false}
2025-05-21T20:53:05.885Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-21T20:53:05.885Z: Successfully updated motion event: living room motion = false
2025-05-21T20:53:06.027Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-21T20:53:06.645Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":false,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-21T20:53:06.633923Z"}}
2025-05-21T20:53:06.646Z: Extracted AC on state: false
2025-05-21T20:53:06.979Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":false},"success":true}
2025-05-21T20:53:06.980Z: Extracted light state: false
2025-05-21T20:53:06.980Z: Creating a combined row with motion=false, temp=23.2, humidity=63.4, light=false, ac_on=false
2025-05-21T20:53:06.980Z: logSensorData called with 5 sensors
2025-05-21T20:53:06.980Z: Column map has 5 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5]]
2025-05-21T20:53:06.980Z: Setting spaceId column 6 to 41413915
2025-05-21T20:53:06.980Z: Setting column 3 (living room motion) to false
2025-05-21T20:53:06.980Z: Setting column 1 (living room temperature) to 23.2
2025-05-21T20:53:06.980Z: Setting column 2 (living room humidity) to 63.4
2025-05-21T20:53:06.980Z: Setting column 4 (light_state) to false
2025-05-21T20:53:06.980Z: Setting column 5 (ac_state) to false
2025-05-21T20:53:06.980Z: Preparing row: 2025-05-21 20:53:06,23.2,63.4,false,false,false,41413915
2025-05-21T20:53:06.980Z: Successfully wrote to log file using writeFileSync
2025-05-21T20:53:06.980Z: Successfully logged combined sensor data in one row
2025-05-21T20:53:06.983Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-21T20:53:06.983Z: Polling interval active: true
2025-05-21T20:54:45.348Z: Polling for sensor data... (poll #3)
2025-05-21T20:54:45.349Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-21T20:54:45.349Z: Received sensor data: {"temperature":23.2,"humidity":63.4}
2025-05-21T20:54:45.349Z: Formatted events: [{"name":"living room temperature","value":23.2,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":63.4,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-21T20:54:45.349Z: Successfully updated event: living room temperature = 23.2
2025-05-21T20:54:45.349Z: Successfully updated event: living room humidity = 63.4
2025-05-21T20:54:45.914Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":23.2,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":63.4,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-21T20:54:45.915Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-21T20:54:45.915Z: Received motion sensor data: {"motionDetected":false}
2025-05-21T20:54:45.915Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-21T20:54:45.915Z: Successfully updated motion event: living room motion = false
2025-05-21T20:54:46.131Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-21T20:54:46.724Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":false,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-21T20:54:46.714830Z"}}
2025-05-21T20:54:46.725Z: Extracted AC on state: false
2025-05-21T20:54:47.096Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":false},"success":true}
2025-05-21T20:54:47.097Z: Extracted light state: false
2025-05-21T20:54:47.098Z: Creating a combined row with motion=false, temp=23.2, humidity=63.4, light=false, ac_on=false
2025-05-21T20:54:47.098Z: logSensorData called with 5 sensors
2025-05-21T20:54:47.098Z: Column map has 5 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5]]
2025-05-21T20:54:47.098Z: Setting spaceId column 6 to 41413915
2025-05-21T20:54:47.098Z: Setting column 3 (living room motion) to false
2025-05-21T20:54:47.098Z: Setting column 1 (living room temperature) to 23.2
2025-05-21T20:54:47.098Z: Setting column 2 (living room humidity) to 63.4
2025-05-21T20:54:47.098Z: Setting column 4 (light_state) to false
2025-05-21T20:54:47.098Z: Setting column 5 (ac_state) to false
2025-05-21T20:54:47.098Z: Preparing row: 2025-05-21 20:54:47,23.2,63.4,false,false,false,41413915
2025-05-21T20:54:47.098Z: Successfully wrote to log file using writeFileSync
2025-05-21T20:54:47.098Z: Successfully logged combined sensor data in one row
2025-05-21T20:54:47.103Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-21T20:54:47.103Z: Polling interval active: true
2025-05-21T20:56:25.357Z: Polling for sensor data... (poll #4)
2025-05-21T20:56:25.358Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-21T20:56:25.358Z: Received sensor data: {"temperature":23.2,"humidity":63.4}
2025-05-21T20:56:25.358Z: Formatted events: [{"name":"living room temperature","value":23.2,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":63.4,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-21T20:56:25.358Z: Successfully updated event: living room temperature = 23.2
2025-05-21T20:56:25.358Z: Successfully updated event: living room humidity = 63.4
2025-05-21T20:56:25.940Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":23.2,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":63.4,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-21T20:56:25.941Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-21T20:56:25.941Z: Received motion sensor data: {"motionDetected":false}
2025-05-21T20:56:25.941Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-21T20:56:25.941Z: Successfully updated motion event: living room motion = false
2025-05-21T20:56:26.164Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-21T20:56:26.784Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":false,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-21T20:56:26.776520Z"}}
2025-05-21T20:56:26.785Z: Extracted AC on state: false
2025-05-21T20:56:27.134Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":false},"success":true}
2025-05-21T20:56:27.135Z: Extracted light state: false
2025-05-21T20:56:27.135Z: Creating a combined row with motion=false, temp=23.2, humidity=63.4, light=false, ac_on=false
2025-05-21T20:56:27.136Z: logSensorData called with 5 sensors
2025-05-21T20:56:27.136Z: Column map has 5 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5]]
2025-05-21T20:56:27.136Z: Setting spaceId column 6 to 41413915
2025-05-21T20:56:27.136Z: Setting column 3 (living room motion) to false
2025-05-21T20:56:27.136Z: Setting column 1 (living room temperature) to 23.2
2025-05-21T20:56:27.136Z: Setting column 2 (living room humidity) to 63.4
2025-05-21T20:56:27.136Z: Setting column 4 (light_state) to false
2025-05-21T20:56:27.136Z: Setting column 5 (ac_state) to false
2025-05-21T20:56:27.136Z: Preparing row: 2025-05-21 20:56:27,23.2,63.4,false,false,false,41413915
2025-05-21T20:56:27.136Z: Successfully wrote to log file using writeFileSync
2025-05-21T20:56:27.135Z: Successfully logged combined sensor data in one row
2025-05-21T20:56:27.138Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-21T20:56:27.139Z: Polling interval active: true
2025-05-21T20:58:05.359Z: Polling for sensor data... (poll #5)
2025-05-21T20:58:05.360Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-21T20:58:05.360Z: Received sensor data: {"temperature":23.2,"humidity":63.4}
2025-05-21T20:58:05.360Z: Formatted events: [{"name":"living room temperature","value":23.2,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":63.4,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-21T20:58:05.360Z: Successfully updated event: living room temperature = 23.2
2025-05-21T20:58:05.360Z: Successfully updated event: living room humidity = 63.4
2025-05-21T20:58:05.951Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":23.2,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":63.4,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-21T20:58:05.951Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-21T20:58:05.951Z: Received motion sensor data: {"motionDetected":false}
2025-05-21T20:58:05.951Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-21T20:58:05.951Z: Successfully updated motion event: living room motion = false
2025-05-21T20:58:06.116Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-21T20:58:06.728Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":false,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-21T20:58:06.729428Z"}}
2025-05-21T20:58:06.729Z: Extracted AC on state: false
2025-05-21T20:58:07.076Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":false},"success":true}
2025-05-21T20:58:07.077Z: Extracted light state: false
2025-05-21T20:58:07.077Z: Creating a combined row with motion=false, temp=23.2, humidity=63.4, light=false, ac_on=false
2025-05-21T20:58:07.077Z: logSensorData called with 5 sensors
2025-05-21T20:58:07.077Z: Column map has 5 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5]]
2025-05-21T20:58:07.077Z: Setting spaceId column 6 to 41413915
2025-05-21T20:58:07.077Z: Setting column 3 (living room motion) to false
2025-05-21T20:58:07.077Z: Setting column 1 (living room temperature) to 23.2
2025-05-21T20:58:07.077Z: Setting column 2 (living room humidity) to 63.4
2025-05-21T20:58:07.077Z: Setting column 4 (light_state) to false
2025-05-21T20:58:07.077Z: Setting column 5 (ac_state) to false
2025-05-21T20:58:07.077Z: Preparing row: 2025-05-21 20:58:07,23.2,63.4,false,false,false,41413915
2025-05-21T20:58:07.077Z: Successfully wrote to log file using writeFileSync
2025-05-21T20:58:07.077Z: Successfully logged combined sensor data in one row
2025-05-21T20:58:07.081Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-21T20:58:07.081Z: Polling interval active: true
2025-05-21T20:59:45.362Z: Polling for sensor data... (poll #6)
2025-05-21T20:59:45.363Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-21T20:59:45.363Z: Received sensor data: {"temperature":23.3,"humidity":63.4}
2025-05-21T20:59:45.363Z: Formatted events: [{"name":"living room temperature","value":23.3,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":63.4,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-21T20:59:45.363Z: Successfully updated event: living room temperature = 23.3
2025-05-21T20:59:45.363Z: Successfully updated event: living room humidity = 63.4
2025-05-21T20:59:45.933Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":23.3,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":63.4,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-21T20:59:45.933Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-21T20:59:45.933Z: Received motion sensor data: {"motionDetected":false}
2025-05-21T20:59:45.933Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-21T20:59:45.933Z: Successfully updated motion event: living room motion = false
2025-05-21T20:59:46.084Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-21T20:59:46.615Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":false,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-21T20:59:46.622816Z"}}
2025-05-21T20:59:46.615Z: Extracted AC on state: false
2025-05-21T20:59:46.939Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":false},"success":true}
2025-05-21T20:59:46.940Z: Extracted light state: false
2025-05-21T20:59:46.940Z: Creating a combined row with motion=false, temp=23.3, humidity=63.4, light=false, ac_on=false
2025-05-21T20:59:46.940Z: logSensorData called with 5 sensors
2025-05-21T20:59:46.940Z: Column map has 5 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5]]
2025-05-21T20:59:46.940Z: Setting spaceId column 6 to 41413915
2025-05-21T20:59:46.940Z: Setting column 3 (living room motion) to false
2025-05-21T20:59:46.940Z: Setting column 1 (living room temperature) to 23.3
2025-05-21T20:59:46.940Z: Setting column 2 (living room humidity) to 63.4
2025-05-21T20:59:46.940Z: Setting column 4 (light_state) to false
2025-05-21T20:59:46.940Z: Setting column 5 (ac_state) to false
2025-05-21T20:59:46.940Z: Preparing row: 2025-05-21 20:59:46,23.3,63.4,false,false,false,41413915
2025-05-21T20:59:46.940Z: Successfully wrote to log file using writeFileSync
2025-05-21T20:59:46.940Z: Successfully logged combined sensor data in one row
2025-05-21T20:59:46.943Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-21T20:59:46.944Z: Polling interval active: true
2025-05-21T21:01:25.376Z: Polling for sensor data... (poll #7)
2025-05-21T21:01:25.377Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-21T21:01:25.377Z: Received sensor data: {"temperature":23.3,"humidity":63.4}
2025-05-21T21:01:25.377Z: Formatted events: [{"name":"living room temperature","value":23.3,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":63.4,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-21T21:01:25.377Z: Successfully updated event: living room temperature = 23.3
2025-05-21T21:01:25.377Z: Successfully updated event: living room humidity = 63.4
2025-05-21T21:01:25.997Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":23.3,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":63.4,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-21T21:01:25.997Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-21T21:01:25.997Z: Received motion sensor data: {"motionDetected":false}
2025-05-21T21:01:25.997Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-21T21:01:25.997Z: Successfully updated motion event: living room motion = false
2025-05-21T21:01:26.218Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-21T21:01:26.812Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":false,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-21T21:01:26.819870Z"}}
2025-05-21T21:01:26.812Z: Extracted AC on state: false
2025-05-21T21:01:27.153Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":false},"success":true}
2025-05-21T21:01:27.153Z: Extracted light state: false
2025-05-21T21:01:27.154Z: Creating a combined row with motion=false, temp=23.3, humidity=63.4, light=false, ac_on=false
2025-05-21T21:01:27.154Z: logSensorData called with 5 sensors
2025-05-21T21:01:27.154Z: Column map has 5 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5]]
2025-05-21T21:01:27.154Z: Setting spaceId column 6 to 41413915
2025-05-21T21:01:27.154Z: Setting column 3 (living room motion) to false
2025-05-21T21:01:27.154Z: Setting column 1 (living room temperature) to 23.3
2025-05-21T21:01:27.154Z: Setting column 2 (living room humidity) to 63.4
2025-05-21T21:01:27.154Z: Setting column 4 (light_state) to false
2025-05-21T21:01:27.154Z: Setting column 5 (ac_state) to false
2025-05-21T21:01:27.154Z: Preparing row: 2025-05-21 21:01:27,23.3,63.4,false,false,false,41413915
2025-05-21T21:01:27.154Z: Successfully wrote to log file using writeFileSync
2025-05-21T21:01:27.154Z: Successfully logged combined sensor data in one row
2025-05-21T21:01:27.157Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-21T21:01:27.157Z: Polling interval active: true
2025-05-21T21:03:05.382Z: Polling for sensor data... (poll #8)
2025-05-21T21:03:05.383Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-21T21:03:05.383Z: Received sensor data: {"temperature":23.3,"humidity":63.4}
2025-05-21T21:03:05.383Z: Formatted events: [{"name":"living room temperature","value":23.3,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":63.4,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-21T21:03:05.383Z: Successfully updated event: living room temperature = 23.3
2025-05-21T21:03:05.383Z: Successfully updated event: living room humidity = 63.4
2025-05-21T21:03:05.958Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":23.3,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":63.4,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-21T21:03:05.958Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-21T21:03:05.958Z: Received motion sensor data: {"motionDetected":false}
2025-05-21T21:03:05.958Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-21T21:03:05.958Z: Successfully updated motion event: living room motion = false
2025-05-21T21:03:06.119Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-21T21:03:06.637Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":false,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-21T21:03:06.647389Z"}}
2025-05-21T21:03:06.638Z: Extracted AC on state: false
2025-05-21T21:03:06.986Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":false},"success":true}
2025-05-21T21:03:06.987Z: Extracted light state: false
2025-05-21T21:03:06.987Z: Creating a combined row with motion=false, temp=23.3, humidity=63.4, light=false, ac_on=false
2025-05-21T21:03:06.988Z: logSensorData called with 5 sensors
2025-05-21T21:03:06.988Z: Column map has 5 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5]]
2025-05-21T21:03:06.988Z: Setting spaceId column 6 to 41413915
2025-05-21T21:03:06.988Z: Setting column 3 (living room motion) to false
2025-05-21T21:03:06.988Z: Setting column 1 (living room temperature) to 23.3
2025-05-21T21:03:06.988Z: Setting column 2 (living room humidity) to 63.4
2025-05-21T21:03:06.988Z: Setting column 4 (light_state) to false
2025-05-21T21:03:06.988Z: Setting column 5 (ac_state) to false
2025-05-21T21:03:06.988Z: Preparing row: 2025-05-21 21:03:06,23.3,63.4,false,false,false,41413915
2025-05-21T21:03:06.988Z: Successfully wrote to log file using writeFileSync
2025-05-21T21:03:06.987Z: Successfully logged combined sensor data in one row
2025-05-21T21:03:06.990Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-21T21:03:06.990Z: Polling interval active: true
2025-05-21T21:04:45.390Z: Polling for sensor data... (poll #9)
2025-05-21T21:04:45.390Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-21T21:04:45.390Z: Received sensor data: {"temperature":23.3,"humidity":63.4}
2025-05-21T21:04:45.390Z: Formatted events: [{"name":"living room temperature","value":23.3,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":63.4,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-21T21:04:45.390Z: Successfully updated event: living room temperature = 23.3
2025-05-21T21:04:45.390Z: Successfully updated event: living room humidity = 63.4
2025-05-21T21:04:45.992Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":23.3,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":63.4,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-21T21:04:45.993Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-21T21:04:45.993Z: Received motion sensor data: {"motionDetected":false}
2025-05-21T21:04:45.993Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-21T21:04:45.993Z: Successfully updated motion event: living room motion = false
2025-05-21T21:04:46.141Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-21T21:04:46.659Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":false,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-21T21:04:46.673059Z"}}
2025-05-21T21:04:46.659Z: Extracted AC on state: false
2025-05-21T21:04:46.986Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":false},"success":true}
2025-05-21T21:04:46.987Z: Extracted light state: false
2025-05-21T21:04:46.988Z: Creating a combined row with motion=false, temp=23.3, humidity=63.4, light=false, ac_on=false
2025-05-21T21:04:46.988Z: logSensorData called with 5 sensors
2025-05-21T21:04:46.988Z: Column map has 5 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5]]
2025-05-21T21:04:46.988Z: Setting spaceId column 6 to 41413915
2025-05-21T21:04:46.988Z: Setting column 3 (living room motion) to false
2025-05-21T21:04:46.988Z: Setting column 1 (living room temperature) to 23.3
2025-05-21T21:04:46.988Z: Setting column 2 (living room humidity) to 63.4
2025-05-21T21:04:46.988Z: Setting column 4 (light_state) to false
2025-05-21T21:04:46.988Z: Setting column 5 (ac_state) to false
2025-05-21T21:04:46.988Z: Preparing row: 2025-05-21 21:04:46,23.3,63.4,false,false,false,41413915
2025-05-21T21:04:46.988Z: Successfully wrote to log file using writeFileSync
2025-05-21T21:04:46.988Z: Successfully logged combined sensor data in one row
2025-05-21T21:04:46.990Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-21T21:04:46.991Z: Polling interval active: true
2025-05-21T21:06:25.400Z: Polling for sensor data... (poll #10)
2025-05-21T21:06:25.401Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-21T21:06:25.401Z: Received sensor data: {"temperature":23.3,"humidity":63.5}
2025-05-21T21:06:25.401Z: Formatted events: [{"name":"living room temperature","value":23.3,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":63.5,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-21T21:06:25.401Z: Successfully updated event: living room temperature = 23.3
2025-05-21T21:06:25.401Z: Successfully updated event: living room humidity = 63.5
2025-05-21T21:06:25.960Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":23.3,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":63.5,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-21T21:06:25.960Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-21T21:06:25.960Z: Received motion sensor data: {"motionDetected":false}
2025-05-21T21:06:25.960Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-21T21:06:25.960Z: Successfully updated motion event: living room motion = false
2025-05-21T21:06:26.105Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-21T21:06:26.677Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":false,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-21T21:06:26.686253Z"}}
2025-05-21T21:06:26.677Z: Extracted AC on state: false
2025-05-21T21:06:27.116Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":false},"success":true}
2025-05-21T21:06:27.117Z: Extracted light state: false
2025-05-21T21:06:27.117Z: Creating a combined row with motion=false, temp=23.3, humidity=63.5, light=false, ac_on=false
2025-05-21T21:06:27.118Z: logSensorData called with 5 sensors
2025-05-21T21:06:27.118Z: Column map has 5 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5]]
2025-05-21T21:06:27.118Z: Setting spaceId column 6 to 41413915
2025-05-21T21:06:27.118Z: Setting column 3 (living room motion) to false
2025-05-21T21:06:27.118Z: Setting column 1 (living room temperature) to 23.3
2025-05-21T21:06:27.118Z: Setting column 2 (living room humidity) to 63.5
2025-05-21T21:06:27.118Z: Setting column 4 (light_state) to false
2025-05-21T21:06:27.118Z: Setting column 5 (ac_state) to false
2025-05-21T21:06:27.118Z: Preparing row: 2025-05-21 21:06:27,23.3,63.5,false,false,false,41413915
2025-05-21T21:06:27.118Z: Successfully wrote to log file using writeFileSync
2025-05-21T21:06:27.117Z: Successfully logged combined sensor data in one row
2025-05-21T21:06:27.121Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-21T21:06:27.121Z: Polling interval active: true
2025-05-21T21:08:05.407Z: Polling for sensor data... (poll #11)
2025-05-21T21:08:05.408Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-21T21:08:05.408Z: Received sensor data: {"temperature":23.3,"humidity":63.5}
2025-05-21T21:08:05.408Z: Formatted events: [{"name":"living room temperature","value":23.3,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":63.5,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-21T21:08:05.408Z: Successfully updated event: living room temperature = 23.3
2025-05-21T21:08:05.408Z: Successfully updated event: living room humidity = 63.5
2025-05-21T21:08:06.092Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":23.3,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":63.5,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-21T21:08:06.092Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-21T21:08:06.092Z: Received motion sensor data: {"motionDetected":false}
2025-05-21T21:08:06.092Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-21T21:08:06.092Z: Successfully updated motion event: living room motion = false
2025-05-21T21:08:06.238Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-21T21:08:06.764Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":false,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-21T21:08:06.785551Z"}}
2025-05-21T21:08:06.764Z: Extracted AC on state: false
2025-05-21T21:08:07.105Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":false},"success":true}
2025-05-21T21:08:07.106Z: Extracted light state: false
2025-05-21T21:08:07.106Z: Creating a combined row with motion=false, temp=23.3, humidity=63.5, light=false, ac_on=false
2025-05-21T21:08:07.107Z: logSensorData called with 5 sensors
2025-05-21T21:08:07.107Z: Column map has 5 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5]]
2025-05-21T21:08:07.107Z: Setting spaceId column 6 to 41413915
2025-05-21T21:08:07.107Z: Setting column 3 (living room motion) to false
2025-05-21T21:08:07.107Z: Setting column 1 (living room temperature) to 23.3
2025-05-21T21:08:07.107Z: Setting column 2 (living room humidity) to 63.5
2025-05-21T21:08:07.107Z: Setting column 4 (light_state) to false
2025-05-21T21:08:07.107Z: Setting column 5 (ac_state) to false
2025-05-21T21:08:07.107Z: Preparing row: 2025-05-21 21:08:07,23.3,63.5,false,false,false,41413915
2025-05-21T21:08:07.107Z: Successfully wrote to log file using writeFileSync
2025-05-21T21:08:07.106Z: Successfully logged combined sensor data in one row
2025-05-21T21:08:07.109Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-21T21:08:07.109Z: Polling interval active: true
2025-05-21T21:09:45.414Z: Polling for sensor data... (poll #12)
2025-05-21T21:09:45.414Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-21T21:09:45.414Z: Received sensor data: {"temperature":23.3,"humidity":63.5}
2025-05-21T21:09:45.414Z: Formatted events: [{"name":"living room temperature","value":23.3,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":63.5,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-21T21:09:45.414Z: Successfully updated event: living room temperature = 23.3
2025-05-21T21:09:45.414Z: Successfully updated event: living room humidity = 63.5
2025-05-21T21:09:45.991Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":23.3,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":63.5,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-21T21:09:45.992Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-21T21:09:45.992Z: Received motion sensor data: {"motionDetected":true}
2025-05-21T21:09:45.992Z: Formatted motion sensor events: [{"name":"living room motion","value":true,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-21T21:09:45.992Z: Successfully updated motion event: living room motion = true
2025-05-21T21:09:46.144Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":true,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-21T21:09:46.791Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":false,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-21T21:09:46.772054Z"}}
2025-05-21T21:09:46.792Z: Extracted AC on state: false
2025-05-21T21:09:47.138Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":false},"success":true}
2025-05-21T21:09:47.139Z: Extracted light state: false
2025-05-21T21:09:47.139Z: Creating a combined row with motion=true, temp=23.3, humidity=63.5, light=false, ac_on=false
2025-05-21T21:09:47.139Z: logSensorData called with 5 sensors
2025-05-21T21:09:47.139Z: Column map has 5 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5]]
2025-05-21T21:09:47.139Z: Setting spaceId column 6 to 41413915
2025-05-21T21:09:47.139Z: Setting column 3 (living room motion) to true
2025-05-21T21:09:47.139Z: Setting column 1 (living room temperature) to 23.3
2025-05-21T21:09:47.139Z: Setting column 2 (living room humidity) to 63.5
2025-05-21T21:09:47.139Z: Setting column 4 (light_state) to false
2025-05-21T21:09:47.139Z: Setting column 5 (ac_state) to false
2025-05-21T21:09:47.139Z: Preparing row: 2025-05-21 21:09:47,23.3,63.5,true,false,false,41413915
2025-05-21T21:09:47.139Z: Successfully wrote to log file using writeFileSync
2025-05-21T21:09:47.139Z: Successfully logged combined sensor data in one row
2025-05-21T21:09:47.142Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-21T21:09:47.142Z: Polling interval active: true
2025-05-21T21:11:25.417Z: Polling for sensor data... (poll #13)
2025-05-21T21:11:25.417Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-21T21:11:25.417Z: Received sensor data: {"temperature":23.4,"humidity":63.5}
2025-05-21T21:11:25.417Z: Formatted events: [{"name":"living room temperature","value":23.4,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":63.5,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-21T21:11:25.417Z: Successfully updated event: living room temperature = 23.4
2025-05-21T21:11:25.417Z: Successfully updated event: living room humidity = 63.5
2025-05-21T21:11:26.017Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":23.4,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":63.5,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-21T21:11:26.017Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-21T21:11:26.017Z: Received motion sensor data: {"motionDetected":false}
2025-05-21T21:11:26.017Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-21T21:11:26.017Z: Successfully updated motion event: living room motion = false
2025-05-21T21:11:26.172Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-21T21:11:26.711Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":false,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-21T21:11:26.722736Z"}}
2025-05-21T21:11:26.712Z: Extracted AC on state: false
2025-05-21T21:11:27.056Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":false},"success":true}
2025-05-21T21:11:27.056Z: Extracted light state: false
2025-05-21T21:11:27.056Z: Creating a combined row with motion=false, temp=23.4, humidity=63.5, light=false, ac_on=false
2025-05-21T21:11:27.057Z: logSensorData called with 5 sensors
2025-05-21T21:11:27.057Z: Column map has 5 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5]]
2025-05-21T21:11:27.057Z: Setting spaceId column 6 to 41413915
2025-05-21T21:11:27.057Z: Setting column 3 (living room motion) to false
2025-05-21T21:11:27.057Z: Setting column 1 (living room temperature) to 23.4
2025-05-21T21:11:27.057Z: Setting column 2 (living room humidity) to 63.5
2025-05-21T21:11:27.057Z: Setting column 4 (light_state) to false
2025-05-21T21:11:27.057Z: Setting column 5 (ac_state) to false
2025-05-21T21:11:27.057Z: Preparing row: 2025-05-21 21:11:27,23.4,63.5,false,false,false,41413915
2025-05-21T21:11:27.057Z: Successfully wrote to log file using writeFileSync
2025-05-21T21:11:27.056Z: Successfully logged combined sensor data in one row
2025-05-21T21:11:27.060Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-21T21:11:27.060Z: Polling interval active: true
2025-05-21T21:13:05.419Z: Polling for sensor data... (poll #14)
2025-05-21T21:13:05.420Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-21T21:13:05.420Z: Received sensor data: {"temperature":23.4,"humidity":63.5}
2025-05-21T21:13:05.420Z: Formatted events: [{"name":"living room temperature","value":23.4,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":63.5,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-21T21:13:05.420Z: Successfully updated event: living room temperature = 23.4
2025-05-21T21:13:05.420Z: Successfully updated event: living room humidity = 63.5
2025-05-21T21:13:06.043Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":23.4,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":63.5,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-21T21:13:06.043Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-21T21:13:06.043Z: Received motion sensor data: {"motionDetected":false}
2025-05-21T21:13:06.043Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-21T21:13:06.043Z: Successfully updated motion event: living room motion = false
2025-05-21T21:13:06.202Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-21T21:13:06.735Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":false,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-21T21:13:06.762927Z"}}
2025-05-21T21:13:06.735Z: Extracted AC on state: false
2025-05-21T21:13:07.069Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":false},"success":true}
2025-05-21T21:13:07.070Z: Extracted light state: false
2025-05-21T21:13:07.070Z: Creating a combined row with motion=false, temp=23.4, humidity=63.5, light=false, ac_on=false
2025-05-21T21:13:07.070Z: logSensorData called with 5 sensors
2025-05-21T21:13:07.070Z: Column map has 5 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5]]
2025-05-21T21:13:07.070Z: Setting spaceId column 6 to 41413915
2025-05-21T21:13:07.070Z: Setting column 3 (living room motion) to false
2025-05-21T21:13:07.070Z: Setting column 1 (living room temperature) to 23.4
2025-05-21T21:13:07.070Z: Setting column 2 (living room humidity) to 63.5
2025-05-21T21:13:07.070Z: Setting column 4 (light_state) to false
2025-05-21T21:13:07.070Z: Setting column 5 (ac_state) to false
2025-05-21T21:13:07.070Z: Preparing row: 2025-05-21 21:13:07,23.4,63.5,false,false,false,41413915
2025-05-21T21:13:07.070Z: Successfully wrote to log file using writeFileSync
2025-05-21T21:13:07.070Z: Successfully logged combined sensor data in one row
2025-05-21T21:13:07.072Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-21T21:13:07.073Z: Polling interval active: true
2025-05-21T21:14:45.422Z: Polling for sensor data... (poll #15)
2025-05-21T21:14:45.423Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-21T21:14:45.423Z: Received sensor data: {"temperature":23.4,"humidity":63.5}
2025-05-21T21:14:45.423Z: Formatted events: [{"name":"living room temperature","value":23.4,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":63.5,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-21T21:14:45.423Z: Successfully updated event: living room temperature = 23.4
2025-05-21T21:14:45.423Z: Successfully updated event: living room humidity = 63.5
2025-05-21T21:14:45.966Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":23.4,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":63.5,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-21T21:14:45.966Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-21T21:14:45.966Z: Received motion sensor data: {"motionDetected":false}
2025-05-21T21:14:45.966Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-21T21:14:45.966Z: Successfully updated motion event: living room motion = false
2025-05-21T21:14:46.117Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-21T21:14:46.649Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":false,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-21T21:14:46.673201Z"}}
2025-05-21T21:14:46.649Z: Extracted AC on state: false
2025-05-21T21:14:46.995Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":false},"success":true}
2025-05-21T21:14:46.995Z: Extracted light state: false
2025-05-21T21:14:46.995Z: Creating a combined row with motion=false, temp=23.4, humidity=63.5, light=false, ac_on=false
2025-05-21T21:14:46.996Z: logSensorData called with 5 sensors
2025-05-21T21:14:46.996Z: Column map has 5 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5]]
2025-05-21T21:14:46.996Z: Setting spaceId column 6 to 41413915
2025-05-21T21:14:46.996Z: Setting column 3 (living room motion) to false
2025-05-21T21:14:46.996Z: Setting column 1 (living room temperature) to 23.4
2025-05-21T21:14:46.996Z: Setting column 2 (living room humidity) to 63.5
2025-05-21T21:14:46.996Z: Setting column 4 (light_state) to false
2025-05-21T21:14:46.996Z: Setting column 5 (ac_state) to false
2025-05-21T21:14:46.996Z: Preparing row: 2025-05-21 21:14:46,23.4,63.5,false,false,false,41413915
2025-05-21T21:14:46.996Z: Successfully wrote to log file using writeFileSync
2025-05-21T21:14:46.995Z: Successfully logged combined sensor data in one row
2025-05-21T21:14:46.998Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-21T21:14:46.999Z: Polling interval active: true
2025-05-21T21:16:25.427Z: Polling for sensor data... (poll #16)
2025-05-21T21:16:25.428Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-21T21:16:25.428Z: Received sensor data: {"temperature":23.4,"humidity":63.5}
2025-05-21T21:16:25.428Z: Formatted events: [{"name":"living room temperature","value":23.4,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":63.5,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-21T21:16:25.428Z: Successfully updated event: living room temperature = 23.4
2025-05-21T21:16:25.428Z: Successfully updated event: living room humidity = 63.5
2025-05-21T21:16:26.030Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":23.4,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":63.5,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-21T21:16:26.030Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-21T21:16:26.030Z: Received motion sensor data: {"motionDetected":false}
2025-05-21T21:16:26.030Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-21T21:16:26.030Z: Successfully updated motion event: living room motion = false
2025-05-21T21:16:26.173Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-21T21:16:26.771Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":false,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-21T21:16:26.787483Z"}}
2025-05-21T21:16:26.771Z: Extracted AC on state: false
2025-05-21T21:16:27.105Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":false},"success":true}
2025-05-21T21:16:27.105Z: Extracted light state: false
2025-05-21T21:16:27.106Z: Creating a combined row with motion=false, temp=23.4, humidity=63.5, light=false, ac_on=false
2025-05-21T21:16:27.106Z: logSensorData called with 5 sensors
2025-05-21T21:16:27.106Z: Column map has 5 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5]]
2025-05-21T21:16:27.106Z: Setting spaceId column 6 to 41413915
2025-05-21T21:16:27.106Z: Setting column 3 (living room motion) to false
2025-05-21T21:16:27.106Z: Setting column 1 (living room temperature) to 23.4
2025-05-21T21:16:27.106Z: Setting column 2 (living room humidity) to 63.5
2025-05-21T21:16:27.106Z: Setting column 4 (light_state) to false
2025-05-21T21:16:27.106Z: Setting column 5 (ac_state) to false
2025-05-21T21:16:27.106Z: Preparing row: 2025-05-21 21:16:27,23.4,63.5,false,false,false,41413915
2025-05-21T21:16:27.106Z: Successfully wrote to log file using writeFileSync
2025-05-21T21:16:27.106Z: Successfully logged combined sensor data in one row
2025-05-21T21:16:27.109Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-21T21:16:27.109Z: Polling interval active: true
2025-05-21T21:18:05.431Z: Polling for sensor data... (poll #17)
2025-05-21T21:18:05.433Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-21T21:18:05.433Z: Received sensor data: {"temperature":23.4,"humidity":63.5}
2025-05-21T21:18:05.433Z: Formatted events: [{"name":"living room temperature","value":23.4,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":63.5,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-21T21:18:05.433Z: Successfully updated event: living room temperature = 23.4
2025-05-21T21:18:05.433Z: Successfully updated event: living room humidity = 63.5
2025-05-21T21:18:06.019Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":23.4,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":63.5,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-21T21:18:06.020Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-21T21:18:06.020Z: Received motion sensor data: {"motionDetected":false}
2025-05-21T21:18:06.020Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-21T21:18:06.020Z: Successfully updated motion event: living room motion = false
2025-05-21T21:18:06.178Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-21T21:18:06.769Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":false,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-21T21:18:06.796088Z"}}
2025-05-21T21:18:06.769Z: Extracted AC on state: false
2025-05-21T21:18:07.100Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":false},"success":true}
2025-05-21T21:18:07.100Z: Extracted light state: false
2025-05-21T21:18:07.101Z: Creating a combined row with motion=false, temp=23.4, humidity=63.5, light=false, ac_on=false
2025-05-21T21:18:07.101Z: logSensorData called with 5 sensors
2025-05-21T21:18:07.101Z: Column map has 5 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5]]
2025-05-21T21:18:07.101Z: Setting spaceId column 6 to 41413915
2025-05-21T21:18:07.101Z: Setting column 3 (living room motion) to false
2025-05-21T21:18:07.101Z: Setting column 1 (living room temperature) to 23.4
2025-05-21T21:18:07.101Z: Setting column 2 (living room humidity) to 63.5
2025-05-21T21:18:07.101Z: Setting column 4 (light_state) to false
2025-05-21T21:18:07.101Z: Setting column 5 (ac_state) to false
2025-05-21T21:18:07.101Z: Preparing row: 2025-05-21 21:18:07,23.4,63.5,false,false,false,41413915
2025-05-21T21:18:07.101Z: Successfully wrote to log file using writeFileSync
2025-05-21T21:18:07.101Z: Successfully logged combined sensor data in one row
2025-05-21T21:18:07.104Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-21T21:18:07.104Z: Polling interval active: true
2025-05-21T21:19:45.442Z: Polling for sensor data... (poll #18)
2025-05-21T21:19:45.442Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-21T21:19:45.442Z: Received sensor data: {"temperature":23.4,"humidity":63.5}
2025-05-21T21:19:45.442Z: Formatted events: [{"name":"living room temperature","value":23.4,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":63.5,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-21T21:19:45.442Z: Successfully updated event: living room temperature = 23.4
2025-05-21T21:19:45.442Z: Successfully updated event: living room humidity = 63.5
2025-05-21T21:19:46.026Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":23.4,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":63.5,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-21T21:19:46.026Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-21T21:19:46.026Z: Received motion sensor data: {"motionDetected":false}
2025-05-21T21:19:46.026Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-21T21:19:46.026Z: Successfully updated motion event: living room motion = false
2025-05-21T21:19:46.179Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-21T21:19:46.786Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":false,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-21T21:19:46.817922Z"}}
2025-05-21T21:19:46.787Z: Extracted AC on state: false
2025-05-21T21:19:47.123Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":false},"success":true}
2025-05-21T21:19:47.123Z: Extracted light state: false
2025-05-21T21:19:47.124Z: Creating a combined row with motion=false, temp=23.4, humidity=63.5, light=false, ac_on=false
2025-05-21T21:19:47.124Z: logSensorData called with 5 sensors
2025-05-21T21:19:47.124Z: Column map has 5 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5]]
2025-05-21T21:19:47.124Z: Setting spaceId column 6 to 41413915
2025-05-21T21:19:47.124Z: Setting column 3 (living room motion) to false
2025-05-21T21:19:47.124Z: Setting column 1 (living room temperature) to 23.4
2025-05-21T21:19:47.124Z: Setting column 2 (living room humidity) to 63.5
2025-05-21T21:19:47.124Z: Setting column 4 (light_state) to false
2025-05-21T21:19:47.124Z: Setting column 5 (ac_state) to false
2025-05-21T21:19:47.124Z: Preparing row: 2025-05-21 21:19:47,23.4,63.5,false,false,false,41413915
2025-05-21T21:19:47.124Z: Successfully wrote to log file using writeFileSync
2025-05-21T21:19:47.124Z: Successfully logged combined sensor data in one row
2025-05-21T21:19:47.128Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-21T21:19:47.128Z: Polling interval active: true
2025-05-21T21:21:25.444Z: Polling for sensor data... (poll #19)
2025-05-21T21:21:25.445Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-21T21:21:25.445Z: Received sensor data: {"temperature":23.4,"humidity":63.4}
2025-05-21T21:21:25.445Z: Formatted events: [{"name":"living room temperature","value":23.4,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":63.4,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-21T21:21:25.445Z: Successfully updated event: living room temperature = 23.4
2025-05-21T21:21:25.445Z: Successfully updated event: living room humidity = 63.4
2025-05-21T21:21:26.043Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":23.4,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":63.4,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-21T21:21:26.043Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-21T21:21:26.043Z: Received motion sensor data: {"motionDetected":false}
2025-05-21T21:21:26.043Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-21T21:21:26.043Z: Successfully updated motion event: living room motion = false
2025-05-21T21:21:26.199Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-21T21:21:26.724Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":false,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-21T21:21:26.764912Z"}}
2025-05-21T21:21:26.724Z: Extracted AC on state: false
2025-05-21T21:21:27.059Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":false},"success":true}
2025-05-21T21:21:27.060Z: Extracted light state: false
2025-05-21T21:21:27.060Z: Creating a combined row with motion=false, temp=23.4, humidity=63.4, light=false, ac_on=false
2025-05-21T21:21:27.060Z: logSensorData called with 5 sensors
2025-05-21T21:21:27.060Z: Column map has 5 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5]]
2025-05-21T21:21:27.060Z: Setting spaceId column 6 to 41413915
2025-05-21T21:21:27.060Z: Setting column 3 (living room motion) to false
2025-05-21T21:21:27.060Z: Setting column 1 (living room temperature) to 23.4
2025-05-21T21:21:27.060Z: Setting column 2 (living room humidity) to 63.4
2025-05-21T21:21:27.060Z: Setting column 4 (light_state) to false
2025-05-21T21:21:27.060Z: Setting column 5 (ac_state) to false
2025-05-21T21:21:27.060Z: Preparing row: 2025-05-21 21:21:27,23.4,63.4,false,false,false,41413915
2025-05-21T21:21:27.060Z: Successfully wrote to log file using writeFileSync
2025-05-21T21:21:27.060Z: Successfully logged combined sensor data in one row
2025-05-21T21:21:27.063Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-21T21:21:27.064Z: Polling interval active: true
2025-05-21T21:23:05.452Z: Polling for sensor data... (poll #20)
2025-05-21T21:23:05.453Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-21T21:23:05.453Z: Received sensor data: {"temperature":23.4,"humidity":63.4}
2025-05-21T21:23:05.453Z: Formatted events: [{"name":"living room temperature","value":23.4,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":63.4,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-21T21:23:05.453Z: Successfully updated event: living room temperature = 23.4
2025-05-21T21:23:05.453Z: Successfully updated event: living room humidity = 63.4
2025-05-21T21:23:06.057Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":23.4,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":63.4,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-21T21:23:06.057Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-21T21:23:06.057Z: Received motion sensor data: {"motionDetected":false}
2025-05-21T21:23:06.057Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-21T21:23:06.057Z: Successfully updated motion event: living room motion = false
2025-05-21T21:23:06.211Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-21T21:23:06.758Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":false,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-21T21:23:06.794341Z"}}
2025-05-21T21:23:06.759Z: Extracted AC on state: false
2025-05-21T21:23:07.111Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":false},"success":true}
2025-05-21T21:23:07.112Z: Extracted light state: false
2025-05-21T21:23:07.112Z: Creating a combined row with motion=false, temp=23.4, humidity=63.4, light=false, ac_on=false
2025-05-21T21:23:07.112Z: logSensorData called with 5 sensors
2025-05-21T21:23:07.112Z: Column map has 5 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5]]
2025-05-21T21:23:07.112Z: Setting spaceId column 6 to 41413915
2025-05-21T21:23:07.112Z: Setting column 3 (living room motion) to false
2025-05-21T21:23:07.112Z: Setting column 1 (living room temperature) to 23.4
2025-05-21T21:23:07.112Z: Setting column 2 (living room humidity) to 63.4
2025-05-21T21:23:07.112Z: Setting column 4 (light_state) to false
2025-05-21T21:23:07.112Z: Setting column 5 (ac_state) to false
2025-05-21T21:23:07.112Z: Preparing row: 2025-05-21 21:23:07,23.4,63.4,false,false,false,41413915
2025-05-21T21:23:07.112Z: Successfully wrote to log file using writeFileSync
2025-05-21T21:23:07.112Z: Successfully logged combined sensor data in one row
2025-05-21T21:23:07.115Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-21T21:23:07.116Z: Polling interval active: true
2025-05-21T21:24:45.463Z: Polling for sensor data... (poll #21)
2025-05-21T21:24:45.464Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-21T21:24:45.464Z: Received sensor data: {"temperature":23.4,"humidity":63.4}
2025-05-21T21:24:45.464Z: Formatted events: [{"name":"living room temperature","value":23.4,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":63.4,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-21T21:24:45.464Z: Successfully updated event: living room temperature = 23.4
2025-05-21T21:24:45.464Z: Successfully updated event: living room humidity = 63.4
2025-05-21T21:24:46.089Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":23.4,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":63.4,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-21T21:24:46.090Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-21T21:24:46.090Z: Received motion sensor data: {"motionDetected":true}
2025-05-21T21:24:46.090Z: Formatted motion sensor events: [{"name":"living room motion","value":true,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-21T21:24:46.090Z: Successfully updated motion event: living room motion = true
2025-05-21T21:24:46.237Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":true,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-21T21:24:46.755Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":false,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-21T21:24:46.801123Z"}}
2025-05-21T21:24:46.755Z: Extracted AC on state: false
2025-05-21T21:24:47.082Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":false},"success":true}
2025-05-21T21:24:47.083Z: Extracted light state: false
2025-05-21T21:24:47.083Z: Creating a combined row with motion=true, temp=23.4, humidity=63.4, light=false, ac_on=false
2025-05-21T21:24:47.083Z: logSensorData called with 5 sensors
2025-05-21T21:24:47.083Z: Column map has 5 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5]]
2025-05-21T21:24:47.083Z: Setting spaceId column 6 to 41413915
2025-05-21T21:24:47.083Z: Setting column 3 (living room motion) to true
2025-05-21T21:24:47.083Z: Setting column 1 (living room temperature) to 23.4
2025-05-21T21:24:47.083Z: Setting column 2 (living room humidity) to 63.4
2025-05-21T21:24:47.083Z: Setting column 4 (light_state) to false
2025-05-21T21:24:47.083Z: Setting column 5 (ac_state) to false
2025-05-21T21:24:47.083Z: Preparing row: 2025-05-21 21:24:47,23.4,63.4,true,false,false,41413915
2025-05-21T21:24:47.083Z: Successfully wrote to log file using writeFileSync
2025-05-21T21:24:47.083Z: Successfully logged combined sensor data in one row
2025-05-21T21:24:47.086Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-21T21:24:47.086Z: Polling interval active: true
2025-05-21T21:26:25.476Z: Polling for sensor data... (poll #22)
2025-05-21T21:26:25.477Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-21T21:26:25.477Z: Received sensor data: {"temperature":23.4,"humidity":63.4}
2025-05-21T21:26:25.477Z: Formatted events: [{"name":"living room temperature","value":23.4,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":63.4,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-21T21:26:25.477Z: Successfully updated event: living room temperature = 23.4
2025-05-21T21:26:25.477Z: Successfully updated event: living room humidity = 63.4
2025-05-21T21:26:26.076Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":23.4,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":63.4,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-21T21:26:26.077Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-21T21:26:26.077Z: Received motion sensor data: {"motionDetected":false}
2025-05-21T21:26:26.077Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-21T21:26:26.077Z: Successfully updated motion event: living room motion = false
2025-05-21T21:26:26.233Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-21T21:26:26.850Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":false,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-21T21:26:26.900332Z"}}
2025-05-21T21:26:26.851Z: Extracted AC on state: false
2025-05-21T21:26:27.191Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":false},"success":true}
2025-05-21T21:26:27.192Z: Extracted light state: false
2025-05-21T21:26:27.192Z: Creating a combined row with motion=false, temp=23.4, humidity=63.4, light=false, ac_on=false
2025-05-21T21:26:27.193Z: logSensorData called with 5 sensors
2025-05-21T21:26:27.193Z: Column map has 5 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5]]
2025-05-21T21:26:27.193Z: Setting spaceId column 6 to 41413915
2025-05-21T21:26:27.193Z: Setting column 3 (living room motion) to false
2025-05-21T21:26:27.193Z: Setting column 1 (living room temperature) to 23.4
2025-05-21T21:26:27.193Z: Setting column 2 (living room humidity) to 63.4
2025-05-21T21:26:27.193Z: Setting column 4 (light_state) to false
2025-05-21T21:26:27.193Z: Setting column 5 (ac_state) to false
2025-05-21T21:26:27.193Z: Preparing row: 2025-05-21 21:26:27,23.4,63.4,false,false,false,41413915
2025-05-21T21:26:27.193Z: Successfully wrote to log file using writeFileSync
2025-05-21T21:26:27.192Z: Successfully logged combined sensor data in one row
2025-05-21T21:26:27.196Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-21T21:26:27.196Z: Polling interval active: true
2025-05-21T21:28:05.491Z: Polling for sensor data... (poll #23)
2025-05-21T21:28:05.491Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-21T21:28:05.491Z: Received sensor data: {"temperature":23.4,"humidity":63.2}
2025-05-21T21:28:05.491Z: Formatted events: [{"name":"living room temperature","value":23.4,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":63.2,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-21T21:28:05.491Z: Successfully updated event: living room temperature = 23.4
2025-05-21T21:28:05.491Z: Successfully updated event: living room humidity = 63.2
2025-05-21T21:28:06.097Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":23.4,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":63.2,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-21T21:28:06.098Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-21T21:28:06.098Z: Received motion sensor data: {"motionDetected":false}
2025-05-21T21:28:06.098Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-21T21:28:06.098Z: Successfully updated motion event: living room motion = false
2025-05-21T21:28:06.243Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-21T21:28:06.853Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":false,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-21T21:28:06.907715Z"}}
2025-05-21T21:28:06.854Z: Extracted AC on state: false
2025-05-21T21:28:07.190Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":false},"success":true}
2025-05-21T21:28:07.191Z: Extracted light state: false
2025-05-21T21:28:07.191Z: Creating a combined row with motion=false, temp=23.4, humidity=63.2, light=false, ac_on=false
2025-05-21T21:28:07.191Z: logSensorData called with 5 sensors
2025-05-21T21:28:07.191Z: Column map has 5 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5]]
2025-05-21T21:28:07.191Z: Setting spaceId column 6 to 41413915
2025-05-21T21:28:07.191Z: Setting column 3 (living room motion) to false
2025-05-21T21:28:07.191Z: Setting column 1 (living room temperature) to 23.4
2025-05-21T21:28:07.191Z: Setting column 2 (living room humidity) to 63.2
2025-05-21T21:28:07.191Z: Setting column 4 (light_state) to false
2025-05-21T21:28:07.191Z: Setting column 5 (ac_state) to false
2025-05-21T21:28:07.191Z: Preparing row: 2025-05-21 21:28:07,23.4,63.2,false,false,false,41413915
2025-05-21T21:28:07.191Z: Successfully wrote to log file using writeFileSync
2025-05-21T21:28:07.191Z: Successfully logged combined sensor data in one row
2025-05-21T21:28:07.194Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-21T21:28:07.194Z: Polling interval active: true
2025-05-21T21:29:45.503Z: Polling for sensor data... (poll #24)
2025-05-21T21:29:45.504Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-21T21:29:45.504Z: Received sensor data: {"temperature":23.3,"humidity":63.5}
2025-05-21T21:29:45.504Z: Formatted events: [{"name":"living room temperature","value":23.3,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":63.5,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-21T21:29:45.504Z: Successfully updated event: living room temperature = 23.3
2025-05-21T21:29:45.504Z: Successfully updated event: living room humidity = 63.5
2025-05-21T21:29:46.095Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":23.3,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":63.5,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-21T21:29:46.096Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-21T21:29:46.096Z: Received motion sensor data: {"motionDetected":false}
2025-05-21T21:29:46.096Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-21T21:29:46.096Z: Successfully updated motion event: living room motion = false
2025-05-21T21:29:46.242Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-21T21:29:46.849Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":false,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-21T21:29:46.901119Z"}}
2025-05-21T21:29:46.849Z: Extracted AC on state: false
2025-05-21T21:29:47.174Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":false},"success":true}
2025-05-21T21:29:47.175Z: Extracted light state: false
2025-05-21T21:29:47.175Z: Creating a combined row with motion=false, temp=23.3, humidity=63.5, light=false, ac_on=false
2025-05-21T21:29:47.175Z: logSensorData called with 5 sensors
2025-05-21T21:29:47.175Z: Column map has 5 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5]]
2025-05-21T21:29:47.175Z: Setting spaceId column 6 to 41413915
2025-05-21T21:29:47.175Z: Setting column 3 (living room motion) to false
2025-05-21T21:29:47.175Z: Setting column 1 (living room temperature) to 23.3
2025-05-21T21:29:47.175Z: Setting column 2 (living room humidity) to 63.5
2025-05-21T21:29:47.175Z: Setting column 4 (light_state) to false
2025-05-21T21:29:47.175Z: Setting column 5 (ac_state) to false
2025-05-21T21:29:47.175Z: Preparing row: 2025-05-21 21:29:47,23.3,63.5,false,false,false,41413915
2025-05-21T21:29:47.175Z: Successfully wrote to log file using writeFileSync
2025-05-21T21:29:47.175Z: Successfully logged combined sensor data in one row
2025-05-21T21:29:47.178Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-21T21:29:47.178Z: Polling interval active: true
2025-05-21T21:31:25.514Z: Polling for sensor data... (poll #25)
2025-05-21T21:31:25.515Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-21T21:31:25.515Z: Received sensor data: {"temperature":23.4,"humidity":63.5}
2025-05-21T21:31:25.515Z: Formatted events: [{"name":"living room temperature","value":23.4,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":63.5,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-21T21:31:25.515Z: Successfully updated event: living room temperature = 23.4
2025-05-21T21:31:25.515Z: Successfully updated event: living room humidity = 63.5
2025-05-21T21:31:26.081Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":23.4,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":63.5,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-21T21:31:26.082Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-21T21:31:26.082Z: Received motion sensor data: {"motionDetected":false}
2025-05-21T21:31:26.082Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-21T21:31:26.082Z: Successfully updated motion event: living room motion = false
2025-05-21T21:31:26.244Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-21T21:31:26.819Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":false,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-21T21:31:26.873704Z"}}
2025-05-21T21:31:26.819Z: Extracted AC on state: false
2025-05-21T21:31:27.167Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":false},"success":true}
2025-05-21T21:31:27.168Z: Extracted light state: false
2025-05-21T21:31:27.168Z: Creating a combined row with motion=false, temp=23.4, humidity=63.5, light=false, ac_on=false
2025-05-21T21:31:27.168Z: logSensorData called with 5 sensors
2025-05-21T21:31:27.168Z: Column map has 5 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5]]
2025-05-21T21:31:27.168Z: Setting spaceId column 6 to 41413915
2025-05-21T21:31:27.168Z: Setting column 3 (living room motion) to false
2025-05-21T21:31:27.168Z: Setting column 1 (living room temperature) to 23.4
2025-05-21T21:31:27.168Z: Setting column 2 (living room humidity) to 63.5
2025-05-21T21:31:27.168Z: Setting column 4 (light_state) to false
2025-05-21T21:31:27.168Z: Setting column 5 (ac_state) to false
2025-05-21T21:31:27.168Z: Preparing row: 2025-05-21 21:31:27,23.4,63.5,false,false,false,41413915
2025-05-21T21:31:27.168Z: Successfully wrote to log file using writeFileSync
2025-05-21T21:31:27.168Z: Successfully logged combined sensor data in one row
2025-05-21T21:31:27.172Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-21T21:31:27.172Z: Polling interval active: true
2025-05-21T21:33:05.522Z: Polling for sensor data... (poll #26)
2025-05-21T21:33:05.523Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-21T21:33:05.523Z: Received sensor data: {"temperature":23.4,"humidity":63.5}
2025-05-21T21:33:05.523Z: Formatted events: [{"name":"living room temperature","value":23.4,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":63.5,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-21T21:33:05.523Z: Successfully updated event: living room temperature = 23.4
2025-05-21T21:33:05.523Z: Successfully updated event: living room humidity = 63.5
2025-05-21T21:33:11.604Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":23.4,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":63.5,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-21T21:33:11.604Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-21T21:33:11.604Z: Received motion sensor data: {"motionDetected":true}
2025-05-21T21:33:11.604Z: Formatted motion sensor events: [{"name":"living room motion","value":true,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-21T21:33:11.604Z: Successfully updated motion event: living room motion = true
2025-05-21T21:33:11.751Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":true,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-21T21:34:20.953Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":false,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":-1,"time":"2025-05-21T21:34:21.004145Z"}}
2025-05-21T21:34:20.953Z: Extracted AC on state: false
2025-05-21T21:34:21.280Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":false},"success":true}
2025-05-21T21:34:21.282Z: Extracted light state: false
2025-05-21T21:34:21.282Z: Creating a combined row with motion=true, temp=23.4, humidity=63.5, light=false, ac_on=false
2025-05-21T21:34:21.282Z: logSensorData called with 5 sensors
2025-05-21T21:34:21.282Z: Column map has 5 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5]]
2025-05-21T21:34:21.282Z: Setting spaceId column 6 to 41413915
2025-05-21T21:34:21.282Z: Setting column 3 (living room motion) to true
2025-05-21T21:34:21.282Z: Setting column 1 (living room temperature) to 23.4
2025-05-21T21:34:21.282Z: Setting column 2 (living room humidity) to 63.5
2025-05-21T21:34:21.282Z: Setting column 4 (light_state) to false
2025-05-21T21:34:21.282Z: Setting column 5 (ac_state) to false
2025-05-21T21:34:21.282Z: Preparing row: 2025-05-21 21:34:21,23.4,63.5,true,false,false,41413915
2025-05-21T21:34:21.282Z: Successfully wrote to log file using writeFileSync
2025-05-21T21:34:21.282Z: Successfully logged combined sensor data in one row
2025-05-21T21:34:21.285Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-21T21:34:21.285Z: Polling interval active: true
2025-05-21T21:34:45.536Z: Polling for sensor data... (poll #27)
2025-05-21T21:34:45.537Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-21T21:34:45.537Z: Received sensor data: {"temperature":23.4,"humidity":63.5}
2025-05-21T21:34:45.537Z: Formatted events: [{"name":"living room temperature","value":23.4,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":63.5,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-21T21:34:45.537Z: Successfully updated event: living room temperature = 23.4
2025-05-21T21:34:45.537Z: Successfully updated event: living room humidity = 63.5
2025-05-21T21:34:46.181Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":23.4,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":63.5,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-21T21:34:46.181Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-21T21:34:46.181Z: Received motion sensor data: {"motionDetected":true}
2025-05-21T21:34:46.181Z: Formatted motion sensor events: [{"name":"living room motion","value":true,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-21T21:34:46.181Z: Successfully updated motion event: living room motion = true
2025-05-21T21:34:46.344Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":true,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-21T21:34:47.022Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":false,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-21T21:34:47.048135Z"}}
2025-05-21T21:34:47.023Z: Extracted AC on state: false
2025-05-21T21:34:47.405Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":false},"success":true}
2025-05-21T21:34:47.406Z: Extracted light state: false
2025-05-21T21:34:47.406Z: Creating a combined row with motion=true, temp=23.4, humidity=63.5, light=false, ac_on=false
2025-05-21T21:34:47.406Z: logSensorData called with 5 sensors
2025-05-21T21:34:47.406Z: Column map has 5 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5]]
2025-05-21T21:34:47.406Z: Setting spaceId column 6 to 41413915
2025-05-21T21:34:47.406Z: Setting column 3 (living room motion) to true
2025-05-21T21:34:47.406Z: Setting column 1 (living room temperature) to 23.4
2025-05-21T21:34:47.406Z: Setting column 2 (living room humidity) to 63.5
2025-05-21T21:34:47.406Z: Setting column 4 (light_state) to false
2025-05-21T21:34:47.406Z: Setting column 5 (ac_state) to false
2025-05-21T21:34:47.406Z: Preparing row: 2025-05-21 21:34:47,23.4,63.5,true,false,false,41413915
2025-05-21T21:34:47.406Z: Successfully wrote to log file using writeFileSync
2025-05-21T21:34:47.406Z: Successfully logged combined sensor data in one row
2025-05-21T21:34:47.411Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-21T21:34:47.411Z: Polling interval active: true
2025-05-21T21:36:25.546Z: Polling for sensor data... (poll #28)
2025-05-21T21:36:25.547Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-21T21:36:25.547Z: Received sensor data: {"temperature":23.4,"humidity":63.4}
2025-05-21T21:36:25.547Z: Formatted events: [{"name":"living room temperature","value":23.4,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":63.4,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-21T21:36:25.547Z: Successfully updated event: living room temperature = 23.4
2025-05-21T21:36:25.547Z: Successfully updated event: living room humidity = 63.4
2025-05-21T21:36:26.125Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":23.4,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":63.4,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-21T21:36:26.125Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-21T21:36:26.125Z: Received motion sensor data: {"motionDetected":false}
2025-05-21T21:36:26.125Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-21T21:36:26.125Z: Successfully updated motion event: living room motion = false
2025-05-21T21:36:26.269Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-21T21:36:26.865Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":false,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-21T21:36:26.930276Z"}}
2025-05-21T21:36:26.865Z: Extracted AC on state: false
2025-05-21T21:36:27.214Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":false},"success":true}
2025-05-21T21:36:27.214Z: Extracted light state: false
2025-05-21T21:36:27.215Z: Creating a combined row with motion=false, temp=23.4, humidity=63.4, light=false, ac_on=false
2025-05-21T21:36:27.215Z: logSensorData called with 5 sensors
2025-05-21T21:36:27.215Z: Column map has 5 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5]]
2025-05-21T21:36:27.215Z: Setting spaceId column 6 to 41413915
2025-05-21T21:36:27.215Z: Setting column 3 (living room motion) to false
2025-05-21T21:36:27.215Z: Setting column 1 (living room temperature) to 23.4
2025-05-21T21:36:27.215Z: Setting column 2 (living room humidity) to 63.4
2025-05-21T21:36:27.215Z: Setting column 4 (light_state) to false
2025-05-21T21:36:27.215Z: Setting column 5 (ac_state) to false
2025-05-21T21:36:27.215Z: Preparing row: 2025-05-21 21:36:27,23.4,63.4,false,false,false,41413915
2025-05-21T21:36:27.215Z: Successfully wrote to log file using writeFileSync
2025-05-21T21:36:27.215Z: Successfully logged combined sensor data in one row
2025-05-21T21:36:27.218Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-21T21:36:27.218Z: Polling interval active: true
2025-05-21T21:38:05.558Z: Polling for sensor data... (poll #29)
2025-05-21T21:38:05.558Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-21T21:38:05.558Z: Received sensor data: {"temperature":23.4,"humidity":63.4}
2025-05-21T21:38:05.558Z: Formatted events: [{"name":"living room temperature","value":23.4,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":63.4,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-21T21:38:05.558Z: Successfully updated event: living room temperature = 23.4
2025-05-21T21:38:05.558Z: Successfully updated event: living room humidity = 63.4
2025-05-21T21:38:06.125Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":23.4,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":63.4,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-21T21:38:06.125Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-21T21:38:06.125Z: Received motion sensor data: {"motionDetected":false}
2025-05-21T21:38:06.125Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-21T21:38:06.125Z: Successfully updated motion event: living room motion = false
2025-05-21T21:38:06.272Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-21T21:38:06.972Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":false,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-21T21:38:07.038540Z"}}
2025-05-21T21:38:06.972Z: Extracted AC on state: false
2025-05-21T21:38:07.336Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":false},"success":true}
2025-05-21T21:38:07.337Z: Extracted light state: false
2025-05-21T21:38:07.337Z: Creating a combined row with motion=false, temp=23.4, humidity=63.4, light=false, ac_on=false
2025-05-21T21:38:07.337Z: logSensorData called with 5 sensors
2025-05-21T21:38:07.337Z: Column map has 5 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5]]
2025-05-21T21:38:07.337Z: Setting spaceId column 6 to 41413915
2025-05-21T21:38:07.337Z: Setting column 3 (living room motion) to false
2025-05-21T21:38:07.337Z: Setting column 1 (living room temperature) to 23.4
2025-05-21T21:38:07.337Z: Setting column 2 (living room humidity) to 63.4
2025-05-21T21:38:07.337Z: Setting column 4 (light_state) to false
2025-05-21T21:38:07.337Z: Setting column 5 (ac_state) to false
2025-05-21T21:38:07.337Z: Preparing row: 2025-05-21 21:38:07,23.4,63.4,false,false,false,41413915
2025-05-21T21:38:07.337Z: Successfully wrote to log file using writeFileSync
2025-05-21T21:38:07.337Z: Successfully logged combined sensor data in one row
2025-05-21T21:38:07.340Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-21T21:38:07.340Z: Polling interval active: true
2025-05-21T21:39:45.572Z: Polling for sensor data... (poll #30)
2025-05-21T21:39:45.573Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-21T21:39:45.573Z: Received sensor data: {"temperature":23.5,"humidity":63.3}
2025-05-21T21:39:45.573Z: Formatted events: [{"name":"living room temperature","value":23.5,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":63.3,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-21T21:39:45.573Z: Successfully updated event: living room temperature = 23.5
2025-05-21T21:39:45.573Z: Successfully updated event: living room humidity = 63.3
2025-05-21T21:39:46.192Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":23.5,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":63.3,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-21T21:39:46.192Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-21T21:39:46.192Z: Received motion sensor data: {"motionDetected":false}
2025-05-21T21:39:46.192Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-21T21:39:46.192Z: Successfully updated motion event: living room motion = false
2025-05-21T21:39:46.351Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-21T21:39:47.269Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":false,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-21T21:39:47.037578Z"}}
2025-05-21T21:39:47.270Z: Extracted AC on state: false
2025-05-21T21:39:47.622Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":false},"success":true}
2025-05-21T21:39:47.623Z: Extracted light state: false
2025-05-21T21:39:47.623Z: Creating a combined row with motion=false, temp=23.5, humidity=63.3, light=false, ac_on=false
2025-05-21T21:39:47.623Z: logSensorData called with 5 sensors
2025-05-21T21:39:47.623Z: Column map has 5 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5]]
2025-05-21T21:39:47.623Z: Setting spaceId column 6 to 41413915
2025-05-21T21:39:47.623Z: Setting column 3 (living room motion) to false
2025-05-21T21:39:47.623Z: Setting column 1 (living room temperature) to 23.5
2025-05-21T21:39:47.623Z: Setting column 2 (living room humidity) to 63.3
2025-05-21T21:39:47.623Z: Setting column 4 (light_state) to false
2025-05-21T21:39:47.623Z: Setting column 5 (ac_state) to false
2025-05-21T21:39:47.623Z: Preparing row: 2025-05-21 21:39:47,23.5,63.3,false,false,false,41413915
2025-05-21T21:39:47.623Z: Successfully wrote to log file using writeFileSync
2025-05-21T21:39:47.623Z: Successfully logged combined sensor data in one row
2025-05-21T21:39:47.627Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-21T21:39:47.627Z: Polling interval active: true
2025-05-21T21:41:25.580Z: Polling for sensor data... (poll #31)
2025-05-21T21:41:25.581Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-21T21:41:25.581Z: Received sensor data: {"temperature":23.5,"humidity":63.3}
2025-05-21T21:41:25.581Z: Formatted events: [{"name":"living room temperature","value":23.5,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":63.3,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-21T21:41:25.581Z: Successfully updated event: living room temperature = 23.5
2025-05-21T21:41:25.581Z: Successfully updated event: living room humidity = 63.3
2025-05-21T21:41:26.420Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":23.5,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":63.3,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-21T21:41:26.420Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-21T21:41:26.420Z: Received motion sensor data: {"motionDetected":false}
2025-05-21T21:41:26.420Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-21T21:41:26.420Z: Successfully updated motion event: living room motion = false
2025-05-21T21:41:26.573Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-21T21:41:27.137Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":false,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-21T21:41:27.208924Z"}}
2025-05-21T21:41:27.138Z: Extracted AC on state: false
2025-05-21T21:41:27.472Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":false},"success":true}
2025-05-21T21:41:27.473Z: Extracted light state: false
2025-05-21T21:41:27.473Z: Creating a combined row with motion=false, temp=23.5, humidity=63.3, light=false, ac_on=false
2025-05-21T21:41:27.474Z: logSensorData called with 5 sensors
2025-05-21T21:41:27.474Z: Column map has 5 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5]]
2025-05-21T21:41:27.474Z: Setting spaceId column 6 to 41413915
2025-05-21T21:41:27.474Z: Setting column 3 (living room motion) to false
2025-05-21T21:41:27.474Z: Setting column 1 (living room temperature) to 23.5
2025-05-21T21:41:27.474Z: Setting column 2 (living room humidity) to 63.3
2025-05-21T21:41:27.474Z: Setting column 4 (light_state) to false
2025-05-21T21:41:27.474Z: Setting column 5 (ac_state) to false
2025-05-21T21:41:27.474Z: Preparing row: 2025-05-21 21:41:27,23.5,63.3,false,false,false,41413915
2025-05-21T21:41:27.474Z: Successfully wrote to log file using writeFileSync
2025-05-21T21:41:27.473Z: Successfully logged combined sensor data in one row
2025-05-21T21:41:27.477Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-21T21:41:27.477Z: Polling interval active: true
2025-05-21T21:43:05.582Z: Polling for sensor data... (poll #32)
2025-05-21T21:43:05.583Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-21T21:43:05.583Z: Received sensor data: {"temperature":23.5,"humidity":63.2}
2025-05-21T21:43:05.583Z: Formatted events: [{"name":"living room temperature","value":23.5,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":63.2,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-21T21:43:05.583Z: Successfully updated event: living room temperature = 23.5
2025-05-21T21:43:05.583Z: Successfully updated event: living room humidity = 63.2
2025-05-21T21:43:06.123Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":23.5,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":63.2,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-21T21:43:06.123Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-21T21:43:06.123Z: Received motion sensor data: {"motionDetected":false}
2025-05-21T21:43:06.123Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-21T21:43:06.123Z: Successfully updated motion event: living room motion = false
2025-05-21T21:43:06.269Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-21T21:43:06.842Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":false,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-21T21:43:06.918808Z"}}
2025-05-21T21:43:06.842Z: Extracted AC on state: false
2025-05-21T21:43:07.180Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":false},"success":true}
2025-05-21T21:43:07.181Z: Extracted light state: false
2025-05-21T21:43:07.181Z: Creating a combined row with motion=false, temp=23.5, humidity=63.2, light=false, ac_on=false
2025-05-21T21:43:07.182Z: logSensorData called with 5 sensors
2025-05-21T21:43:07.182Z: Column map has 5 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5]]
2025-05-21T21:43:07.182Z: Setting spaceId column 6 to 41413915
2025-05-21T21:43:07.182Z: Setting column 3 (living room motion) to false
2025-05-21T21:43:07.182Z: Setting column 1 (living room temperature) to 23.5
2025-05-21T21:43:07.182Z: Setting column 2 (living room humidity) to 63.2
2025-05-21T21:43:07.182Z: Setting column 4 (light_state) to false
2025-05-21T21:43:07.182Z: Setting column 5 (ac_state) to false
2025-05-21T21:43:07.182Z: Preparing row: 2025-05-21 21:43:07,23.5,63.2,false,false,false,41413915
2025-05-21T21:43:07.182Z: Successfully wrote to log file using writeFileSync
2025-05-21T21:43:07.181Z: Successfully logged combined sensor data in one row
2025-05-21T21:43:07.185Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-21T21:43:07.185Z: Polling interval active: true
2025-05-21T21:44:45.587Z: Polling for sensor data... (poll #33)
2025-05-21T21:44:45.588Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-21T21:44:45.588Z: Received sensor data: {"temperature":23.5,"humidity":63.3}
2025-05-21T21:44:45.588Z: Formatted events: [{"name":"living room temperature","value":23.5,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":63.3,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-21T21:44:45.588Z: Successfully updated event: living room temperature = 23.5
2025-05-21T21:44:45.588Z: Successfully updated event: living room humidity = 63.3
2025-05-21T21:44:46.248Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":23.5,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":63.3,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-21T21:44:46.249Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-21T21:44:46.249Z: Received motion sensor data: {"motionDetected":false}
2025-05-21T21:44:46.249Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-21T21:44:46.249Z: Successfully updated motion event: living room motion = false
2025-05-21T21:44:46.464Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-21T21:44:47.024Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":false,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-21T21:44:47.103200Z"}}
2025-05-21T21:44:47.025Z: Extracted AC on state: false
2025-05-21T21:44:47.374Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":false},"success":true}
2025-05-21T21:44:47.375Z: Extracted light state: false
2025-05-21T21:44:47.375Z: Creating a combined row with motion=false, temp=23.5, humidity=63.3, light=false, ac_on=false
2025-05-21T21:44:47.375Z: logSensorData called with 5 sensors
2025-05-21T21:44:47.375Z: Column map has 5 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5]]
2025-05-21T21:44:47.375Z: Setting spaceId column 6 to 41413915
2025-05-21T21:44:47.375Z: Setting column 3 (living room motion) to false
2025-05-21T21:44:47.375Z: Setting column 1 (living room temperature) to 23.5
2025-05-21T21:44:47.375Z: Setting column 2 (living room humidity) to 63.3
2025-05-21T21:44:47.375Z: Setting column 4 (light_state) to false
2025-05-21T21:44:47.375Z: Setting column 5 (ac_state) to false
2025-05-21T21:44:47.375Z: Preparing row: 2025-05-21 21:44:47,23.5,63.3,false,false,false,41413915
2025-05-21T21:44:47.375Z: Successfully wrote to log file using writeFileSync
2025-05-21T21:44:47.375Z: Successfully logged combined sensor data in one row
2025-05-21T21:44:47.379Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-21T21:44:47.379Z: Polling interval active: true
2025-05-21T21:46:25.588Z: Polling for sensor data... (poll #34)
2025-05-21T21:46:25.589Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-21T21:46:25.589Z: Received sensor data: {"temperature":23.5,"humidity":63.2}
2025-05-21T21:46:25.589Z: Formatted events: [{"name":"living room temperature","value":23.5,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":63.2,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-21T21:46:25.589Z: Successfully updated event: living room temperature = 23.5
2025-05-21T21:46:25.589Z: Successfully updated event: living room humidity = 63.2
2025-05-21T21:46:26.151Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":23.5,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":63.2,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-21T21:46:26.151Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-21T21:46:26.151Z: Received motion sensor data: {"motionDetected":false}
2025-05-21T21:46:26.151Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-21T21:46:26.151Z: Successfully updated motion event: living room motion = false
2025-05-21T21:46:26.303Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-21T21:46:26.867Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":false,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-21T21:46:26.946308Z"}}
2025-05-21T21:46:26.867Z: Extracted AC on state: false
2025-05-21T21:46:27.200Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":false},"success":true}
2025-05-21T21:46:27.201Z: Extracted light state: false
2025-05-21T21:46:27.201Z: Creating a combined row with motion=false, temp=23.5, humidity=63.2, light=false, ac_on=false
2025-05-21T21:46:27.201Z: logSensorData called with 5 sensors
2025-05-21T21:46:27.201Z: Column map has 5 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5]]
2025-05-21T21:46:27.201Z: Setting spaceId column 6 to 41413915
2025-05-21T21:46:27.201Z: Setting column 3 (living room motion) to false
2025-05-21T21:46:27.201Z: Setting column 1 (living room temperature) to 23.5
2025-05-21T21:46:27.201Z: Setting column 2 (living room humidity) to 63.2
2025-05-21T21:46:27.201Z: Setting column 4 (light_state) to false
2025-05-21T21:46:27.201Z: Setting column 5 (ac_state) to false
2025-05-21T21:46:27.201Z: Preparing row: 2025-05-21 21:46:27,23.5,63.2,false,false,false,41413915
2025-05-21T21:46:27.201Z: Successfully wrote to log file using writeFileSync
2025-05-21T21:46:27.201Z: Successfully logged combined sensor data in one row
2025-05-21T21:46:27.205Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-21T21:46:27.205Z: Polling interval active: true
2025-05-21T21:48:05.599Z: Polling for sensor data... (poll #35)
2025-05-21T21:48:05.600Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-21T21:48:05.600Z: Received sensor data: {"temperature":23.4,"humidity":63.4}
2025-05-21T21:48:05.600Z: Formatted events: [{"name":"living room temperature","value":23.4,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":63.4,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-21T21:48:05.600Z: Successfully updated event: living room temperature = 23.4
2025-05-21T21:48:05.600Z: Successfully updated event: living room humidity = 63.4
2025-05-21T21:48:06.215Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":23.4,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":63.4,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-21T21:48:06.215Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-21T21:48:06.215Z: Received motion sensor data: {"motionDetected":false}
2025-05-21T21:48:06.215Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-21T21:48:06.215Z: Successfully updated motion event: living room motion = false
2025-05-21T21:48:06.363Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-21T21:48:06.912Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":false,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-21T21:48:06.998377Z"}}
2025-05-21T21:48:06.912Z: Extracted AC on state: false
2025-05-21T21:48:07.240Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":false},"success":true}
2025-05-21T21:48:07.240Z: Extracted light state: false
2025-05-21T21:48:07.240Z: Creating a combined row with motion=false, temp=23.4, humidity=63.4, light=false, ac_on=false
2025-05-21T21:48:07.241Z: logSensorData called with 5 sensors
2025-05-21T21:48:07.241Z: Column map has 5 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5]]
2025-05-21T21:48:07.241Z: Setting spaceId column 6 to 41413915
2025-05-21T21:48:07.241Z: Setting column 3 (living room motion) to false
2025-05-21T21:48:07.241Z: Setting column 1 (living room temperature) to 23.4
2025-05-21T21:48:07.241Z: Setting column 2 (living room humidity) to 63.4
2025-05-21T21:48:07.241Z: Setting column 4 (light_state) to false
2025-05-21T21:48:07.241Z: Setting column 5 (ac_state) to false
2025-05-21T21:48:07.241Z: Preparing row: 2025-05-21 21:48:07,23.4,63.4,false,false,false,41413915
2025-05-21T21:48:07.241Z: Successfully wrote to log file using writeFileSync
2025-05-21T21:48:07.240Z: Successfully logged combined sensor data in one row
2025-05-21T21:48:07.244Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-21T21:48:07.244Z: Polling interval active: true
2025-05-21T21:49:45.603Z: Polling for sensor data... (poll #36)
2025-05-21T21:49:45.604Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-21T21:49:45.604Z: Received sensor data: {"temperature":23.4,"humidity":62.7}
2025-05-21T21:49:45.604Z: Formatted events: [{"name":"living room temperature","value":23.4,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":62.7,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-21T21:49:45.604Z: Successfully updated event: living room temperature = 23.4
2025-05-21T21:49:45.604Z: Successfully updated event: living room humidity = 62.7
2025-05-21T21:49:46.199Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":23.4,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":62.7,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-21T21:49:46.199Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-21T21:49:46.199Z: Received motion sensor data: {"motionDetected":true}
2025-05-21T21:49:46.199Z: Formatted motion sensor events: [{"name":"living room motion","value":true,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-21T21:49:46.199Z: Successfully updated motion event: living room motion = true
2025-05-21T21:49:46.343Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":true,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-21T21:49:46.950Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":false,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-21T21:49:47.036658Z"}}
2025-05-21T21:49:46.950Z: Extracted AC on state: false
2025-05-21T21:49:47.295Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":false},"success":true}
2025-05-21T21:49:47.295Z: Extracted light state: false
2025-05-21T21:49:47.296Z: Creating a combined row with motion=true, temp=23.4, humidity=62.7, light=false, ac_on=false
2025-05-21T21:49:47.296Z: logSensorData called with 5 sensors
2025-05-21T21:49:47.296Z: Column map has 5 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5]]
2025-05-21T21:49:47.296Z: Setting spaceId column 6 to 41413915
2025-05-21T21:49:47.296Z: Setting column 3 (living room motion) to true
2025-05-21T21:49:47.296Z: Setting column 1 (living room temperature) to 23.4
2025-05-21T21:49:47.296Z: Setting column 2 (living room humidity) to 62.7
2025-05-21T21:49:47.296Z: Setting column 4 (light_state) to false
2025-05-21T21:49:47.296Z: Setting column 5 (ac_state) to false
2025-05-21T21:49:47.296Z: Preparing row: 2025-05-21 21:49:47,23.4,62.7,true,false,false,41413915
2025-05-21T21:49:47.296Z: Successfully wrote to log file using writeFileSync
2025-05-21T21:49:47.296Z: Successfully logged combined sensor data in one row
2025-05-21T21:49:47.299Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-21T21:49:47.299Z: Polling interval active: true
2025-05-21T21:51:25.614Z: Polling for sensor data... (poll #37)
2025-05-21T21:51:25.615Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-21T21:51:25.615Z: Received sensor data: {"temperature":23.4,"humidity":63}
2025-05-21T21:51:25.615Z: Formatted events: [{"name":"living room temperature","value":23.4,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":63,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-21T21:51:25.615Z: Successfully updated event: living room temperature = 23.4
2025-05-21T21:51:25.615Z: Successfully updated event: living room humidity = 63
2025-05-21T21:51:26.262Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":23.4,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":63,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-21T21:51:26.262Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-21T21:51:26.262Z: Received motion sensor data: {"motionDetected":false}
2025-05-21T21:51:26.262Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-21T21:51:26.262Z: Successfully updated motion event: living room motion = false
2025-05-21T21:51:26.414Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-21T21:51:27.007Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":false,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-21T21:51:27.089350Z"}}
2025-05-21T21:51:27.007Z: Extracted AC on state: false
2025-05-21T21:51:27.348Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":false},"success":true}
2025-05-21T21:51:27.349Z: Extracted light state: false
2025-05-21T21:51:27.349Z: Creating a combined row with motion=false, temp=23.4, humidity=63, light=false, ac_on=false
2025-05-21T21:51:27.349Z: logSensorData called with 5 sensors
2025-05-21T21:51:27.349Z: Column map has 5 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5]]
2025-05-21T21:51:27.349Z: Setting spaceId column 6 to 41413915
2025-05-21T21:51:27.349Z: Setting column 3 (living room motion) to false
2025-05-21T21:51:27.349Z: Setting column 1 (living room temperature) to 23.4
2025-05-21T21:51:27.349Z: Setting column 2 (living room humidity) to 63
2025-05-21T21:51:27.349Z: Setting column 4 (light_state) to false
2025-05-21T21:51:27.349Z: Setting column 5 (ac_state) to false
2025-05-21T21:51:27.349Z: Preparing row: 2025-05-21 21:51:27,23.4,63,false,false,false,41413915
2025-05-21T21:51:27.349Z: Successfully wrote to log file using writeFileSync
2025-05-21T21:51:27.349Z: Successfully logged combined sensor data in one row
2025-05-21T21:51:27.351Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-21T21:51:27.352Z: Polling interval active: true
2025-05-21T21:53:05.617Z: Polling for sensor data... (poll #38)
2025-05-21T21:53:05.618Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-21T21:53:05.618Z: Received sensor data: {"temperature":23.3,"humidity":63.2}
2025-05-21T21:53:05.618Z: Formatted events: [{"name":"living room temperature","value":23.3,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":63.2,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-21T21:53:05.618Z: Successfully updated event: living room temperature = 23.3
2025-05-21T21:53:05.618Z: Successfully updated event: living room humidity = 63.2
2025-05-21T21:53:06.155Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":23.3,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":63.2,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-21T21:53:06.155Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-21T21:53:06.155Z: Received motion sensor data: {"motionDetected":false}
2025-05-21T21:53:06.155Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-21T21:53:06.155Z: Successfully updated motion event: living room motion = false
2025-05-21T21:53:06.303Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-21T21:53:06.883Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":false,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-21T21:53:06.977186Z"}}
2025-05-21T21:53:06.884Z: Extracted AC on state: false
2025-05-21T21:53:07.218Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":false},"success":true}
2025-05-21T21:53:07.219Z: Extracted light state: false
2025-05-21T21:53:07.219Z: Creating a combined row with motion=false, temp=23.3, humidity=63.2, light=false, ac_on=false
2025-05-21T21:53:07.220Z: logSensorData called with 5 sensors
2025-05-21T21:53:07.220Z: Column map has 5 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5]]
2025-05-21T21:53:07.220Z: Setting spaceId column 6 to 41413915
2025-05-21T21:53:07.220Z: Setting column 3 (living room motion) to false
2025-05-21T21:53:07.220Z: Setting column 1 (living room temperature) to 23.3
2025-05-21T21:53:07.220Z: Setting column 2 (living room humidity) to 63.2
2025-05-21T21:53:07.220Z: Setting column 4 (light_state) to false
2025-05-21T21:53:07.220Z: Setting column 5 (ac_state) to false
2025-05-21T21:53:07.220Z: Preparing row: 2025-05-21 21:53:07,23.3,63.2,false,false,false,41413915
2025-05-21T21:53:07.220Z: Successfully wrote to log file using writeFileSync
2025-05-21T21:53:07.219Z: Successfully logged combined sensor data in one row
2025-05-21T21:53:07.223Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-21T21:53:07.223Z: Polling interval active: true
2025-05-21T21:54:40.077Z: Initializing sensor logging service
2025-05-21T21:54:40.077Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-21T21:54:40.078Z: Added light_state column to event names
2025-05-21T21:54:40.078Z: Added ac_state column to event names
2025-05-21T21:54:40.079Z: Using existing log file
2025-05-21T21:54:40.081Z: Logging enabled
2025-05-21T21:54:40.082Z: No polling was active to stop
2025-05-21T21:54:40.083Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-05-21T21:54:40.083Z: Polling interval set with ID: 1283
2025-05-21T21:54:40.083Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-21T21:54:40.084Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-21T21:54:40.107Z: Initializing sensor logging service
2025-05-21T21:54:40.107Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-21T21:54:40.108Z: Added light_state column to event names
2025-05-21T21:54:40.108Z: Added ac_state column to event names
2025-05-21T21:54:40.108Z: Using existing log file
2025-05-21T21:54:40.110Z: Closing existing log stream before creating new one
2025-05-21T21:54:40.110Z: Logging enabled
2025-05-21T21:54:40.110Z: Stopping sensor polling interval: 1283
2025-05-21T21:54:40.110Z: Closing logging service
2025-05-21T21:54:40.111Z: Closing sensor logging service
2025-05-21T21:54:40.111Z: Closing log stream
2025-05-21T21:54:40.111Z: Logging stopped at 2025-05-21T21:54:40.111Z
2025-05-21T21:54:40.112Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-05-21T21:54:40.112Z: Polling interval set with ID: 1431
2025-05-21T21:54:40.113Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-21T21:54:40.113Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-21T21:54:40.084Z: Received motion sensor data: {"motionDetected":false}
2025-05-21T21:54:40.084Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-21T21:54:40.084Z: Successfully updated motion event: living room motion = false
2025-05-21T21:54:40.113Z: Received motion sensor data: {"motionDetected":false}
2025-05-21T21:54:40.113Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-21T21:54:40.113Z: Successfully updated motion event: living room motion = false
2025-05-21T21:54:40.083Z: Received sensor data: {"temperature":23.3,"humidity":63.5}
2025-05-21T21:54:40.083Z: Formatted events: [{"name":"living room temperature","value":23.3,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":63.5,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-21T21:54:40.083Z: Successfully updated event: living room temperature = 23.3
2025-05-21T21:54:40.083Z: Successfully updated event: living room humidity = 63.5
2025-05-21T21:54:40.843Z: Creating a combined row with motion=false, temp=23.3, humidity=63.5, light=false, ac_on=false
2025-05-21T21:54:40.844Z: logSensorData called with 5 sensors
2025-05-21T21:54:40.844Z: WARNING - Logging is disabled but logSensorData was called
2025-05-21T21:54:40.844Z: Attempting to re-initialize logging with existing events
2025-05-21T21:54:40.844Z: Initializing sensor logging service
2025-05-21T21:54:40.845Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-21T21:54:40.845Z: Using existing log file
2025-05-21T21:54:40.844Z: Column map has 5 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5]]
2025-05-21T21:54:40.844Z: Setting spaceId column 6 to 41413915
2025-05-21T21:54:40.844Z: Setting column 3 (living room motion) to false
2025-05-21T21:54:40.844Z: Setting column 1 (living room temperature) to 23.3
2025-05-21T21:54:40.844Z: Setting column 2 (living room humidity) to 63.5
2025-05-21T21:54:40.844Z: Setting column 4 (light_state) to false
2025-05-21T21:54:40.844Z: Setting column 5 (ac_state) to false
2025-05-21T21:54:40.844Z: Preparing row: 2025-05-21 21:54:40,23.3,63.5,false,false,false,41413915
2025-05-21T21:54:40.844Z: Successfully wrote to log file using writeFileSync
2025-05-21T21:54:40.843Z: Successfully logged combined sensor data in one row
2025-05-21T21:54:40.848Z: Initial combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-21T21:54:40.849Z: Logging enabled
2025-05-21T21:54:40.844Z: Re-initialization result: {"success":true,"message":"Sensor logging initialized to C:\\Users\\amin\\Desktop\\smart-space\\SmartSchool-Server\\logs\\sensor_data.csv","columns":[["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5]]}
2025-05-21T21:54:40.113Z: Received sensor data: {"temperature":23.3,"humidity":63.5}
2025-05-21T21:54:40.113Z: Formatted events: [{"name":"living room temperature","value":23.3,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":63.5,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-21T21:54:40.113Z: Successfully updated event: living room temperature = 23.3
2025-05-21T21:54:40.113Z: Successfully updated event: living room humidity = 63.5
2025-05-21T21:54:40.922Z: Creating a combined row with motion=false, temp=23.3, humidity=63.5, light=false, ac_on=false
2025-05-21T21:54:40.923Z: logSensorData called with 5 sensors
2025-05-21T21:54:40.923Z: Column map has 5 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5]]
2025-05-21T21:54:40.923Z: Setting spaceId column 6 to 41413915
2025-05-21T21:54:40.923Z: Setting column 3 (living room motion) to false
2025-05-21T21:54:40.923Z: Setting column 1 (living room temperature) to 23.3
2025-05-21T21:54:40.923Z: Setting column 2 (living room humidity) to 63.5
2025-05-21T21:54:40.923Z: Setting column 4 (light_state) to false
2025-05-21T21:54:40.923Z: Setting column 5 (ac_state) to false
2025-05-21T21:54:40.923Z: Preparing row: 2025-05-21 21:54:40,23.3,63.5,false,false,false,41413915
2025-05-21T21:54:40.923Z: Successfully wrote to log file using writeFileSync
2025-05-21T21:54:40.922Z: Successfully logged combined sensor data in one row
2025-05-21T21:54:40.925Z: Initial combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T08:41:51.355Z: Initializing sensor logging service
2025-05-22T08:41:51.355Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-22T08:41:51.356Z: Added light_state column to event names
2025-05-22T08:41:51.356Z: Added ac_state column to event names
2025-05-22T08:41:51.356Z: Using existing log file
2025-05-22T08:41:51.358Z: Logging enabled
2025-05-22T08:41:51.358Z: No polling was active to stop
2025-05-22T08:41:51.359Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-05-22T08:41:51.359Z: Polling interval set with ID: 1328
2025-05-22T08:41:51.360Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T08:41:51.361Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T08:41:51.419Z: Initializing sensor logging service
2025-05-22T08:41:51.420Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-22T08:41:51.420Z: Added light_state column to event names
2025-05-22T08:41:51.420Z: Added ac_state column to event names
2025-05-22T08:41:51.421Z: Using existing log file
2025-05-22T08:41:51.422Z: Closing existing log stream before creating new one
2025-05-22T08:41:51.422Z: Logging enabled
2025-05-22T08:41:51.422Z: Stopping sensor polling interval: 1328
2025-05-22T08:41:51.422Z: Closing logging service
2025-05-22T08:41:51.423Z: Closing sensor logging service
2025-05-22T08:41:51.423Z: Closing log stream
2025-05-22T08:41:51.423Z: Logging stopped at 2025-05-22T08:41:51.423Z
2025-05-22T08:41:51.424Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-05-22T08:41:51.424Z: Polling interval set with ID: 1610
2025-05-22T08:41:51.425Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T08:41:51.425Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T08:41:51.361Z: Received motion sensor data: {"motionDetected":false}
2025-05-22T08:41:51.361Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T08:41:51.361Z: Successfully updated motion event: living room motion = false
2025-05-22T08:41:51.425Z: Received motion sensor data: {"motionDetected":false}
2025-05-22T08:41:51.425Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T08:41:51.425Z: Successfully updated motion event: living room motion = false
2025-05-22T08:41:51.360Z: Received sensor data: {"temperature":22.7,"humidity":63.6}
2025-05-22T08:41:51.360Z: Formatted events: [{"name":"living room temperature","value":22.7,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":63.6,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T08:41:51.360Z: Successfully updated event: living room temperature = 22.7
2025-05-22T08:41:51.360Z: Successfully updated event: living room humidity = 63.6
2025-05-22T08:41:52.190Z: Creating a combined row with motion=false, temp=22.7, humidity=63.6, light=false, ac_on=false
2025-05-22T08:41:52.191Z: logSensorData called with 5 sensors
2025-05-22T08:41:52.191Z: WARNING - Logging is disabled but logSensorData was called
2025-05-22T08:41:52.191Z: Attempting to re-initialize logging with existing events
2025-05-22T08:41:52.192Z: Initializing sensor logging service
2025-05-22T08:41:52.193Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-22T08:41:52.194Z: Using existing log file
2025-05-22T08:41:52.191Z: Column map has 5 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5]]
2025-05-22T08:41:52.191Z: Setting spaceId column 6 to 41413915
2025-05-22T08:41:52.191Z: Setting column 3 (living room motion) to false
2025-05-22T08:41:52.191Z: Setting column 1 (living room temperature) to 22.7
2025-05-22T08:41:52.191Z: Setting column 2 (living room humidity) to 63.6
2025-05-22T08:41:52.191Z: Setting column 4 (light_state) to false
2025-05-22T08:41:52.191Z: Setting column 5 (ac_state) to false
2025-05-22T08:41:52.191Z: Preparing row: 2025-05-22 08:41:52,22.7,63.6,false,false,false,41413915
2025-05-22T08:41:52.191Z: Successfully wrote to log file using writeFileSync
2025-05-22T08:41:52.190Z: Successfully logged combined sensor data in one row
2025-05-22T08:41:52.197Z: Initial combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T08:41:52.198Z: Logging enabled
2025-05-22T08:41:52.191Z: Re-initialization result: {"success":true,"message":"Sensor logging initialized to C:\\Users\\amin\\Desktop\\smart-space\\SmartSchool-Server\\logs\\sensor_data.csv","columns":[["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5]]}
2025-05-22T08:41:51.425Z: Received sensor data: {"temperature":22.7,"humidity":63.6}
2025-05-22T08:41:51.425Z: Formatted events: [{"name":"living room temperature","value":22.7,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":63.6,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T08:41:51.425Z: Successfully updated event: living room temperature = 22.7
2025-05-22T08:41:51.425Z: Successfully updated event: living room humidity = 63.6
2025-05-22T08:41:52.250Z: Creating a combined row with motion=false, temp=22.7, humidity=63.6, light=false, ac_on=false
2025-05-22T08:41:52.250Z: logSensorData called with 5 sensors
2025-05-22T08:41:52.250Z: Column map has 5 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5]]
2025-05-22T08:41:52.250Z: Setting spaceId column 6 to 41413915
2025-05-22T08:41:52.250Z: Setting column 3 (living room motion) to false
2025-05-22T08:41:52.250Z: Setting column 1 (living room temperature) to 22.7
2025-05-22T08:41:52.250Z: Setting column 2 (living room humidity) to 63.6
2025-05-22T08:41:52.250Z: Setting column 4 (light_state) to false
2025-05-22T08:41:52.250Z: Setting column 5 (ac_state) to false
2025-05-22T08:41:52.250Z: Preparing row: 2025-05-22 08:41:52,22.7,63.6,false,false,false,41413915
2025-05-22T08:41:52.250Z: Successfully wrote to log file using writeFileSync
2025-05-22T08:41:52.250Z: Successfully logged combined sensor data in one row
2025-05-22T08:41:52.252Z: Initial combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T08:43:31.428Z: Polling for sensor data... (poll #1)
2025-05-22T08:43:31.429Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T08:43:31.429Z: Received sensor data: {"temperature":22.7,"humidity":63.4}
2025-05-22T08:43:31.429Z: Formatted events: [{"name":"living room temperature","value":22.7,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":63.4,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T08:43:31.429Z: Successfully updated event: living room temperature = 22.7
2025-05-22T08:43:31.429Z: Successfully updated event: living room humidity = 63.4
2025-05-22T08:43:32.035Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":22.7,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":63.4,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-22T08:43:32.035Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T08:43:32.035Z: Received motion sensor data: {"motionDetected":false}
2025-05-22T08:43:32.035Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T08:43:32.035Z: Successfully updated motion event: living room motion = false
2025-05-22T08:43:32.182Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-22T08:43:32.714Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":true,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-22T08:43:32.925854Z"}}
2025-05-22T08:43:32.714Z: Extracted AC on state: false
2025-05-22T08:43:33.056Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":false},"success":true}
2025-05-22T08:43:33.057Z: Extracted light state: false
2025-05-22T08:43:33.057Z: Creating a combined row with motion=false, temp=22.7, humidity=63.4, light=false, ac_on=false
2025-05-22T08:43:33.057Z: logSensorData called with 5 sensors
2025-05-22T08:43:33.057Z: Column map has 5 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5]]
2025-05-22T08:43:33.057Z: Setting spaceId column 6 to 41413915
2025-05-22T08:43:33.057Z: Setting column 3 (living room motion) to false
2025-05-22T08:43:33.057Z: Setting column 1 (living room temperature) to 22.7
2025-05-22T08:43:33.057Z: Setting column 2 (living room humidity) to 63.4
2025-05-22T08:43:33.057Z: Setting column 4 (light_state) to false
2025-05-22T08:43:33.057Z: Setting column 5 (ac_state) to false
2025-05-22T08:43:33.057Z: Preparing row: 2025-05-22 08:43:33,22.7,63.4,false,false,false,41413915
2025-05-22T08:43:33.057Z: Successfully wrote to log file using writeFileSync
2025-05-22T08:43:33.057Z: Successfully logged combined sensor data in one row
2025-05-22T08:43:33.060Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T08:43:33.060Z: Polling interval active: true
2025-05-22T08:44:43.327Z: Initializing sensor logging service
2025-05-22T08:44:43.328Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-22T08:44:43.328Z: Added light_state column to event names
2025-05-22T08:44:43.329Z: Added ac_state column to event names
2025-05-22T08:44:43.329Z: Using existing log file
2025-05-22T08:44:43.332Z: Logging enabled
2025-05-22T08:44:43.332Z: No polling was active to stop
2025-05-22T08:44:43.333Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-05-22T08:44:43.333Z: Polling interval set with ID: 1351
2025-05-22T08:44:43.334Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T08:44:43.334Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T08:44:43.334Z: Received motion sensor data: {"motionDetected":false}
2025-05-22T08:44:43.334Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T08:44:43.334Z: Successfully updated motion event: living room motion = false
2025-05-22T08:44:43.738Z: Initializing sensor logging service
2025-05-22T08:44:43.738Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-22T08:44:43.739Z: Added light_state column to event names
2025-05-22T08:44:43.739Z: Added ac_state column to event names
2025-05-22T08:44:43.740Z: Using existing log file
2025-05-22T08:44:43.741Z: Closing existing log stream before creating new one
2025-05-22T08:44:43.741Z: Logging enabled
2025-05-22T08:44:43.741Z: Stopping sensor polling interval: 1351
2025-05-22T08:44:43.741Z: Closing logging service
2025-05-22T08:44:43.742Z: Closing sensor logging service
2025-05-22T08:44:43.742Z: Closing log stream
2025-05-22T08:44:43.742Z: Logging stopped at 2025-05-22T08:44:43.742Z
2025-05-22T08:44:43.743Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-05-22T08:44:43.743Z: Polling interval set with ID: 1739
2025-05-22T08:44:43.743Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T08:44:43.744Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T08:44:43.744Z: Received motion sensor data: {"motionDetected":false}
2025-05-22T08:44:43.744Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T08:44:43.744Z: Successfully updated motion event: living room motion = false
2025-05-22T08:44:43.334Z: Received sensor data: {"temperature":22.7,"humidity":63.4}
2025-05-22T08:44:43.334Z: Formatted events: [{"name":"living room temperature","value":22.7,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":63.4,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T08:44:43.334Z: Successfully updated event: living room temperature = 22.7
2025-05-22T08:44:43.334Z: Successfully updated event: living room humidity = 63.4
2025-05-22T08:44:44.126Z: Creating a combined row with motion=false, temp=22.7, humidity=63.4, light=false, ac_on=false
2025-05-22T08:44:44.126Z: logSensorData called with 5 sensors
2025-05-22T08:44:44.126Z: WARNING - Logging is disabled but logSensorData was called
2025-05-22T08:44:44.126Z: Attempting to re-initialize logging with existing events
2025-05-22T08:44:44.127Z: Initializing sensor logging service
2025-05-22T08:44:44.128Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-22T08:44:44.128Z: Using existing log file
2025-05-22T08:44:44.126Z: Column map has 5 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5]]
2025-05-22T08:44:44.126Z: Setting spaceId column 6 to 41413915
2025-05-22T08:44:44.126Z: Setting column 3 (living room motion) to false
2025-05-22T08:44:44.126Z: Setting column 1 (living room temperature) to 22.7
2025-05-22T08:44:44.126Z: Setting column 2 (living room humidity) to 63.4
2025-05-22T08:44:44.126Z: Setting column 4 (light_state) to false
2025-05-22T08:44:44.126Z: Setting column 5 (ac_state) to false
2025-05-22T08:44:44.126Z: Preparing row: 2025-05-22 08:44:44,22.7,63.4,false,false,false,41413915
2025-05-22T08:44:44.126Z: Successfully wrote to log file using writeFileSync
2025-05-22T08:44:44.126Z: Successfully logged combined sensor data in one row
2025-05-22T08:44:44.131Z: Initial combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T08:44:44.132Z: Logging enabled
2025-05-22T08:44:44.126Z: Re-initialization result: {"success":true,"message":"Sensor logging initialized to C:\\Users\\amin\\Desktop\\smart-space\\SmartSchool-Server\\logs\\sensor_data.csv","columns":[["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5]]}
2025-05-22T08:44:43.743Z: Received sensor data: {"temperature":22.7,"humidity":63.4}
2025-05-22T08:44:43.743Z: Formatted events: [{"name":"living room temperature","value":22.7,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":63.4,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T08:44:43.743Z: Successfully updated event: living room temperature = 22.7
2025-05-22T08:44:43.743Z: Successfully updated event: living room humidity = 63.4
2025-05-22T08:44:44.619Z: Creating a combined row with motion=false, temp=22.7, humidity=63.4, light=false, ac_on=false
2025-05-22T08:44:44.620Z: logSensorData called with 5 sensors
2025-05-22T08:44:44.620Z: Column map has 5 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5]]
2025-05-22T08:44:44.620Z: Setting spaceId column 6 to 41413915
2025-05-22T08:44:44.620Z: Setting column 3 (living room motion) to false
2025-05-22T08:44:44.620Z: Setting column 1 (living room temperature) to 22.7
2025-05-22T08:44:44.620Z: Setting column 2 (living room humidity) to 63.4
2025-05-22T08:44:44.620Z: Setting column 4 (light_state) to false
2025-05-22T08:44:44.620Z: Setting column 5 (ac_state) to false
2025-05-22T08:44:44.620Z: Preparing row: 2025-05-22 08:44:44,22.7,63.4,false,false,false,41413915
2025-05-22T08:44:44.620Z: Successfully wrote to log file using writeFileSync
2025-05-22T08:44:44.619Z: Successfully logged combined sensor data in one row
2025-05-22T08:44:44.624Z: Initial combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T08:46:23.751Z: Polling for sensor data... (poll #1)
2025-05-22T08:46:23.752Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T08:46:23.752Z: Received sensor data: {"temperature":22.8,"humidity":63.4}
2025-05-22T08:46:23.752Z: Formatted events: [{"name":"living room temperature","value":22.8,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":63.4,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T08:46:23.752Z: Successfully updated event: living room temperature = 22.8
2025-05-22T08:46:23.752Z: Successfully updated event: living room humidity = 63.4
2025-05-22T08:46:24.298Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":22.8,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":63.4,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-22T08:46:24.299Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T08:46:24.299Z: Received motion sensor data: {"motionDetected":false}
2025-05-22T08:46:24.299Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T08:46:24.299Z: Successfully updated motion event: living room motion = false
2025-05-22T08:46:24.446Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-22T08:46:25.001Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":true,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-22T08:46:25.212993Z"}}
2025-05-22T08:46:25.002Z: Extracted AC on state: false
2025-05-22T08:46:25.339Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":false},"success":true}
2025-05-22T08:46:25.341Z: Extracted light state: false
2025-05-22T08:46:25.341Z: Creating a combined row with motion=false, temp=22.8, humidity=63.4, light=false, ac_on=false
2025-05-22T08:46:25.342Z: logSensorData called with 5 sensors
2025-05-22T08:46:25.342Z: Column map has 5 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5]]
2025-05-22T08:46:25.342Z: Setting spaceId column 6 to 41413915
2025-05-22T08:46:25.342Z: Setting column 3 (living room motion) to false
2025-05-22T08:46:25.342Z: Setting column 1 (living room temperature) to 22.8
2025-05-22T08:46:25.342Z: Setting column 2 (living room humidity) to 63.4
2025-05-22T08:46:25.342Z: Setting column 4 (light_state) to false
2025-05-22T08:46:25.342Z: Setting column 5 (ac_state) to false
2025-05-22T08:46:25.342Z: Preparing row: 2025-05-22 08:46:25,22.8,63.4,false,false,false,41413915
2025-05-22T08:46:25.342Z: Successfully wrote to log file using writeFileSync
2025-05-22T08:46:25.341Z: Successfully logged combined sensor data in one row
2025-05-22T08:46:25.345Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T08:46:25.345Z: Polling interval active: true
2025-05-22T08:48:03.761Z: Polling for sensor data... (poll #2)
2025-05-22T08:48:03.762Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T08:48:03.762Z: Received sensor data: {"temperature":22.8,"humidity":63.4}
2025-05-22T08:48:03.762Z: Formatted events: [{"name":"living room temperature","value":22.8,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":63.4,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T08:48:03.762Z: Successfully updated event: living room temperature = 22.8
2025-05-22T08:48:03.762Z: Successfully updated event: living room humidity = 63.4
2025-05-22T08:48:04.377Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":22.8,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":63.4,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-22T08:48:04.377Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T08:48:04.377Z: Received motion sensor data: {"motionDetected":false}
2025-05-22T08:48:04.377Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T08:48:04.377Z: Successfully updated motion event: living room motion = false
2025-05-22T08:48:04.573Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-22T08:48:05.149Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":true,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-22T08:48:05.365612Z"}}
2025-05-22T08:48:05.150Z: Extracted AC on state: false
2025-05-22T08:48:05.486Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":false},"success":true}
2025-05-22T08:48:05.487Z: Extracted light state: false
2025-05-22T08:48:05.488Z: Creating a combined row with motion=false, temp=22.8, humidity=63.4, light=false, ac_on=false
2025-05-22T08:48:05.488Z: logSensorData called with 5 sensors
2025-05-22T08:48:05.488Z: Column map has 5 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5]]
2025-05-22T08:48:05.488Z: Setting spaceId column 6 to 41413915
2025-05-22T08:48:05.488Z: Setting column 3 (living room motion) to false
2025-05-22T08:48:05.488Z: Setting column 1 (living room temperature) to 22.8
2025-05-22T08:48:05.488Z: Setting column 2 (living room humidity) to 63.4
2025-05-22T08:48:05.488Z: Setting column 4 (light_state) to false
2025-05-22T08:48:05.488Z: Setting column 5 (ac_state) to false
2025-05-22T08:48:05.488Z: Preparing row: 2025-05-22 08:48:05,22.8,63.4,false,false,false,41413915
2025-05-22T08:48:05.488Z: Successfully wrote to log file using writeFileSync
2025-05-22T08:48:05.488Z: Successfully logged combined sensor data in one row
2025-05-22T08:48:05.490Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T08:48:05.491Z: Polling interval active: true
2025-05-22T08:49:43.761Z: Polling for sensor data... (poll #3)
2025-05-22T08:49:43.762Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T08:49:43.762Z: Received sensor data: {"temperature":22.8,"humidity":63.3}
2025-05-22T08:49:43.762Z: Formatted events: [{"name":"living room temperature","value":22.8,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":63.3,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T08:49:43.762Z: Successfully updated event: living room temperature = 22.8
2025-05-22T08:49:43.762Z: Successfully updated event: living room humidity = 63.3
2025-05-22T08:49:44.318Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":22.8,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":63.3,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-22T08:49:44.318Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T08:49:44.318Z: Received motion sensor data: {"motionDetected":false}
2025-05-22T08:49:44.318Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T08:49:44.318Z: Successfully updated motion event: living room motion = false
2025-05-22T08:49:44.464Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-22T08:49:45.021Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":true,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-22T08:49:45.240273Z"}}
2025-05-22T08:49:45.022Z: Extracted AC on state: false
2025-05-22T08:49:45.374Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":false},"success":true}
2025-05-22T08:49:45.375Z: Extracted light state: false
2025-05-22T08:49:45.375Z: Creating a combined row with motion=false, temp=22.8, humidity=63.3, light=false, ac_on=false
2025-05-22T08:49:45.376Z: logSensorData called with 5 sensors
2025-05-22T08:49:45.376Z: Column map has 5 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5]]
2025-05-22T08:49:45.376Z: Setting spaceId column 6 to 41413915
2025-05-22T08:49:45.376Z: Setting column 3 (living room motion) to false
2025-05-22T08:49:45.376Z: Setting column 1 (living room temperature) to 22.8
2025-05-22T08:49:45.376Z: Setting column 2 (living room humidity) to 63.3
2025-05-22T08:49:45.376Z: Setting column 4 (light_state) to false
2025-05-22T08:49:45.376Z: Setting column 5 (ac_state) to false
2025-05-22T08:49:45.376Z: Preparing row: 2025-05-22 08:49:45,22.8,63.3,false,false,false,41413915
2025-05-22T08:49:45.376Z: Successfully wrote to log file using writeFileSync
2025-05-22T08:49:45.375Z: Successfully logged combined sensor data in one row
2025-05-22T08:49:45.379Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T08:49:45.379Z: Polling interval active: true
2025-05-22T08:51:23.761Z: Polling for sensor data... (poll #4)
2025-05-22T08:51:23.762Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T08:51:23.762Z: Received sensor data: {"temperature":22.8,"humidity":63.3}
2025-05-22T08:51:23.762Z: Formatted events: [{"name":"living room temperature","value":22.8,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":63.3,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T08:51:23.762Z: Successfully updated event: living room temperature = 22.8
2025-05-22T08:51:23.762Z: Successfully updated event: living room humidity = 63.3
2025-05-22T08:51:24.382Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":22.8,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":63.3,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-22T08:51:24.382Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T08:51:24.382Z: Received motion sensor data: {"motionDetected":false}
2025-05-22T08:51:24.382Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T08:51:24.382Z: Successfully updated motion event: living room motion = false
2025-05-22T08:51:24.599Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-22T08:51:25.122Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":true,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-22T08:51:25.335575Z"}}
2025-05-22T08:51:25.123Z: Extracted AC on state: false
2025-05-22T08:51:25.459Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":false},"success":true}
2025-05-22T08:51:25.459Z: Extracted light state: false
2025-05-22T08:51:25.460Z: Creating a combined row with motion=false, temp=22.8, humidity=63.3, light=false, ac_on=false
2025-05-22T08:51:25.460Z: logSensorData called with 5 sensors
2025-05-22T08:51:25.460Z: Column map has 5 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5]]
2025-05-22T08:51:25.460Z: Setting spaceId column 6 to 41413915
2025-05-22T08:51:25.460Z: Setting column 3 (living room motion) to false
2025-05-22T08:51:25.460Z: Setting column 1 (living room temperature) to 22.8
2025-05-22T08:51:25.460Z: Setting column 2 (living room humidity) to 63.3
2025-05-22T08:51:25.460Z: Setting column 4 (light_state) to false
2025-05-22T08:51:25.460Z: Setting column 5 (ac_state) to false
2025-05-22T08:51:25.460Z: Preparing row: 2025-05-22 08:51:25,22.8,63.3,false,false,false,41413915
2025-05-22T08:51:25.460Z: Successfully wrote to log file using writeFileSync
2025-05-22T08:51:25.460Z: Successfully logged combined sensor data in one row
2025-05-22T08:51:25.463Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T08:51:25.463Z: Polling interval active: true
2025-05-22T08:53:03.774Z: Polling for sensor data... (poll #5)
2025-05-22T08:53:03.775Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T08:53:03.775Z: Received sensor data: {"temperature":22.8,"humidity":63.3}
2025-05-22T08:53:03.775Z: Formatted events: [{"name":"living room temperature","value":22.8,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":63.3,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T08:53:03.775Z: Successfully updated event: living room temperature = 22.8
2025-05-22T08:53:03.775Z: Successfully updated event: living room humidity = 63.3
2025-05-22T08:53:04.337Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":22.8,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":63.3,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-22T08:53:04.337Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T08:53:04.337Z: Received motion sensor data: {"motionDetected":false}
2025-05-22T08:53:04.337Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T08:53:04.337Z: Successfully updated motion event: living room motion = false
2025-05-22T08:53:04.483Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-22T08:53:05.026Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":true,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-22T08:53:05.252684Z"}}
2025-05-22T08:53:05.027Z: Extracted AC on state: false
2025-05-22T08:53:05.353Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":false},"success":true}
2025-05-22T08:53:05.354Z: Extracted light state: false
2025-05-22T08:53:05.354Z: Creating a combined row with motion=false, temp=22.8, humidity=63.3, light=false, ac_on=false
2025-05-22T08:53:05.354Z: logSensorData called with 5 sensors
2025-05-22T08:53:05.354Z: Column map has 5 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5]]
2025-05-22T08:53:05.354Z: Setting spaceId column 6 to 41413915
2025-05-22T08:53:05.354Z: Setting column 3 (living room motion) to false
2025-05-22T08:53:05.354Z: Setting column 1 (living room temperature) to 22.8
2025-05-22T08:53:05.354Z: Setting column 2 (living room humidity) to 63.3
2025-05-22T08:53:05.354Z: Setting column 4 (light_state) to false
2025-05-22T08:53:05.354Z: Setting column 5 (ac_state) to false
2025-05-22T08:53:05.354Z: Preparing row: 2025-05-22 08:53:05,22.8,63.3,false,false,false,41413915
2025-05-22T08:53:05.354Z: Successfully wrote to log file using writeFileSync
2025-05-22T08:53:05.354Z: Successfully logged combined sensor data in one row
2025-05-22T08:53:05.357Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T08:53:05.357Z: Polling interval active: true
2025-05-22T08:54:43.774Z: Polling for sensor data... (poll #6)
2025-05-22T08:54:43.774Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T08:54:43.774Z: Received sensor data: {"temperature":22.8,"humidity":63.3}
2025-05-22T08:54:43.774Z: Formatted events: [{"name":"living room temperature","value":22.8,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":63.3,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T08:54:43.774Z: Successfully updated event: living room temperature = 22.8
2025-05-22T08:54:43.774Z: Successfully updated event: living room humidity = 63.3
2025-05-22T08:54:44.373Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":22.8,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":63.3,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-22T08:54:44.373Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T08:54:44.373Z: Received motion sensor data: {"motionDetected":false}
2025-05-22T08:54:44.373Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T08:54:44.373Z: Successfully updated motion event: living room motion = false
2025-05-22T08:54:44.516Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-22T08:54:45.117Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":true,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-22T08:54:45.341876Z"}}
2025-05-22T08:54:45.118Z: Extracted AC on state: false
2025-05-22T08:54:45.455Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":false},"success":true}
2025-05-22T08:54:45.456Z: Extracted light state: false
2025-05-22T08:54:45.456Z: Creating a combined row with motion=false, temp=22.8, humidity=63.3, light=false, ac_on=false
2025-05-22T08:54:45.457Z: logSensorData called with 5 sensors
2025-05-22T08:54:45.457Z: Column map has 5 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5]]
2025-05-22T08:54:45.457Z: Setting spaceId column 6 to 41413915
2025-05-22T08:54:45.457Z: Setting column 3 (living room motion) to false
2025-05-22T08:54:45.457Z: Setting column 1 (living room temperature) to 22.8
2025-05-22T08:54:45.457Z: Setting column 2 (living room humidity) to 63.3
2025-05-22T08:54:45.457Z: Setting column 4 (light_state) to false
2025-05-22T08:54:45.457Z: Setting column 5 (ac_state) to false
2025-05-22T08:54:45.457Z: Preparing row: 2025-05-22 08:54:45,22.8,63.3,false,false,false,41413915
2025-05-22T08:54:45.457Z: Successfully wrote to log file using writeFileSync
2025-05-22T08:54:45.456Z: Successfully logged combined sensor data in one row
2025-05-22T08:54:45.460Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T08:54:45.460Z: Polling interval active: true
2025-05-22T08:56:23.777Z: Polling for sensor data... (poll #7)
2025-05-22T08:56:23.779Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T08:56:23.779Z: Received sensor data: {"temperature":22.8,"humidity":63.3}
2025-05-22T08:56:23.779Z: Formatted events: [{"name":"living room temperature","value":22.8,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":63.3,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T08:56:23.779Z: Successfully updated event: living room temperature = 22.8
2025-05-22T08:56:23.779Z: Successfully updated event: living room humidity = 63.3
2025-05-22T08:56:24.309Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":22.8,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":63.3,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-22T08:56:24.309Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T08:56:24.309Z: Received motion sensor data: {"motionDetected":false}
2025-05-22T08:56:24.309Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T08:56:24.309Z: Successfully updated motion event: living room motion = false
2025-05-22T08:56:24.458Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-22T08:56:25.011Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":true,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-22T08:56:25.236294Z"}}
2025-05-22T08:56:25.012Z: Extracted AC on state: false
2025-05-22T08:56:25.346Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":false},"success":true}
2025-05-22T08:56:25.347Z: Extracted light state: false
2025-05-22T08:56:25.348Z: Creating a combined row with motion=false, temp=22.8, humidity=63.3, light=false, ac_on=false
2025-05-22T08:56:25.349Z: logSensorData called with 5 sensors
2025-05-22T08:56:25.349Z: Column map has 5 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5]]
2025-05-22T08:56:25.349Z: Setting spaceId column 6 to 41413915
2025-05-22T08:56:25.349Z: Setting column 3 (living room motion) to false
2025-05-22T08:56:25.349Z: Setting column 1 (living room temperature) to 22.8
2025-05-22T08:56:25.349Z: Setting column 2 (living room humidity) to 63.3
2025-05-22T08:56:25.349Z: Setting column 4 (light_state) to false
2025-05-22T08:56:25.349Z: Setting column 5 (ac_state) to false
2025-05-22T08:56:25.349Z: Preparing row: 2025-05-22 08:56:25,22.8,63.3,false,false,false,41413915
2025-05-22T08:56:25.349Z: Successfully wrote to log file using writeFileSync
2025-05-22T08:56:25.348Z: Successfully logged combined sensor data in one row
2025-05-22T08:56:25.353Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T08:56:25.353Z: Polling interval active: true
2025-05-22T08:58:03.782Z: Polling for sensor data... (poll #8)
2025-05-22T08:58:03.783Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T08:58:03.783Z: Received sensor data: {"temperature":22.9,"humidity":63.3}
2025-05-22T08:58:03.783Z: Formatted events: [{"name":"living room temperature","value":22.9,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":63.3,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T08:58:03.783Z: Successfully updated event: living room temperature = 22.9
2025-05-22T08:58:03.783Z: Successfully updated event: living room humidity = 63.3
2025-05-22T08:58:04.404Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":22.9,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":63.3,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-22T08:58:04.404Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T08:58:04.404Z: Received motion sensor data: {"motionDetected":false}
2025-05-22T08:58:04.404Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T08:58:04.404Z: Successfully updated motion event: living room motion = false
2025-05-22T08:58:04.553Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-22T08:58:05.094Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":true,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-22T08:58:05.323618Z"}}
2025-05-22T08:58:05.095Z: Extracted AC on state: false
2025-05-22T08:58:05.425Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":false},"success":true}
2025-05-22T08:58:05.426Z: Extracted light state: false
2025-05-22T08:58:05.426Z: Creating a combined row with motion=false, temp=22.9, humidity=63.3, light=false, ac_on=false
2025-05-22T08:58:05.426Z: logSensorData called with 5 sensors
2025-05-22T08:58:05.426Z: Column map has 5 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5]]
2025-05-22T08:58:05.426Z: Setting spaceId column 6 to 41413915
2025-05-22T08:58:05.426Z: Setting column 3 (living room motion) to false
2025-05-22T08:58:05.426Z: Setting column 1 (living room temperature) to 22.9
2025-05-22T08:58:05.426Z: Setting column 2 (living room humidity) to 63.3
2025-05-22T08:58:05.426Z: Setting column 4 (light_state) to false
2025-05-22T08:58:05.426Z: Setting column 5 (ac_state) to false
2025-05-22T08:58:05.426Z: Preparing row: 2025-05-22 08:58:05,22.9,63.3,false,false,false,41413915
2025-05-22T08:58:05.426Z: Successfully wrote to log file using writeFileSync
2025-05-22T08:58:05.426Z: Successfully logged combined sensor data in one row
2025-05-22T08:58:05.430Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T08:58:05.430Z: Polling interval active: true
2025-05-22T08:59:43.793Z: Polling for sensor data... (poll #9)
2025-05-22T08:59:43.794Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T08:59:43.794Z: Received sensor data: {"temperature":22.9,"humidity":63.3}
2025-05-22T08:59:43.794Z: Formatted events: [{"name":"living room temperature","value":22.9,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":63.3,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T08:59:43.794Z: Successfully updated event: living room temperature = 22.9
2025-05-22T08:59:43.794Z: Successfully updated event: living room humidity = 63.3
2025-05-22T08:59:44.360Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":22.9,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":63.3,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-22T08:59:44.361Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T08:59:44.361Z: Received motion sensor data: {"motionDetected":false}
2025-05-22T08:59:44.361Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T08:59:44.361Z: Successfully updated motion event: living room motion = false
2025-05-22T08:59:44.502Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-22T08:59:45.105Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":true,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-22T08:59:45.338458Z"}}
2025-05-22T08:59:45.106Z: Extracted AC on state: false
2025-05-22T08:59:45.434Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":false},"success":true}
2025-05-22T08:59:45.435Z: Extracted light state: false
2025-05-22T08:59:45.435Z: Creating a combined row with motion=false, temp=22.9, humidity=63.3, light=false, ac_on=false
2025-05-22T08:59:45.435Z: logSensorData called with 5 sensors
2025-05-22T08:59:45.435Z: Column map has 5 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5]]
2025-05-22T08:59:45.435Z: Setting spaceId column 6 to 41413915
2025-05-22T08:59:45.435Z: Setting column 3 (living room motion) to false
2025-05-22T08:59:45.435Z: Setting column 1 (living room temperature) to 22.9
2025-05-22T08:59:45.435Z: Setting column 2 (living room humidity) to 63.3
2025-05-22T08:59:45.435Z: Setting column 4 (light_state) to false
2025-05-22T08:59:45.435Z: Setting column 5 (ac_state) to false
2025-05-22T08:59:45.435Z: Preparing row: 2025-05-22 08:59:45,22.9,63.3,false,false,false,41413915
2025-05-22T08:59:45.435Z: Successfully wrote to log file using writeFileSync
2025-05-22T08:59:45.435Z: Successfully logged combined sensor data in one row
2025-05-22T08:59:45.439Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T08:59:45.440Z: Polling interval active: true
2025-05-22T09:01:23.805Z: Polling for sensor data... (poll #10)
2025-05-22T09:01:23.806Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T09:01:23.806Z: Received sensor data: {"temperature":22.9,"humidity":63.2}
2025-05-22T09:01:23.806Z: Formatted events: [{"name":"living room temperature","value":22.9,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":63.2,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T09:01:23.806Z: Successfully updated event: living room temperature = 22.9
2025-05-22T09:01:23.806Z: Successfully updated event: living room humidity = 63.2
2025-05-22T09:01:24.399Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":22.9,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":63.2,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-22T09:01:24.399Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T09:01:24.399Z: Received motion sensor data: {"motionDetected":false}
2025-05-22T09:01:24.399Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T09:01:24.399Z: Successfully updated motion event: living room motion = false
2025-05-22T09:01:24.551Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-22T09:01:25.148Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":true,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-22T09:01:25.379085Z"}}
2025-05-22T09:01:25.149Z: Extracted AC on state: false
2025-05-22T09:01:25.504Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":false},"success":true}
2025-05-22T09:01:25.505Z: Extracted light state: false
2025-05-22T09:01:25.505Z: Creating a combined row with motion=false, temp=22.9, humidity=63.2, light=false, ac_on=false
2025-05-22T09:01:25.505Z: logSensorData called with 5 sensors
2025-05-22T09:01:25.505Z: Column map has 5 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5]]
2025-05-22T09:01:25.505Z: Setting spaceId column 6 to 41413915
2025-05-22T09:01:25.505Z: Setting column 3 (living room motion) to false
2025-05-22T09:01:25.505Z: Setting column 1 (living room temperature) to 22.9
2025-05-22T09:01:25.505Z: Setting column 2 (living room humidity) to 63.2
2025-05-22T09:01:25.505Z: Setting column 4 (light_state) to false
2025-05-22T09:01:25.505Z: Setting column 5 (ac_state) to false
2025-05-22T09:01:25.505Z: Preparing row: 2025-05-22 09:01:25,22.9,63.2,false,false,false,41413915
2025-05-22T09:01:25.505Z: Successfully wrote to log file using writeFileSync
2025-05-22T09:01:25.505Z: Successfully logged combined sensor data in one row
2025-05-22T09:01:25.508Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T09:01:25.508Z: Polling interval active: true
2025-05-22T09:03:03.816Z: Polling for sensor data... (poll #11)
2025-05-22T09:03:03.817Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T09:03:03.817Z: Received sensor data: {"temperature":22.8,"humidity":63.2}
2025-05-22T09:03:03.817Z: Formatted events: [{"name":"living room temperature","value":22.8,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":63.2,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T09:03:03.817Z: Successfully updated event: living room temperature = 22.8
2025-05-22T09:03:03.817Z: Successfully updated event: living room humidity = 63.2
2025-05-22T09:03:04.381Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":22.8,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":63.2,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-22T09:03:04.381Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T09:03:04.381Z: Received motion sensor data: {"motionDetected":false}
2025-05-22T09:03:04.381Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T09:03:04.381Z: Successfully updated motion event: living room motion = false
2025-05-22T09:03:04.526Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-22T09:03:05.078Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":true,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-22T09:03:05.319003Z"}}
2025-05-22T09:03:05.079Z: Extracted AC on state: false
2025-05-22T09:03:05.410Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":false},"success":true}
2025-05-22T09:03:05.411Z: Extracted light state: false
2025-05-22T09:03:05.412Z: Creating a combined row with motion=false, temp=22.8, humidity=63.2, light=false, ac_on=false
2025-05-22T09:03:05.412Z: logSensorData called with 5 sensors
2025-05-22T09:03:05.412Z: Column map has 5 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5]]
2025-05-22T09:03:05.412Z: Setting spaceId column 6 to 41413915
2025-05-22T09:03:05.412Z: Setting column 3 (living room motion) to false
2025-05-22T09:03:05.412Z: Setting column 1 (living room temperature) to 22.8
2025-05-22T09:03:05.412Z: Setting column 2 (living room humidity) to 63.2
2025-05-22T09:03:05.412Z: Setting column 4 (light_state) to false
2025-05-22T09:03:05.412Z: Setting column 5 (ac_state) to false
2025-05-22T09:03:05.412Z: Preparing row: 2025-05-22 09:03:05,22.8,63.2,false,false,false,41413915
2025-05-22T09:03:05.412Z: Successfully wrote to log file using writeFileSync
2025-05-22T09:03:05.412Z: Successfully logged combined sensor data in one row
2025-05-22T09:03:05.415Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T09:03:05.415Z: Polling interval active: true
2025-05-22T09:04:43.826Z: Polling for sensor data... (poll #12)
2025-05-22T09:04:43.826Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T09:04:43.826Z: Received sensor data: {"temperature":22.8,"humidity":63.2}
2025-05-22T09:04:43.826Z: Formatted events: [{"name":"living room temperature","value":22.8,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":63.2,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T09:04:43.826Z: Successfully updated event: living room temperature = 22.8
2025-05-22T09:04:43.826Z: Successfully updated event: living room humidity = 63.2
2025-05-22T09:04:44.400Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":22.8,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":63.2,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-22T09:04:44.400Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T09:04:44.400Z: Received motion sensor data: {"motionDetected":false}
2025-05-22T09:04:44.400Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T09:04:44.400Z: Successfully updated motion event: living room motion = false
2025-05-22T09:04:44.540Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-22T09:04:45.264Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":true,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-22T09:04:45.506397Z"}}
2025-05-22T09:04:45.265Z: Extracted AC on state: false
2025-05-22T09:04:45.614Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":false},"success":true}
2025-05-22T09:04:45.615Z: Extracted light state: false
2025-05-22T09:04:45.615Z: Creating a combined row with motion=false, temp=22.8, humidity=63.2, light=false, ac_on=false
2025-05-22T09:04:45.616Z: logSensorData called with 5 sensors
2025-05-22T09:04:45.616Z: Column map has 5 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5]]
2025-05-22T09:04:45.616Z: Setting spaceId column 6 to 41413915
2025-05-22T09:04:45.616Z: Setting column 3 (living room motion) to false
2025-05-22T09:04:45.616Z: Setting column 1 (living room temperature) to 22.8
2025-05-22T09:04:45.616Z: Setting column 2 (living room humidity) to 63.2
2025-05-22T09:04:45.616Z: Setting column 4 (light_state) to false
2025-05-22T09:04:45.616Z: Setting column 5 (ac_state) to false
2025-05-22T09:04:45.616Z: Preparing row: 2025-05-22 09:04:45,22.8,63.2,false,false,false,41413915
2025-05-22T09:04:45.616Z: Successfully wrote to log file using writeFileSync
2025-05-22T09:04:45.615Z: Successfully logged combined sensor data in one row
2025-05-22T09:04:45.618Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T09:04:45.618Z: Polling interval active: true
2025-05-22T09:06:23.836Z: Polling for sensor data... (poll #13)
2025-05-22T09:06:23.838Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T09:06:23.838Z: Received sensor data: {"temperature":22.9,"humidity":63}
2025-05-22T09:06:23.838Z: Formatted events: [{"name":"living room temperature","value":22.9,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":63,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T09:06:23.838Z: Successfully updated event: living room temperature = 22.9
2025-05-22T09:06:23.838Z: Successfully updated event: living room humidity = 63
2025-05-22T09:06:24.436Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":22.9,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":63,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-22T09:06:24.436Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T09:06:24.436Z: Received motion sensor data: {"motionDetected":false}
2025-05-22T09:06:24.436Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T09:06:24.436Z: Successfully updated motion event: living room motion = false
2025-05-22T09:06:24.582Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-22T09:06:25.136Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":true,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-22T09:06:25.382739Z"}}
2025-05-22T09:06:25.136Z: Extracted AC on state: false
2025-05-22T09:06:25.481Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":false},"success":true}
2025-05-22T09:06:25.481Z: Extracted light state: false
2025-05-22T09:06:25.482Z: Creating a combined row with motion=false, temp=22.9, humidity=63, light=false, ac_on=false
2025-05-22T09:06:25.482Z: logSensorData called with 5 sensors
2025-05-22T09:06:25.482Z: Column map has 5 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5]]
2025-05-22T09:06:25.482Z: Setting spaceId column 6 to 41413915
2025-05-22T09:06:25.482Z: Setting column 3 (living room motion) to false
2025-05-22T09:06:25.482Z: Setting column 1 (living room temperature) to 22.9
2025-05-22T09:06:25.482Z: Setting column 2 (living room humidity) to 63
2025-05-22T09:06:25.482Z: Setting column 4 (light_state) to false
2025-05-22T09:06:25.482Z: Setting column 5 (ac_state) to false
2025-05-22T09:06:25.482Z: Preparing row: 2025-05-22 09:06:25,22.9,63,false,false,false,41413915
2025-05-22T09:06:25.482Z: Successfully wrote to log file using writeFileSync
2025-05-22T09:06:25.482Z: Successfully logged combined sensor data in one row
2025-05-22T09:06:25.485Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T09:06:25.485Z: Polling interval active: true
2025-05-22T09:08:03.844Z: Polling for sensor data... (poll #14)
2025-05-22T09:08:03.844Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T09:08:03.844Z: Received sensor data: {"temperature":22.9,"humidity":63}
2025-05-22T09:08:03.844Z: Formatted events: [{"name":"living room temperature","value":22.9,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":63,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T09:08:03.844Z: Successfully updated event: living room temperature = 22.9
2025-05-22T09:08:03.844Z: Successfully updated event: living room humidity = 63
2025-05-22T09:08:04.480Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":22.9,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":63,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-22T09:08:04.480Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T09:08:04.480Z: Received motion sensor data: {"motionDetected":false}
2025-05-22T09:08:04.480Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T09:08:04.480Z: Successfully updated motion event: living room motion = false
2025-05-22T09:08:04.622Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-22T09:08:05.142Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":true,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-22T09:08:05.387637Z"}}
2025-05-22T09:08:05.142Z: Extracted AC on state: false
2025-05-22T09:08:05.478Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":false},"success":true}
2025-05-22T09:08:05.479Z: Extracted light state: false
2025-05-22T09:08:05.479Z: Creating a combined row with motion=false, temp=22.9, humidity=63, light=false, ac_on=false
2025-05-22T09:08:05.479Z: logSensorData called with 5 sensors
2025-05-22T09:08:05.479Z: Column map has 5 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5]]
2025-05-22T09:08:05.479Z: Setting spaceId column 6 to 41413915
2025-05-22T09:08:05.479Z: Setting column 3 (living room motion) to false
2025-05-22T09:08:05.479Z: Setting column 1 (living room temperature) to 22.9
2025-05-22T09:08:05.479Z: Setting column 2 (living room humidity) to 63
2025-05-22T09:08:05.479Z: Setting column 4 (light_state) to false
2025-05-22T09:08:05.479Z: Setting column 5 (ac_state) to false
2025-05-22T09:08:05.479Z: Preparing row: 2025-05-22 09:08:05,22.9,63,false,false,false,41413915
2025-05-22T09:08:05.479Z: Successfully wrote to log file using writeFileSync
2025-05-22T09:08:05.479Z: Successfully logged combined sensor data in one row
2025-05-22T09:08:05.481Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T09:08:05.482Z: Polling interval active: true
2025-05-22T09:09:43.851Z: Polling for sensor data... (poll #15)
2025-05-22T09:09:43.853Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T09:09:43.853Z: Received sensor data: {"temperature":22.9,"humidity":63}
2025-05-22T09:09:43.853Z: Formatted events: [{"name":"living room temperature","value":22.9,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":63,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T09:09:43.853Z: Successfully updated event: living room temperature = 22.9
2025-05-22T09:09:43.853Z: Successfully updated event: living room humidity = 63
2025-05-22T09:09:44.402Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":22.9,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":63,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-22T09:09:44.403Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T09:09:44.403Z: Received motion sensor data: {"motionDetected":false}
2025-05-22T09:09:44.403Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T09:09:44.403Z: Successfully updated motion event: living room motion = false
2025-05-22T09:09:44.557Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-22T09:09:45.182Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":true,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-22T09:09:45.419386Z"}}
2025-05-22T09:09:45.183Z: Extracted AC on state: false
2025-05-22T09:09:45.533Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":false},"success":true}
2025-05-22T09:09:45.534Z: Extracted light state: false
2025-05-22T09:09:45.535Z: Creating a combined row with motion=false, temp=22.9, humidity=63, light=false, ac_on=false
2025-05-22T09:09:45.535Z: logSensorData called with 5 sensors
2025-05-22T09:09:45.535Z: Column map has 5 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5]]
2025-05-22T09:09:45.535Z: Setting spaceId column 6 to 41413915
2025-05-22T09:09:45.535Z: Setting column 3 (living room motion) to false
2025-05-22T09:09:45.535Z: Setting column 1 (living room temperature) to 22.9
2025-05-22T09:09:45.535Z: Setting column 2 (living room humidity) to 63
2025-05-22T09:09:45.535Z: Setting column 4 (light_state) to false
2025-05-22T09:09:45.535Z: Setting column 5 (ac_state) to false
2025-05-22T09:09:45.535Z: Preparing row: 2025-05-22 09:09:45,22.9,63,false,false,false,41413915
2025-05-22T09:09:45.535Z: Successfully wrote to log file using writeFileSync
2025-05-22T09:09:45.535Z: Successfully logged combined sensor data in one row
2025-05-22T09:09:45.537Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T09:09:45.538Z: Polling interval active: true
2025-05-22T10:53:29.610Z: Initializing sensor logging service
2025-05-22T10:53:29.611Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-22T10:53:29.612Z: Added light_state column to event names
2025-05-22T10:53:29.612Z: Added ac_state column to event names
2025-05-22T10:53:29.612Z: Using existing log file
2025-05-22T10:53:29.614Z: Logging enabled
2025-05-22T10:53:29.614Z: No polling was active to stop
2025-05-22T10:53:29.619Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-05-22T10:53:29.619Z: Polling interval set with ID: 1388
2025-05-22T10:53:29.621Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T10:53:29.621Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T10:53:29.655Z: Initializing sensor logging service
2025-05-22T10:53:29.655Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-22T10:53:29.656Z: Added light_state column to event names
2025-05-22T10:53:29.656Z: Added ac_state column to event names
2025-05-22T10:53:29.656Z: Using existing log file
2025-05-22T10:53:29.658Z: Closing existing log stream before creating new one
2025-05-22T10:53:29.658Z: Logging enabled
2025-05-22T10:53:29.659Z: Stopping sensor polling interval: 1388
2025-05-22T10:53:29.659Z: Closing logging service
2025-05-22T10:53:29.659Z: Closing sensor logging service
2025-05-22T10:53:29.659Z: Closing log stream
2025-05-22T10:53:29.659Z: Logging stopped at 2025-05-22T10:53:29.659Z
2025-05-22T10:53:29.661Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-05-22T10:53:29.661Z: Polling interval set with ID: 1610
2025-05-22T10:53:29.661Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T10:53:29.662Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T10:53:29.662Z: Received motion sensor data: {"motionDetected":false}
2025-05-22T10:53:29.662Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T10:53:29.662Z: Successfully updated motion event: living room motion = false
2025-05-22T10:53:29.621Z: Received motion sensor data: {"motionDetected":false}
2025-05-22T10:53:29.621Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T10:53:29.621Z: Successfully updated motion event: living room motion = false
2025-05-22T10:53:29.621Z: Received sensor data: {"temperature":22.7,"humidity":65.7}
2025-05-22T10:53:29.621Z: Formatted events: [{"name":"living room temperature","value":22.7,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":65.7,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T10:53:29.621Z: Successfully updated event: living room temperature = 22.7
2025-05-22T10:53:29.621Z: Successfully updated event: living room humidity = 65.7
2025-05-22T10:53:30.415Z: Creating a combined row with motion=false, temp=22.7, humidity=65.7, light=false, ac_on=false
2025-05-22T10:53:30.415Z: logSensorData called with 5 sensors
2025-05-22T10:53:30.415Z: WARNING - Logging is disabled but logSensorData was called
2025-05-22T10:53:30.415Z: Attempting to re-initialize logging with existing events
2025-05-22T10:53:30.416Z: Initializing sensor logging service
2025-05-22T10:53:30.416Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-22T10:53:30.417Z: Using existing log file
2025-05-22T10:53:30.415Z: Column map has 5 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5]]
2025-05-22T10:53:30.415Z: Setting spaceId column 6 to 41413915
2025-05-22T10:53:30.415Z: Setting column 3 (living room motion) to false
2025-05-22T10:53:30.415Z: Setting column 1 (living room temperature) to 22.7
2025-05-22T10:53:30.415Z: Setting column 2 (living room humidity) to 65.7
2025-05-22T10:53:30.415Z: Setting column 4 (light_state) to false
2025-05-22T10:53:30.415Z: Setting column 5 (ac_state) to false
2025-05-22T10:53:30.415Z: Preparing row: 2025-05-22 10:53:30,22.7,65.7,false,false,false,41413915
2025-05-22T10:53:30.415Z: Successfully wrote to log file using writeFileSync
2025-05-22T10:53:30.415Z: Successfully logged combined sensor data in one row
2025-05-22T10:53:30.420Z: Initial combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T10:53:30.421Z: Logging enabled
2025-05-22T10:53:30.415Z: Re-initialization result: {"success":true,"message":"Sensor logging initialized to C:\\Users\\amin\\Desktop\\smart-space\\SmartSchool-Server\\logs\\sensor_data.csv","columns":[["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5]]}
2025-05-22T10:53:29.661Z: Received sensor data: {"temperature":22.7,"humidity":65.7}
2025-05-22T10:53:29.661Z: Formatted events: [{"name":"living room temperature","value":22.7,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":65.7,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T10:53:29.661Z: Successfully updated event: living room temperature = 22.7
2025-05-22T10:53:29.661Z: Successfully updated event: living room humidity = 65.7
2025-05-22T10:53:30.488Z: Creating a combined row with motion=false, temp=22.7, humidity=65.7, light=false, ac_on=false
2025-05-22T10:53:30.489Z: logSensorData called with 5 sensors
2025-05-22T10:53:30.489Z: Column map has 5 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5]]
2025-05-22T10:53:30.489Z: Setting spaceId column 6 to 41413915
2025-05-22T10:53:30.489Z: Setting column 3 (living room motion) to false
2025-05-22T10:53:30.489Z: Setting column 1 (living room temperature) to 22.7
2025-05-22T10:53:30.489Z: Setting column 2 (living room humidity) to 65.7
2025-05-22T10:53:30.489Z: Setting column 4 (light_state) to false
2025-05-22T10:53:30.489Z: Setting column 5 (ac_state) to false
2025-05-22T10:53:30.489Z: Preparing row: 2025-05-22 10:53:30,22.7,65.7,false,false,false,41413915
2025-05-22T10:53:30.489Z: Successfully wrote to log file using writeFileSync
2025-05-22T10:53:30.488Z: Successfully logged combined sensor data in one row
2025-05-22T10:53:30.492Z: Initial combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T10:55:09.667Z: Polling for sensor data... (poll #1)
2025-05-22T10:55:09.668Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T10:55:09.668Z: Received sensor data: {"temperature":22.7,"humidity":65.4}
2025-05-22T10:55:09.668Z: Formatted events: [{"name":"living room temperature","value":22.7,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":65.4,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T10:55:09.668Z: Successfully updated event: living room temperature = 22.7
2025-05-22T10:55:09.668Z: Successfully updated event: living room humidity = 65.4
2025-05-22T10:55:10.283Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":22.7,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":65.4,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-22T10:55:10.283Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T10:55:10.283Z: Received motion sensor data: {"motionDetected":false}
2025-05-22T10:55:10.283Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T10:55:10.283Z: Successfully updated motion event: living room motion = false
2025-05-22T10:55:10.428Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-22T10:55:11.046Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":true,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-22T10:55:11.457941Z"}}
2025-05-22T10:55:11.047Z: Extracted AC on state: false
2025-05-22T10:55:11.377Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":false},"success":true}
2025-05-22T10:55:11.377Z: Extracted light state: false
2025-05-22T10:55:11.378Z: Creating a combined row with motion=false, temp=22.7, humidity=65.4, light=false, ac_on=false
2025-05-22T10:55:11.378Z: logSensorData called with 5 sensors
2025-05-22T10:55:11.378Z: Column map has 5 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5]]
2025-05-22T10:55:11.378Z: Setting spaceId column 6 to 41413915
2025-05-22T10:55:11.378Z: Setting column 3 (living room motion) to false
2025-05-22T10:55:11.378Z: Setting column 1 (living room temperature) to 22.7
2025-05-22T10:55:11.378Z: Setting column 2 (living room humidity) to 65.4
2025-05-22T10:55:11.378Z: Setting column 4 (light_state) to false
2025-05-22T10:55:11.378Z: Setting column 5 (ac_state) to false
2025-05-22T10:55:11.378Z: Preparing row: 2025-05-22 10:55:11,22.7,65.4,false,false,false,41413915
2025-05-22T10:55:11.378Z: Successfully wrote to log file using writeFileSync
2025-05-22T10:55:11.378Z: Successfully logged combined sensor data in one row
2025-05-22T10:55:11.381Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T10:55:11.382Z: Polling interval active: true
2025-05-22T10:56:49.670Z: Polling for sensor data... (poll #2)
2025-05-22T10:56:49.671Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T10:56:49.671Z: Received sensor data: {"temperature":22.7,"humidity":65.9}
2025-05-22T10:56:49.671Z: Formatted events: [{"name":"living room temperature","value":22.7,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":65.9,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T10:56:49.671Z: Successfully updated event: living room temperature = 22.7
2025-05-22T10:56:49.671Z: Successfully updated event: living room humidity = 65.9
2025-05-22T10:56:50.277Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":22.7,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":65.9,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-22T10:56:50.277Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T10:56:50.277Z: Received motion sensor data: {"motionDetected":false}
2025-05-22T10:56:50.277Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T10:56:50.277Z: Successfully updated motion event: living room motion = false
2025-05-22T10:56:50.421Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-22T10:56:50.980Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":true,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-22T10:56:51.397569Z"}}
2025-05-22T10:56:50.981Z: Extracted AC on state: false
2025-05-22T10:56:51.306Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":false},"success":true}
2025-05-22T10:56:51.307Z: Extracted light state: false
2025-05-22T10:56:51.307Z: Creating a combined row with motion=false, temp=22.7, humidity=65.9, light=false, ac_on=false
2025-05-22T10:56:51.307Z: logSensorData called with 5 sensors
2025-05-22T10:56:51.307Z: Column map has 5 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5]]
2025-05-22T10:56:51.307Z: Setting spaceId column 6 to 41413915
2025-05-22T10:56:51.307Z: Setting column 3 (living room motion) to false
2025-05-22T10:56:51.307Z: Setting column 1 (living room temperature) to 22.7
2025-05-22T10:56:51.307Z: Setting column 2 (living room humidity) to 65.9
2025-05-22T10:56:51.307Z: Setting column 4 (light_state) to false
2025-05-22T10:56:51.307Z: Setting column 5 (ac_state) to false
2025-05-22T10:56:51.307Z: Preparing row: 2025-05-22 10:56:51,22.7,65.9,false,false,false,41413915
2025-05-22T10:56:51.307Z: Successfully wrote to log file using writeFileSync
2025-05-22T10:56:51.307Z: Successfully logged combined sensor data in one row
2025-05-22T10:56:51.311Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T10:56:51.311Z: Polling interval active: true
2025-05-22T10:58:29.685Z: Polling for sensor data... (poll #3)
2025-05-22T10:58:29.687Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T10:58:29.687Z: Received sensor data: {"temperature":22.7,"humidity":65.7}
2025-05-22T10:58:29.687Z: Formatted events: [{"name":"living room temperature","value":22.7,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":65.7,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T10:58:29.687Z: Successfully updated event: living room temperature = 22.7
2025-05-22T10:58:29.687Z: Successfully updated event: living room humidity = 65.7
2025-05-22T10:58:30.264Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":22.7,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":65.7,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-22T10:58:30.264Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T10:58:30.264Z: Received motion sensor data: {"motionDetected":false}
2025-05-22T10:58:30.264Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T10:58:30.264Z: Successfully updated motion event: living room motion = false
2025-05-22T10:58:30.408Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-22T10:58:31.015Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":true,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-22T10:58:31.427906Z"}}
2025-05-22T10:58:31.016Z: Extracted AC on state: false
2025-05-22T10:58:31.344Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":false},"success":true}
2025-05-22T10:58:31.345Z: Extracted light state: false
2025-05-22T10:58:31.345Z: Creating a combined row with motion=false, temp=22.7, humidity=65.7, light=false, ac_on=false
2025-05-22T10:58:31.345Z: logSensorData called with 5 sensors
2025-05-22T10:58:31.345Z: Column map has 5 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5]]
2025-05-22T10:58:31.345Z: Setting spaceId column 6 to 41413915
2025-05-22T10:58:31.345Z: Setting column 3 (living room motion) to false
2025-05-22T10:58:31.345Z: Setting column 1 (living room temperature) to 22.7
2025-05-22T10:58:31.345Z: Setting column 2 (living room humidity) to 65.7
2025-05-22T10:58:31.345Z: Setting column 4 (light_state) to false
2025-05-22T10:58:31.345Z: Setting column 5 (ac_state) to false
2025-05-22T10:58:31.345Z: Preparing row: 2025-05-22 10:58:31,22.7,65.7,false,false,false,41413915
2025-05-22T10:58:31.345Z: Successfully wrote to log file using writeFileSync
2025-05-22T10:58:31.345Z: Successfully logged combined sensor data in one row
2025-05-22T10:58:31.347Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T10:58:31.347Z: Polling interval active: true
2025-05-22T11:00:18.684Z: Initializing sensor logging service
2025-05-22T11:00:18.685Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-22T11:00:18.685Z: Added light_state column to event names
2025-05-22T11:00:18.686Z: Added ac_state column to event names
2025-05-22T11:00:18.686Z: Using existing log file
2025-05-22T11:00:18.688Z: Logging enabled
2025-05-22T11:00:18.689Z: No polling was active to stop
2025-05-22T11:00:18.690Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-05-22T11:00:18.690Z: Polling interval set with ID: 1346
2025-05-22T11:00:18.690Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T11:00:18.691Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T11:00:18.691Z: Received motion sensor data: {"motionDetected":false}
2025-05-22T11:00:18.691Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T11:00:18.691Z: Successfully updated motion event: living room motion = false
2025-05-22T11:00:19.022Z: Initializing sensor logging service
2025-05-22T11:00:19.023Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-22T11:00:19.023Z: Added light_state column to event names
2025-05-22T11:00:19.024Z: Added ac_state column to event names
2025-05-22T11:00:19.024Z: Using existing log file
2025-05-22T11:00:19.025Z: Closing existing log stream before creating new one
2025-05-22T11:00:19.025Z: Logging enabled
2025-05-22T11:00:19.026Z: Stopping sensor polling interval: 1346
2025-05-22T11:00:19.026Z: Closing logging service
2025-05-22T11:00:19.026Z: Closing sensor logging service
2025-05-22T11:00:19.026Z: Closing log stream
2025-05-22T11:00:19.026Z: Logging stopped at 2025-05-22T11:00:19.026Z
2025-05-22T11:00:19.028Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-05-22T11:00:19.028Z: Polling interval set with ID: 1956
2025-05-22T11:00:19.028Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T11:00:19.029Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T11:00:18.690Z: Received sensor data: {"temperature":22.8,"humidity":65.6}
2025-05-22T11:00:18.690Z: Formatted events: [{"name":"living room temperature","value":22.8,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":65.6,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T11:00:18.690Z: Successfully updated event: living room temperature = 22.8
2025-05-22T11:00:18.690Z: Successfully updated event: living room humidity = 65.6
2025-05-22T11:00:19.029Z: Received motion sensor data: {"motionDetected":false}
2025-05-22T11:00:19.029Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T11:00:19.029Z: Successfully updated motion event: living room motion = false
2025-05-22T11:00:19.474Z: Creating a combined row with motion=false, temp=22.8, humidity=65.6, light=false, ac_on=false
2025-05-22T11:00:19.475Z: logSensorData called with 5 sensors
2025-05-22T11:00:19.475Z: WARNING - Logging is disabled but logSensorData was called
2025-05-22T11:00:19.475Z: Attempting to re-initialize logging with existing events
2025-05-22T11:00:19.475Z: Initializing sensor logging service
2025-05-22T11:00:19.476Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-22T11:00:19.476Z: Using existing log file
2025-05-22T11:00:19.475Z: Column map has 5 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5]]
2025-05-22T11:00:19.475Z: Setting spaceId column 6 to 41413915
2025-05-22T11:00:19.475Z: Setting column 3 (living room motion) to false
2025-05-22T11:00:19.475Z: Setting column 1 (living room temperature) to 22.8
2025-05-22T11:00:19.475Z: Setting column 2 (living room humidity) to 65.6
2025-05-22T11:00:19.475Z: Setting column 4 (light_state) to false
2025-05-22T11:00:19.475Z: Setting column 5 (ac_state) to false
2025-05-22T11:00:19.475Z: Preparing row: 2025-05-22 11:00:19,22.8,65.6,false,false,false,41413915
2025-05-22T11:00:19.475Z: Successfully wrote to log file using writeFileSync
2025-05-22T11:00:19.474Z: Successfully logged combined sensor data in one row
2025-05-22T11:00:19.479Z: Initial combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T11:00:19.480Z: Logging enabled
2025-05-22T11:00:19.475Z: Re-initialization result: {"success":true,"message":"Sensor logging initialized to C:\\Users\\amin\\Desktop\\smart-space\\SmartSchool-Server\\logs\\sensor_data.csv","columns":[["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5]]}
2025-05-22T11:00:19.028Z: Received sensor data: {"temperature":22.8,"humidity":65.6}
2025-05-22T11:00:19.028Z: Formatted events: [{"name":"living room temperature","value":22.8,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":65.6,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T11:00:19.028Z: Successfully updated event: living room temperature = 22.8
2025-05-22T11:00:19.028Z: Successfully updated event: living room humidity = 65.6
2025-05-22T11:00:19.880Z: Creating a combined row with motion=false, temp=22.8, humidity=65.6, light=false, ac_on=false
2025-05-22T11:00:19.881Z: logSensorData called with 5 sensors
2025-05-22T11:00:19.881Z: Column map has 5 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5]]
2025-05-22T11:00:19.881Z: Setting spaceId column 6 to 41413915
2025-05-22T11:00:19.881Z: Setting column 3 (living room motion) to false
2025-05-22T11:00:19.881Z: Setting column 1 (living room temperature) to 22.8
2025-05-22T11:00:19.881Z: Setting column 2 (living room humidity) to 65.6
2025-05-22T11:00:19.881Z: Setting column 4 (light_state) to false
2025-05-22T11:00:19.881Z: Setting column 5 (ac_state) to false
2025-05-22T11:00:19.881Z: Preparing row: 2025-05-22 11:00:19,22.8,65.6,false,false,false,41413915
2025-05-22T11:00:19.881Z: Successfully wrote to log file using writeFileSync
2025-05-22T11:00:19.880Z: Successfully logged combined sensor data in one row
2025-05-22T11:00:19.883Z: Initial combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T11:01:59.033Z: Polling for sensor data... (poll #1)
2025-05-22T11:01:59.034Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T11:01:59.034Z: Received sensor data: {"temperature":22.8,"humidity":65.7}
2025-05-22T11:01:59.034Z: Formatted events: [{"name":"living room temperature","value":22.8,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":65.7,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T11:01:59.034Z: Successfully updated event: living room temperature = 22.8
2025-05-22T11:01:59.034Z: Successfully updated event: living room humidity = 65.7
2025-05-22T11:01:59.680Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":22.8,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":65.7,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-22T11:01:59.680Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T11:01:59.680Z: Received motion sensor data: {"motionDetected":false}
2025-05-22T11:01:59.680Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T11:01:59.680Z: Successfully updated motion event: living room motion = false
2025-05-22T11:01:59.826Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-22T11:02:00.408Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":true,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-22T11:02:00.831326Z"}}
2025-05-22T11:02:00.408Z: Extracted AC on state: false
2025-05-22T11:02:00.749Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":false},"success":true}
2025-05-22T11:02:00.749Z: Extracted light state: false
2025-05-22T11:02:00.750Z: Creating a combined row with motion=false, temp=22.8, humidity=65.7, light=false, ac_on=false
2025-05-22T11:02:00.750Z: logSensorData called with 5 sensors
2025-05-22T11:02:00.750Z: Column map has 5 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5]]
2025-05-22T11:02:00.750Z: Setting spaceId column 6 to 41413915
2025-05-22T11:02:00.750Z: Setting column 3 (living room motion) to false
2025-05-22T11:02:00.750Z: Setting column 1 (living room temperature) to 22.8
2025-05-22T11:02:00.750Z: Setting column 2 (living room humidity) to 65.7
2025-05-22T11:02:00.750Z: Setting column 4 (light_state) to false
2025-05-22T11:02:00.750Z: Setting column 5 (ac_state) to false
2025-05-22T11:02:00.750Z: Preparing row: 2025-05-22 11:02:00,22.8,65.7,false,false,false,41413915
2025-05-22T11:02:00.750Z: Successfully wrote to log file using writeFileSync
2025-05-22T11:02:00.750Z: Successfully logged combined sensor data in one row
2025-05-22T11:02:00.753Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T11:02:00.753Z: Polling interval active: true
2025-05-22T11:03:39.045Z: Polling for sensor data... (poll #2)
2025-05-22T11:03:39.046Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T11:03:39.046Z: Received sensor data: {"temperature":22.8,"humidity":65.9}
2025-05-22T11:03:39.046Z: Formatted events: [{"name":"living room temperature","value":22.8,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":65.9,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T11:03:39.046Z: Successfully updated event: living room temperature = 22.8
2025-05-22T11:03:39.046Z: Successfully updated event: living room humidity = 65.9
2025-05-22T11:03:39.658Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":22.8,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":65.9,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-22T11:03:39.659Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T11:03:39.659Z: Received motion sensor data: {"motionDetected":false}
2025-05-22T11:03:39.659Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T11:03:39.659Z: Successfully updated motion event: living room motion = false
2025-05-22T11:03:39.803Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-22T11:03:40.361Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":true,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-22T11:03:40.790252Z"}}
2025-05-22T11:03:40.361Z: Extracted AC on state: false
2025-05-22T11:03:40.686Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":false},"success":true}
2025-05-22T11:03:40.687Z: Extracted light state: false
2025-05-22T11:03:40.687Z: Creating a combined row with motion=false, temp=22.8, humidity=65.9, light=false, ac_on=false
2025-05-22T11:03:40.687Z: logSensorData called with 5 sensors
2025-05-22T11:03:40.687Z: Column map has 5 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5]]
2025-05-22T11:03:40.687Z: Setting spaceId column 6 to 41413915
2025-05-22T11:03:40.687Z: Setting column 3 (living room motion) to false
2025-05-22T11:03:40.687Z: Setting column 1 (living room temperature) to 22.8
2025-05-22T11:03:40.687Z: Setting column 2 (living room humidity) to 65.9
2025-05-22T11:03:40.687Z: Setting column 4 (light_state) to false
2025-05-22T11:03:40.687Z: Setting column 5 (ac_state) to false
2025-05-22T11:03:40.687Z: Preparing row: 2025-05-22 11:03:40,22.8,65.9,false,false,false,41413915
2025-05-22T11:03:40.687Z: Successfully wrote to log file using writeFileSync
2025-05-22T11:03:40.687Z: Successfully logged combined sensor data in one row
2025-05-22T11:03:40.690Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T11:03:40.690Z: Polling interval active: true
2025-05-22T11:05:19.048Z: Polling for sensor data... (poll #3)
2025-05-22T11:05:19.049Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T11:05:19.049Z: Received sensor data: {"temperature":22.8,"humidity":66}
2025-05-22T11:05:19.049Z: Formatted events: [{"name":"living room temperature","value":22.8,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":66,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T11:05:19.049Z: Successfully updated event: living room temperature = 22.8
2025-05-22T11:05:19.049Z: Successfully updated event: living room humidity = 66
2025-05-22T11:05:19.672Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":22.8,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":66,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-22T11:05:19.672Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T11:05:19.672Z: Received motion sensor data: {"motionDetected":false}
2025-05-22T11:05:19.672Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T11:05:19.672Z: Successfully updated motion event: living room motion = false
2025-05-22T11:05:19.852Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-22T11:05:20.444Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":true,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-22T11:05:20.864437Z"}}
2025-05-22T11:05:20.444Z: Extracted AC on state: false
2025-05-22T11:05:20.769Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":false},"success":true}
2025-05-22T11:05:20.769Z: Extracted light state: false
2025-05-22T11:05:20.770Z: Creating a combined row with motion=false, temp=22.8, humidity=66, light=false, ac_on=false
2025-05-22T11:05:20.770Z: logSensorData called with 5 sensors
2025-05-22T11:05:20.770Z: Column map has 5 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5]]
2025-05-22T11:05:20.770Z: Setting spaceId column 6 to 41413915
2025-05-22T11:05:20.770Z: Setting column 3 (living room motion) to false
2025-05-22T11:05:20.770Z: Setting column 1 (living room temperature) to 22.8
2025-05-22T11:05:20.770Z: Setting column 2 (living room humidity) to 66
2025-05-22T11:05:20.770Z: Setting column 4 (light_state) to false
2025-05-22T11:05:20.770Z: Setting column 5 (ac_state) to false
2025-05-22T11:05:20.770Z: Preparing row: 2025-05-22 11:05:20,22.8,66,false,false,false,41413915
2025-05-22T11:05:20.770Z: Removed trailing newline from file for clean append
2025-05-22T11:05:20.770Z: Successfully wrote to log file using writeFileSync
2025-05-22T11:05:20.770Z: Successfully logged combined sensor data in one row
2025-05-22T11:05:20.772Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T11:05:20.773Z: Polling interval active: true
2025-05-22T11:06:59.064Z: Polling for sensor data... (poll #4)
2025-05-22T11:06:59.065Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T11:06:59.065Z: Received sensor data: {"temperature":22.8,"humidity":66.4}
2025-05-22T11:06:59.065Z: Formatted events: [{"name":"living room temperature","value":22.8,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":66.4,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T11:06:59.065Z: Successfully updated event: living room temperature = 22.8
2025-05-22T11:06:59.065Z: Successfully updated event: living room humidity = 66.4
2025-05-22T11:07:00.009Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":22.8,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":66.4,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-22T11:07:00.009Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T11:07:00.009Z: Received motion sensor data: {"motionDetected":false}
2025-05-22T11:07:00.009Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T11:07:00.009Z: Successfully updated motion event: living room motion = false
2025-05-22T11:07:00.152Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-22T11:07:00.673Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":true,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-22T11:07:01.102079Z"}}
2025-05-22T11:07:00.673Z: Extracted AC on state: false
2025-05-22T11:07:00.999Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":false},"success":true}
2025-05-22T11:07:00.999Z: Extracted light state: false
2025-05-22T11:07:01.000Z: Creating a combined row with motion=false, temp=22.8, humidity=66.4, light=false, ac_on=false
2025-05-22T11:07:01.000Z: logSensorData called with 5 sensors
2025-05-22T11:07:01.000Z: Column map has 5 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5]]
2025-05-22T11:07:01.000Z: Setting spaceId column 6 to 41413915
2025-05-22T11:07:01.000Z: Setting column 3 (living room motion) to false
2025-05-22T11:07:01.000Z: Setting column 1 (living room temperature) to 22.8
2025-05-22T11:07:01.000Z: Setting column 2 (living room humidity) to 66.4
2025-05-22T11:07:01.000Z: Setting column 4 (light_state) to false
2025-05-22T11:07:01.000Z: Setting column 5 (ac_state) to false
2025-05-22T11:07:01.000Z: Preparing row: 2025-05-22 11:07:01,22.8,66.4,false,false,false,41413915
2025-05-22T11:07:01.000Z: Successfully wrote to log file using writeFileSync
2025-05-22T11:07:01.000Z: Successfully logged combined sensor data in one row
2025-05-22T11:07:01.003Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T11:07:01.003Z: Polling interval active: true
2025-05-22T11:08:39.079Z: Polling for sensor data... (poll #5)
2025-05-22T11:08:39.080Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T11:08:39.080Z: Received sensor data: {"temperature":22.8,"humidity":66.2}
2025-05-22T11:08:39.080Z: Formatted events: [{"name":"living room temperature","value":22.8,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":66.2,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T11:08:39.080Z: Successfully updated event: living room temperature = 22.8
2025-05-22T11:08:39.080Z: Successfully updated event: living room humidity = 66.2
2025-05-22T11:08:39.618Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":22.8,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":66.2,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-22T11:08:39.618Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T11:08:39.618Z: Received motion sensor data: {"motionDetected":false}
2025-05-22T11:08:39.618Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T11:08:39.618Z: Successfully updated motion event: living room motion = false
2025-05-22T11:08:39.824Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-22T11:08:40.416Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":true,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-22T11:08:40.852256Z"}}
2025-05-22T11:08:40.417Z: Extracted AC on state: false
2025-05-22T11:08:40.757Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":true},"success":true}
2025-05-22T11:08:40.758Z: Extracted light state: true
2025-05-22T11:08:40.758Z: Creating a combined row with motion=false, temp=22.8, humidity=66.2, light=true, ac_on=false
2025-05-22T11:08:40.758Z: logSensorData called with 5 sensors
2025-05-22T11:08:40.758Z: Column map has 5 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5]]
2025-05-22T11:08:40.758Z: Setting spaceId column 6 to 41413915
2025-05-22T11:08:40.758Z: Setting column 3 (living room motion) to false
2025-05-22T11:08:40.758Z: Setting column 1 (living room temperature) to 22.8
2025-05-22T11:08:40.758Z: Setting column 2 (living room humidity) to 66.2
2025-05-22T11:08:40.758Z: Setting column 4 (light_state) to true
2025-05-22T11:08:40.758Z: Setting column 5 (ac_state) to false
2025-05-22T11:08:40.758Z: Preparing row: 2025-05-22 11:08:40,22.8,66.2,false,true,false,41413915
2025-05-22T11:08:40.758Z: Successfully wrote to log file using writeFileSync
2025-05-22T11:08:40.758Z: Successfully logged combined sensor data in one row
2025-05-22T11:08:40.761Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T11:08:40.761Z: Polling interval active: true
2025-05-22T11:10:19.078Z: Polling for sensor data... (poll #6)
2025-05-22T11:10:19.079Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T11:10:19.079Z: Received sensor data: {"temperature":22.8,"humidity":66.1}
2025-05-22T11:10:19.079Z: Formatted events: [{"name":"living room temperature","value":22.8,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":66.1,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T11:10:19.079Z: Successfully updated event: living room temperature = 22.8
2025-05-22T11:10:19.079Z: Successfully updated event: living room humidity = 66.1
2025-05-22T11:10:19.711Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":22.8,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":66.1,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-22T11:10:19.712Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T11:10:19.712Z: Received motion sensor data: {"motionDetected":false}
2025-05-22T11:10:19.712Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T11:10:19.712Z: Successfully updated motion event: living room motion = false
2025-05-22T11:10:19.858Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-22T11:10:20.412Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":true,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-22T11:10:20.850111Z"}}
2025-05-22T11:10:20.412Z: Extracted AC on state: false
2025-05-22T11:10:20.739Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":true},"success":true}
2025-05-22T11:10:20.740Z: Extracted light state: true
2025-05-22T11:10:20.740Z: Creating a combined row with motion=false, temp=22.8, humidity=66.1, light=true, ac_on=false
2025-05-22T11:10:20.741Z: logSensorData called with 5 sensors
2025-05-22T11:10:20.741Z: Column map has 5 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5]]
2025-05-22T11:10:20.741Z: Setting spaceId column 6 to 41413915
2025-05-22T11:10:20.741Z: Setting column 3 (living room motion) to false
2025-05-22T11:10:20.741Z: Setting column 1 (living room temperature) to 22.8
2025-05-22T11:10:20.741Z: Setting column 2 (living room humidity) to 66.1
2025-05-22T11:10:20.741Z: Setting column 4 (light_state) to true
2025-05-22T11:10:20.741Z: Setting column 5 (ac_state) to false
2025-05-22T11:10:20.741Z: Preparing row: 2025-05-22 11:10:20,22.8,66.1,false,true,false,41413915
2025-05-22T11:10:20.741Z: Successfully wrote to log file using writeFileSync
2025-05-22T11:10:20.740Z: Successfully logged combined sensor data in one row
2025-05-22T11:10:20.744Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T11:10:20.744Z: Polling interval active: true
2025-05-22T11:10:55.812Z: Initializing sensor logging service
2025-05-22T11:10:55.813Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-22T11:10:55.813Z: Added light_state column to event names
2025-05-22T11:10:55.814Z: Added ac_state column to event names
2025-05-22T11:10:55.814Z: Using existing log file
2025-05-22T11:10:55.816Z: Warning: Header mismatch
2025-05-22T11:10:55.817Z: Existing: timestamp,living room temperature,living room humidity,living room motion,spaceId
2025-05-22T11:10:55.817Z: Expected: timestamp,living room temperature,living room humidity,living room motion,light_state,ac_state,spaceId
2025-05-22T11:10:55.818Z: Logging enabled
2025-05-22T11:10:55.819Z: No polling was active to stop
2025-05-22T11:10:55.820Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-05-22T11:10:55.820Z: Polling interval set with ID: 1301
2025-05-22T11:10:55.822Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T11:10:55.823Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T11:10:55.823Z: Received motion sensor data: {"motionDetected":false}
2025-05-22T11:10:55.823Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T11:10:55.823Z: Successfully updated motion event: living room motion = false
2025-05-22T11:10:56.172Z: Initializing sensor logging service
2025-05-22T11:10:56.173Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-22T11:10:56.173Z: Added light_state column to event names
2025-05-22T11:10:56.173Z: Added ac_state column to event names
2025-05-22T11:10:56.174Z: Using existing log file
2025-05-22T11:10:56.175Z: Warning: Header mismatch
2025-05-22T11:10:56.175Z: Existing: timestamp,living room temperature,living room humidity,living room motion,spaceId
2025-05-22T11:10:56.175Z: Expected: timestamp,living room temperature,living room humidity,living room motion,light_state,ac_state,spaceId
2025-05-22T11:10:56.175Z: Closing existing log stream before creating new one
2025-05-22T11:10:56.176Z: Logging enabled
2025-05-22T11:10:56.176Z: Stopping sensor polling interval: 1301
2025-05-22T11:10:56.176Z: Closing logging service
2025-05-22T11:10:56.177Z: Closing sensor logging service
2025-05-22T11:10:56.177Z: Closing log stream
2025-05-22T11:10:56.177Z: Logging stopped at 2025-05-22T11:10:56.177Z
2025-05-22T11:10:56.178Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-05-22T11:10:56.178Z: Polling interval set with ID: 1697
2025-05-22T11:10:56.178Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T11:10:56.179Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T11:10:55.822Z: Received sensor data: {"temperature":22.9,"humidity":66.1}
2025-05-22T11:10:55.822Z: Formatted events: [{"name":"living room temperature","value":22.9,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":66.1,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T11:10:55.822Z: Successfully updated event: living room temperature = 22.9
2025-05-22T11:10:55.822Z: Successfully updated event: living room humidity = 66.1
2025-05-22T11:10:56.179Z: Received motion sensor data: {"motionDetected":false}
2025-05-22T11:10:56.179Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T11:10:56.179Z: Successfully updated motion event: living room motion = false
2025-05-22T11:10:56.585Z: Creating a combined row with motion=false, temp=22.9, humidity=66.1, light=true, ac_on=false
2025-05-22T11:10:56.586Z: logSensorData called with 5 sensors
2025-05-22T11:10:56.586Z: WARNING - Logging is disabled but logSensorData was called
2025-05-22T11:10:56.586Z: Attempting to re-initialize logging with existing events
2025-05-22T11:10:56.587Z: Initializing sensor logging service
2025-05-22T11:10:56.587Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-22T11:10:56.588Z: Using existing log file
2025-05-22T11:10:56.586Z: Column map has 5 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5]]
2025-05-22T11:10:56.586Z: Setting spaceId column 6 to 41413915
2025-05-22T11:10:56.586Z: Setting column 3 (living room motion) to false
2025-05-22T11:10:56.586Z: Setting column 1 (living room temperature) to 22.9
2025-05-22T11:10:56.586Z: Setting column 2 (living room humidity) to 66.1
2025-05-22T11:10:56.586Z: Setting column 4 (light_state) to true
2025-05-22T11:10:56.586Z: Setting column 5 (ac_state) to false
2025-05-22T11:10:56.586Z: Preparing row: 2025-05-22 11:10:56,22.9,66.1,false,true,false,41413915
2025-05-22T11:10:56.586Z: Successfully wrote to log file using writeFileSync
2025-05-22T11:10:56.585Z: Successfully logged combined sensor data in one row
2025-05-22T11:10:56.591Z: Initial combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T11:10:56.592Z: Warning: Header mismatch
2025-05-22T11:10:56.592Z: Existing: timestamp,living room temperature,living room humidity,living room motion,spaceId
2025-05-22T11:10:56.592Z: Expected: timestamp,living room temperature,living room humidity,living room motion,light_state,ac_state,spaceId
2025-05-22T11:10:56.593Z: Logging enabled
2025-05-22T11:10:56.586Z: Re-initialization result: {"success":true,"message":"Sensor logging initialized to C:\\Users\\amin\\Desktop\\smart-space\\SmartSchool-Server\\logs\\sensor_data.csv","columns":[["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5]]}
2025-05-22T11:10:56.178Z: Received sensor data: {"temperature":22.9,"humidity":66.1}
2025-05-22T11:10:56.178Z: Formatted events: [{"name":"living room temperature","value":22.9,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":66.1,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T11:10:56.178Z: Successfully updated event: living room temperature = 22.9
2025-05-22T11:10:56.178Z: Successfully updated event: living room humidity = 66.1
2025-05-22T11:10:56.929Z: Creating a combined row with motion=false, temp=22.9, humidity=66.1, light=true, ac_on=false
2025-05-22T11:10:56.929Z: logSensorData called with 5 sensors
2025-05-22T11:10:56.929Z: Column map has 5 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5]]
2025-05-22T11:10:56.929Z: Setting spaceId column 6 to 41413915
2025-05-22T11:10:56.929Z: Setting column 3 (living room motion) to false
2025-05-22T11:10:56.929Z: Setting column 1 (living room temperature) to 22.9
2025-05-22T11:10:56.929Z: Setting column 2 (living room humidity) to 66.1
2025-05-22T11:10:56.929Z: Setting column 4 (light_state) to true
2025-05-22T11:10:56.929Z: Setting column 5 (ac_state) to false
2025-05-22T11:10:56.929Z: Preparing row: 2025-05-22 11:10:56,22.9,66.1,false,true,false,41413915
2025-05-22T11:10:56.929Z: Successfully wrote to log file using writeFileSync
2025-05-22T11:10:56.929Z: Successfully logged combined sensor data in one row
2025-05-22T11:10:56.931Z: Initial combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T11:12:36.187Z: Polling for sensor data... (poll #1)
2025-05-22T11:12:36.187Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T11:12:36.187Z: Received sensor data: {"temperature":22.9,"humidity":66.1}
2025-05-22T11:12:36.187Z: Formatted events: [{"name":"living room temperature","value":22.9,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":66.1,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T11:12:36.187Z: Successfully updated event: living room temperature = 22.9
2025-05-22T11:12:36.187Z: Successfully updated event: living room humidity = 66.1
2025-05-22T11:12:36.733Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":22.9,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":66.1,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-22T11:12:36.733Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T11:12:36.733Z: Received motion sensor data: {"motionDetected":false}
2025-05-22T11:12:36.733Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T11:12:36.733Z: Successfully updated motion event: living room motion = false
2025-05-22T11:12:37.311Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-22T11:12:38.075Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":true,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-22T11:12:38.512832Z"}}
2025-05-22T11:12:38.075Z: Extracted AC on state: false
2025-05-22T11:12:38.412Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":true},"success":true}
2025-05-22T11:12:38.412Z: Extracted light state: true
2025-05-22T11:12:38.414Z: Error getting light state: loggingResult is not defined
2025-05-22T11:12:38.414Z: Creating a combined row with motion=false, temp=22.9, humidity=66.1, light=false, ac_on=false
2025-05-22T11:12:38.414Z: logSensorData called with 5 sensors
2025-05-22T11:12:38.414Z: Column map has 5 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5]]
2025-05-22T11:12:38.414Z: Setting spaceId column 6 to 41413915
2025-05-22T11:12:38.414Z: Setting column 3 (living room motion) to false
2025-05-22T11:12:38.414Z: Setting column 1 (living room temperature) to 22.9
2025-05-22T11:12:38.414Z: Setting column 2 (living room humidity) to 66.1
2025-05-22T11:12:38.414Z: Setting column 4 (light_state) to false
2025-05-22T11:12:38.414Z: Setting column 5 (ac_state) to false
2025-05-22T11:12:38.414Z: Preparing row: 2025-05-22 11:12:38,22.9,66.1,false,false,false,41413915
2025-05-22T11:12:38.414Z: Successfully wrote to log file using writeFileSync
2025-05-22T11:12:38.414Z: Successfully logged combined sensor data in one row
2025-05-22T11:12:38.417Z: Combined logging result (without light state): {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T11:12:38.417Z: Polling interval active: true
2025-05-22T11:14:16.191Z: Polling for sensor data... (poll #2)
2025-05-22T11:14:16.192Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T11:14:16.192Z: Received sensor data: {"temperature":22.9,"humidity":66.1}
2025-05-22T11:14:16.192Z: Formatted events: [{"name":"living room temperature","value":22.9,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":66.1,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T11:14:16.192Z: Successfully updated event: living room temperature = 22.9
2025-05-22T11:14:16.192Z: Successfully updated event: living room humidity = 66.1
2025-05-22T11:14:16.832Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":22.9,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":66.1,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-22T11:14:16.832Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T11:14:16.832Z: Received motion sensor data: {"motionDetected":false}
2025-05-22T11:14:16.832Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T11:14:16.832Z: Successfully updated motion event: living room motion = false
2025-05-22T11:14:17.023Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-22T11:14:17.576Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":true,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-22T11:14:18.014489Z"}}
2025-05-22T11:14:17.577Z: Extracted AC on state: false
2025-05-22T11:14:17.904Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":true},"success":true}
2025-05-22T11:14:17.905Z: Extracted light state: true
2025-05-22T11:14:17.905Z: Error getting light state: loggingResult is not defined
2025-05-22T11:14:17.905Z: Creating a combined row with motion=false, temp=22.9, humidity=66.1, light=false, ac_on=false
2025-05-22T11:14:17.906Z: logSensorData called with 5 sensors
2025-05-22T11:14:17.906Z: Column map has 5 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5]]
2025-05-22T11:14:17.906Z: Setting spaceId column 6 to 41413915
2025-05-22T11:14:17.906Z: Setting column 3 (living room motion) to false
2025-05-22T11:14:17.906Z: Setting column 1 (living room temperature) to 22.9
2025-05-22T11:14:17.906Z: Setting column 2 (living room humidity) to 66.1
2025-05-22T11:14:17.906Z: Setting column 4 (light_state) to false
2025-05-22T11:14:17.906Z: Setting column 5 (ac_state) to false
2025-05-22T11:14:17.906Z: Preparing row: 2025-05-22 11:14:17,22.9,66.1,false,false,false,41413915
2025-05-22T11:14:17.906Z: Removed trailing newline from file for clean append
2025-05-22T11:14:17.906Z: Successfully wrote to log file using writeFileSync
2025-05-22T11:14:17.905Z: Successfully logged combined sensor data in one row
2025-05-22T11:14:17.908Z: Combined logging result (without light state): {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T11:14:17.908Z: Polling interval active: true
2025-05-22T11:15:56.207Z: Polling for sensor data... (poll #3)
2025-05-22T11:15:56.208Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T11:15:56.208Z: Received sensor data: {"temperature":22.9,"humidity":66.6}
2025-05-22T11:15:56.208Z: Formatted events: [{"name":"living room temperature","value":22.9,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":66.6,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T11:15:56.208Z: Successfully updated event: living room temperature = 22.9
2025-05-22T11:15:56.208Z: Successfully updated event: living room humidity = 66.6
2025-05-22T11:15:57.089Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":22.9,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":66.6,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-22T11:15:57.089Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T11:15:57.089Z: Received motion sensor data: {"motionDetected":false}
2025-05-22T11:15:57.089Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T11:15:57.089Z: Successfully updated motion event: living room motion = false
2025-05-22T11:15:57.235Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-22T11:15:57.844Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":true,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-22T11:15:58.289318Z"}}
2025-05-22T11:15:57.844Z: Extracted AC on state: false
2025-05-22T11:15:58.176Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":true},"success":true}
2025-05-22T11:15:58.176Z: Extracted light state: true
2025-05-22T11:15:58.177Z: Error getting light state: loggingResult is not defined
2025-05-22T11:15:58.177Z: Creating a combined row with motion=false, temp=22.9, humidity=66.6, light=false, ac_on=false
2025-05-22T11:15:58.178Z: logSensorData called with 5 sensors
2025-05-22T11:15:58.178Z: Column map has 5 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5]]
2025-05-22T11:15:58.178Z: Setting spaceId column 6 to 41413915
2025-05-22T11:15:58.178Z: Setting column 3 (living room motion) to false
2025-05-22T11:15:58.178Z: Setting column 1 (living room temperature) to 22.9
2025-05-22T11:15:58.178Z: Setting column 2 (living room humidity) to 66.6
2025-05-22T11:15:58.178Z: Setting column 4 (light_state) to false
2025-05-22T11:15:58.178Z: Setting column 5 (ac_state) to false
2025-05-22T11:15:58.178Z: Preparing row: 2025-05-22 11:15:58,22.9,66.6,false,false,false,41413915
2025-05-22T11:15:58.178Z: Successfully wrote to log file using writeFileSync
2025-05-22T11:15:58.177Z: Successfully logged combined sensor data in one row
2025-05-22T11:15:58.180Z: Combined logging result (without light state): {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T11:15:58.180Z: Polling interval active: true
2025-05-22T11:17:36.216Z: Polling for sensor data... (poll #4)
2025-05-22T11:17:36.218Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T11:17:36.218Z: Received sensor data: {"temperature":22.9,"humidity":66.4}
2025-05-22T11:17:36.218Z: Formatted events: [{"name":"living room temperature","value":22.9,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":66.4,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T11:17:36.218Z: Successfully updated event: living room temperature = 22.9
2025-05-22T11:17:36.218Z: Successfully updated event: living room humidity = 66.4
2025-05-22T11:17:37.270Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":22.9,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":66.4,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-22T11:17:37.270Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T11:17:37.270Z: Received motion sensor data: {"motionDetected":false}
2025-05-22T11:17:37.270Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T11:17:37.270Z: Successfully updated motion event: living room motion = false
2025-05-22T11:17:37.412Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-22T11:17:38.003Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":true,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-22T11:17:38.442599Z"}}
2025-05-22T11:17:38.003Z: Extracted AC on state: false
2025-05-22T11:17:38.342Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":true},"success":true}
2025-05-22T11:17:38.342Z: Extracted light state: true
2025-05-22T11:17:38.343Z: Error getting light state: loggingResult is not defined
2025-05-22T11:17:38.343Z: Creating a combined row with motion=false, temp=22.9, humidity=66.4, light=false, ac_on=false
2025-05-22T11:17:38.343Z: logSensorData called with 5 sensors
2025-05-22T11:17:38.343Z: Column map has 5 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5]]
2025-05-22T11:17:38.343Z: Setting spaceId column 6 to 41413915
2025-05-22T11:17:38.343Z: Setting column 3 (living room motion) to false
2025-05-22T11:17:38.343Z: Setting column 1 (living room temperature) to 22.9
2025-05-22T11:17:38.343Z: Setting column 2 (living room humidity) to 66.4
2025-05-22T11:17:38.343Z: Setting column 4 (light_state) to false
2025-05-22T11:17:38.343Z: Setting column 5 (ac_state) to false
2025-05-22T11:17:38.343Z: Preparing row: 2025-05-22 11:17:38,22.9,66.4,false,false,false,41413915
2025-05-22T11:17:38.343Z: Successfully wrote to log file using writeFileSync
2025-05-22T11:17:38.343Z: Successfully logged combined sensor data in one row
2025-05-22T11:17:38.346Z: Combined logging result (without light state): {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T11:17:38.346Z: Polling interval active: true
2025-05-22T11:19:16.228Z: Polling for sensor data... (poll #5)
2025-05-22T11:19:16.229Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T11:19:16.229Z: Received sensor data: {"temperature":22.9,"humidity":66.2}
2025-05-22T11:19:16.229Z: Formatted events: [{"name":"living room temperature","value":22.9,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":66.2,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T11:19:16.229Z: Successfully updated event: living room temperature = 22.9
2025-05-22T11:19:16.229Z: Successfully updated event: living room humidity = 66.2
2025-05-22T11:19:16.776Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":22.9,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":66.2,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-22T11:19:16.776Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T11:19:16.776Z: Received motion sensor data: {"motionDetected":false}
2025-05-22T11:19:16.776Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T11:19:16.776Z: Successfully updated motion event: living room motion = false
2025-05-22T11:19:16.923Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-22T11:19:17.498Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":true,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-22T11:19:17.950096Z"}}
2025-05-22T11:19:17.498Z: Extracted AC on state: false
2025-05-22T11:19:17.829Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":false},"success":true}
2025-05-22T11:19:17.830Z: Extracted light state: false
2025-05-22T11:19:17.831Z: Error getting light state: loggingResult is not defined
2025-05-22T11:19:17.831Z: Creating a combined row with motion=false, temp=22.9, humidity=66.2, light=false, ac_on=false
2025-05-22T11:19:17.831Z: logSensorData called with 5 sensors
2025-05-22T11:19:17.831Z: Column map has 5 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5]]
2025-05-22T11:19:17.831Z: Setting spaceId column 6 to 41413915
2025-05-22T11:19:17.831Z: Setting column 3 (living room motion) to false
2025-05-22T11:19:17.831Z: Setting column 1 (living room temperature) to 22.9
2025-05-22T11:19:17.831Z: Setting column 2 (living room humidity) to 66.2
2025-05-22T11:19:17.831Z: Setting column 4 (light_state) to false
2025-05-22T11:19:17.831Z: Setting column 5 (ac_state) to false
2025-05-22T11:19:17.831Z: Preparing row: 2025-05-22 11:19:17,22.9,66.2,false,false,false,41413915
2025-05-22T11:19:17.831Z: Successfully wrote to log file using writeFileSync
2025-05-22T11:19:17.831Z: Successfully logged combined sensor data in one row
2025-05-22T11:19:17.834Z: Combined logging result (without light state): {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T11:19:17.834Z: Polling interval active: true
2025-05-22T11:20:56.238Z: Polling for sensor data... (poll #6)
2025-05-22T11:20:56.239Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T11:20:56.239Z: Received sensor data: {"temperature":23,"humidity":66.2}
2025-05-22T11:20:56.239Z: Formatted events: [{"name":"living room temperature","value":23,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":66.2,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T11:20:56.239Z: Successfully updated event: living room temperature = 23
2025-05-22T11:20:56.239Z: Successfully updated event: living room humidity = 66.2
2025-05-22T11:20:57.029Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":23,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":66.2,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-22T11:20:57.029Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T11:20:57.029Z: Received motion sensor data: {"motionDetected":false}
2025-05-22T11:20:57.029Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T11:20:57.029Z: Successfully updated motion event: living room motion = false
2025-05-22T11:20:57.244Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-22T11:20:58.077Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":true,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-22T11:20:58.533824Z"}}
2025-05-22T11:20:58.078Z: Extracted AC on state: false
2025-05-22T11:20:58.483Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":false},"success":true}
2025-05-22T11:20:58.484Z: Extracted light state: false
2025-05-22T11:20:58.485Z: Error getting light state: loggingResult is not defined
2025-05-22T11:20:58.485Z: Creating a combined row with motion=false, temp=23, humidity=66.2, light=false, ac_on=false
2025-05-22T11:20:58.485Z: logSensorData called with 5 sensors
2025-05-22T11:20:58.485Z: Column map has 5 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5]]
2025-05-22T11:20:58.485Z: Setting spaceId column 6 to 41413915
2025-05-22T11:20:58.485Z: Setting column 3 (living room motion) to false
2025-05-22T11:20:58.485Z: Setting column 1 (living room temperature) to 23
2025-05-22T11:20:58.485Z: Setting column 2 (living room humidity) to 66.2
2025-05-22T11:20:58.485Z: Setting column 4 (light_state) to false
2025-05-22T11:20:58.485Z: Setting column 5 (ac_state) to false
2025-05-22T11:20:58.485Z: Preparing row: 2025-05-22 11:20:58,23,66.2,false,false,false,41413915
2025-05-22T11:20:58.485Z: Successfully wrote to log file using writeFileSync
2025-05-22T11:20:58.485Z: Successfully logged combined sensor data in one row
2025-05-22T11:20:58.487Z: Combined logging result (without light state): {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T11:20:58.487Z: Polling interval active: true
2025-05-22T11:22:36.250Z: Polling for sensor data... (poll #7)
2025-05-22T11:22:36.252Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T11:22:36.252Z: Received sensor data: {"temperature":23,"humidity":66.9}
2025-05-22T11:22:36.252Z: Formatted events: [{"name":"living room temperature","value":23,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":66.9,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T11:22:36.252Z: Successfully updated event: living room temperature = 23
2025-05-22T11:22:36.252Z: Successfully updated event: living room humidity = 66.9
2025-05-22T11:22:36.867Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":23,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":66.9,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-22T11:22:36.868Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T11:22:36.868Z: Received motion sensor data: {"motionDetected":false}
2025-05-22T11:22:36.868Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T11:22:36.868Z: Successfully updated motion event: living room motion = false
2025-05-22T11:22:37.016Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-22T11:22:42.574Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":true,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-22T11:22:43.031986Z"}}
2025-05-22T11:22:42.574Z: Extracted AC on state: false
2025-05-22T11:22:42.931Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":false},"success":true}
2025-05-22T11:22:42.931Z: Extracted light state: false
2025-05-22T11:22:42.932Z: Error getting light state: loggingResult is not defined
2025-05-22T11:22:42.932Z: Creating a combined row with motion=false, temp=23, humidity=66.9, light=false, ac_on=false
2025-05-22T11:22:42.933Z: logSensorData called with 5 sensors
2025-05-22T11:22:42.933Z: Column map has 5 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5]]
2025-05-22T11:22:42.933Z: Setting spaceId column 6 to 41413915
2025-05-22T11:22:42.933Z: Setting column 3 (living room motion) to false
2025-05-22T11:22:42.933Z: Setting column 1 (living room temperature) to 23
2025-05-22T11:22:42.933Z: Setting column 2 (living room humidity) to 66.9
2025-05-22T11:22:42.933Z: Setting column 4 (light_state) to false
2025-05-22T11:22:42.933Z: Setting column 5 (ac_state) to false
2025-05-22T11:22:42.933Z: Preparing row: 2025-05-22 11:22:42,23,66.9,false,false,false,41413915
2025-05-22T11:22:42.933Z: Successfully wrote to log file using writeFileSync
2025-05-22T11:22:42.932Z: Successfully logged combined sensor data in one row
2025-05-22T11:22:42.935Z: Combined logging result (without light state): {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T11:22:42.935Z: Polling interval active: true
2025-05-22T11:24:16.259Z: Polling for sensor data... (poll #8)
2025-05-22T11:24:16.260Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T11:24:16.260Z: Received sensor data: {"temperature":23,"humidity":66.3}
2025-05-22T11:24:16.260Z: Formatted events: [{"name":"living room temperature","value":23,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":66.3,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T11:24:16.260Z: Successfully updated event: living room temperature = 23
2025-05-22T11:24:16.260Z: Successfully updated event: living room humidity = 66.3
2025-05-22T11:24:16.794Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":23,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":66.3,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-22T11:24:16.794Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T11:24:16.794Z: Received motion sensor data: {"motionDetected":false}
2025-05-22T11:24:16.794Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T11:24:16.794Z: Successfully updated motion event: living room motion = false
2025-05-22T11:24:16.938Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-22T11:24:17.529Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":true,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-22T11:24:17.989923Z"}}
2025-05-22T11:24:17.529Z: Extracted AC on state: false
2025-05-22T11:24:17.862Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":false},"success":true}
2025-05-22T11:24:17.863Z: Extracted light state: false
2025-05-22T11:24:17.863Z: Error getting light state: loggingResult is not defined
2025-05-22T11:24:17.864Z: Creating a combined row with motion=false, temp=23, humidity=66.3, light=false, ac_on=false
2025-05-22T11:24:17.864Z: logSensorData called with 5 sensors
2025-05-22T11:24:17.864Z: Column map has 5 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5]]
2025-05-22T11:24:17.864Z: Setting spaceId column 6 to 41413915
2025-05-22T11:24:17.864Z: Setting column 3 (living room motion) to false
2025-05-22T11:24:17.864Z: Setting column 1 (living room temperature) to 23
2025-05-22T11:24:17.864Z: Setting column 2 (living room humidity) to 66.3
2025-05-22T11:24:17.864Z: Setting column 4 (light_state) to false
2025-05-22T11:24:17.864Z: Setting column 5 (ac_state) to false
2025-05-22T11:24:17.864Z: Preparing row: 2025-05-22 11:24:17,23,66.3,false,false,false,41413915
2025-05-22T11:24:17.864Z: Successfully wrote to log file using writeFileSync
2025-05-22T11:24:17.864Z: Successfully logged combined sensor data in one row
2025-05-22T11:24:17.866Z: Combined logging result (without light state): {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T11:24:17.866Z: Polling interval active: true
2025-05-22T11:25:56.262Z: Polling for sensor data... (poll #9)
2025-05-22T11:25:56.263Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T11:25:56.263Z: Received sensor data: {"temperature":23,"humidity":66.2}
2025-05-22T11:25:56.263Z: Formatted events: [{"name":"living room temperature","value":23,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":66.2,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T11:25:56.263Z: Successfully updated event: living room temperature = 23
2025-05-22T11:25:56.263Z: Successfully updated event: living room humidity = 66.2
2025-05-22T11:25:56.909Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":23,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":66.2,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-22T11:25:56.909Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T11:25:56.909Z: Received motion sensor data: {"motionDetected":false}
2025-05-22T11:25:56.909Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T11:25:56.909Z: Successfully updated motion event: living room motion = false
2025-05-22T11:25:57.058Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-22T11:25:57.597Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":true,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-22T11:25:58.061381Z"}}
2025-05-22T11:25:57.598Z: Extracted AC on state: false
2025-05-22T11:25:57.934Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":false},"success":true}
2025-05-22T11:25:57.934Z: Extracted light state: false
2025-05-22T11:25:57.935Z: Error getting light state: loggingResult is not defined
2025-05-22T11:25:57.935Z: Creating a combined row with motion=false, temp=23, humidity=66.2, light=false, ac_on=false
2025-05-22T11:25:57.935Z: logSensorData called with 5 sensors
2025-05-22T11:25:57.935Z: Column map has 5 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5]]
2025-05-22T11:25:57.935Z: Setting spaceId column 6 to 41413915
2025-05-22T11:25:57.935Z: Setting column 3 (living room motion) to false
2025-05-22T11:25:57.935Z: Setting column 1 (living room temperature) to 23
2025-05-22T11:25:57.935Z: Setting column 2 (living room humidity) to 66.2
2025-05-22T11:25:57.935Z: Setting column 4 (light_state) to false
2025-05-22T11:25:57.935Z: Setting column 5 (ac_state) to false
2025-05-22T11:25:57.935Z: Preparing row: 2025-05-22 11:25:57,23,66.2,false,false,false,41413915
2025-05-22T11:25:57.935Z: Successfully wrote to log file using writeFileSync
2025-05-22T11:25:57.935Z: Successfully logged combined sensor data in one row
2025-05-22T11:25:57.938Z: Combined logging result (without light state): {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T11:25:57.938Z: Polling interval active: true
2025-05-22T11:27:36.277Z: Polling for sensor data... (poll #10)
2025-05-22T11:27:36.277Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T11:27:36.277Z: Received sensor data: {"temperature":23,"humidity":66.2}
2025-05-22T11:27:36.277Z: Formatted events: [{"name":"living room temperature","value":23,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":66.2,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T11:27:36.277Z: Successfully updated event: living room temperature = 23
2025-05-22T11:27:36.277Z: Successfully updated event: living room humidity = 66.2
2025-05-22T11:27:37.084Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":23,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":66.2,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-22T11:27:37.084Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T11:27:37.084Z: Received motion sensor data: {"motionDetected":false}
2025-05-22T11:27:37.084Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T11:27:37.084Z: Successfully updated motion event: living room motion = false
2025-05-22T11:27:37.238Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-22T11:27:37.832Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":true,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-22T11:27:38.292736Z"}}
2025-05-22T11:27:37.832Z: Extracted AC on state: false
2025-05-22T11:27:38.166Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":false},"success":true}
2025-05-22T11:27:38.166Z: Extracted light state: false
2025-05-22T11:27:38.167Z: Error getting light state: loggingResult is not defined
2025-05-22T11:27:38.167Z: Creating a combined row with motion=false, temp=23, humidity=66.2, light=false, ac_on=false
2025-05-22T11:27:38.167Z: logSensorData called with 5 sensors
2025-05-22T11:27:38.167Z: Column map has 5 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5]]
2025-05-22T11:27:38.167Z: Setting spaceId column 6 to 41413915
2025-05-22T11:27:38.167Z: Setting column 3 (living room motion) to false
2025-05-22T11:27:38.167Z: Setting column 1 (living room temperature) to 23
2025-05-22T11:27:38.167Z: Setting column 2 (living room humidity) to 66.2
2025-05-22T11:27:38.167Z: Setting column 4 (light_state) to false
2025-05-22T11:27:38.167Z: Setting column 5 (ac_state) to false
2025-05-22T11:27:38.167Z: Preparing row: 2025-05-22 11:27:38,23,66.2,false,false,false,41413915
2025-05-22T11:27:38.167Z: Successfully wrote to log file using writeFileSync
2025-05-22T11:27:38.167Z: Successfully logged combined sensor data in one row
2025-05-22T11:27:38.169Z: Combined logging result (without light state): {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T11:27:38.169Z: Polling interval active: true
2025-05-22T11:29:32.249Z: Initializing sensor logging service
2025-05-22T11:29:32.249Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-22T11:29:32.250Z: Added light_state column to event names
2025-05-22T11:29:32.250Z: Added ac_state column to event names
2025-05-22T11:29:32.251Z: Using existing log file
2025-05-22T11:29:32.253Z: Warning: Header mismatch
2025-05-22T11:29:32.254Z: Existing: timestamp,living room temperature,living room humidity,living room motion,spaceId
2025-05-22T11:29:32.254Z: Expected: timestamp,living room temperature,living room humidity,living room motion,light_state,ac_state,spaceId
2025-05-22T11:29:32.255Z: Logging enabled
2025-05-22T11:29:32.256Z: No polling was active to stop
2025-05-22T11:29:32.256Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-05-22T11:29:32.256Z: Polling interval set with ID: 2231
2025-05-22T11:29:32.257Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T11:29:32.258Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T11:29:32.258Z: Received motion sensor data: {"motionDetected":false}
2025-05-22T11:29:32.258Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T11:29:32.258Z: Successfully updated motion event: living room motion = false
2025-05-22T11:29:32.716Z: Initializing sensor logging service
2025-05-22T11:29:32.717Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-22T11:29:32.717Z: Added light_state column to event names
2025-05-22T11:29:32.718Z: Added ac_state column to event names
2025-05-22T11:29:32.719Z: Using existing log file
2025-05-22T11:29:32.720Z: Warning: Header mismatch
2025-05-22T11:29:32.720Z: Existing: timestamp,living room temperature,living room humidity,living room motion,spaceId
2025-05-22T11:29:32.720Z: Expected: timestamp,living room temperature,living room humidity,living room motion,light_state,ac_state,spaceId
2025-05-22T11:29:32.721Z: Closing existing log stream before creating new one
2025-05-22T11:29:32.721Z: Logging enabled
2025-05-22T11:29:32.722Z: Stopping sensor polling interval: 2231
2025-05-22T11:29:32.722Z: Closing logging service
2025-05-22T11:29:32.722Z: Closing sensor logging service
2025-05-22T11:29:32.722Z: Closing log stream
2025-05-22T11:29:32.722Z: Logging stopped at 2025-05-22T11:29:32.722Z
2025-05-22T11:29:32.724Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-05-22T11:29:32.724Z: Polling interval set with ID: 2714
2025-05-22T11:29:32.724Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T11:29:32.725Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T11:29:32.257Z: Received sensor data: {"temperature":23,"humidity":66.3}
2025-05-22T11:29:32.257Z: Formatted events: [{"name":"living room temperature","value":23,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":66.3,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T11:29:32.257Z: Successfully updated event: living room temperature = 23
2025-05-22T11:29:32.257Z: Successfully updated event: living room humidity = 66.3
2025-05-22T11:29:32.725Z: Received motion sensor data: {"motionDetected":false}
2025-05-22T11:29:32.725Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T11:29:32.725Z: Successfully updated motion event: living room motion = false
2025-05-22T11:29:32.724Z: Received sensor data: {"temperature":23,"humidity":66.3}
2025-05-22T11:29:32.724Z: Formatted events: [{"name":"living room temperature","value":23,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":66.3,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T11:29:32.724Z: Successfully updated event: living room temperature = 23
2025-05-22T11:29:32.724Z: Successfully updated event: living room humidity = 66.3
2025-05-22T11:29:46.509Z: Initializing sensor logging service
2025-05-22T11:29:46.510Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-22T11:29:46.510Z: Added light_state column to event names
2025-05-22T11:29:46.511Z: Added ac_state column to event names
2025-05-22T11:29:46.511Z: Using existing log file
2025-05-22T11:29:46.512Z: Warning: Header mismatch
2025-05-22T11:29:46.512Z: Existing: timestamp,living room temperature,living room humidity,living room motion,spaceId
2025-05-22T11:29:46.512Z: Expected: timestamp,living room temperature,living room humidity,living room motion,light_state,ac_state,spaceId
2025-05-22T11:29:46.513Z: Logging enabled
2025-05-22T11:29:46.514Z: No polling was active to stop
2025-05-22T11:29:46.514Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-05-22T11:29:46.514Z: Polling interval set with ID: 1262
2025-05-22T11:29:46.515Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T11:29:46.516Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T11:29:46.588Z: Initializing sensor logging service
2025-05-22T11:29:46.589Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-22T11:29:46.589Z: Added light_state column to event names
2025-05-22T11:29:46.589Z: Added ac_state column to event names
2025-05-22T11:29:46.589Z: Using existing log file
2025-05-22T11:29:46.590Z: Warning: Header mismatch
2025-05-22T11:29:46.591Z: Existing: timestamp,living room temperature,living room humidity,living room motion,spaceId
2025-05-22T11:29:46.591Z: Expected: timestamp,living room temperature,living room humidity,living room motion,light_state,ac_state,spaceId
2025-05-22T11:29:46.591Z: Closing existing log stream before creating new one
2025-05-22T11:29:46.592Z: Logging enabled
2025-05-22T11:29:46.592Z: Stopping sensor polling interval: 1262
2025-05-22T11:29:46.592Z: Closing logging service
2025-05-22T11:29:46.593Z: Closing sensor logging service
2025-05-22T11:29:46.593Z: Closing log stream
2025-05-22T11:29:46.593Z: Logging stopped at 2025-05-22T11:29:46.593Z
2025-05-22T11:29:46.594Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-05-22T11:29:46.594Z: Polling interval set with ID: 1543
2025-05-22T11:29:46.595Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T11:29:46.595Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T11:29:46.516Z: Received motion sensor data: {"motionDetected":false}
2025-05-22T11:29:46.516Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T11:29:46.516Z: Successfully updated motion event: living room motion = false
2025-05-22T11:29:46.595Z: Received motion sensor data: {"motionDetected":false}
2025-05-22T11:29:46.595Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T11:29:46.595Z: Successfully updated motion event: living room motion = false
2025-05-22T11:29:46.515Z: Received sensor data: {"temperature":23,"humidity":66.3}
2025-05-22T11:29:46.515Z: Formatted events: [{"name":"living room temperature","value":23,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":66.3,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T11:29:46.515Z: Successfully updated event: living room temperature = 23
2025-05-22T11:29:46.515Z: Successfully updated event: living room humidity = 66.3
2025-05-22T11:29:46.595Z: Received sensor data: {"temperature":23,"humidity":66.3}
2025-05-22T11:29:46.595Z: Formatted events: [{"name":"living room temperature","value":23,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":66.3,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T11:29:46.595Z: Successfully updated event: living room temperature = 23
2025-05-22T11:29:46.595Z: Successfully updated event: living room humidity = 66.3
2025-05-22T11:31:14.245Z: Initializing sensor logging service
2025-05-22T11:31:14.246Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-22T11:31:14.247Z: Added light_state column to event names
2025-05-22T11:31:14.247Z: Added ac_state column to event names
2025-05-22T11:31:14.248Z: Created new log file with header: timestamp,living room temperature,living room humidity,living room motion,light_state,ac_state,spaceId
2025-05-22T11:31:14.248Z: Logging enabled
2025-05-22T11:31:14.249Z: No polling was active to stop
2025-05-22T11:31:14.251Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-05-22T11:31:14.251Z: Polling interval set with ID: 1271
2025-05-22T11:31:14.252Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T11:31:14.253Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T11:31:14.316Z: Initializing sensor logging service
2025-05-22T11:31:14.316Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-22T11:31:14.317Z: Added light_state column to event names
2025-05-22T11:31:14.317Z: Added ac_state column to event names
2025-05-22T11:31:14.318Z: Using existing log file
2025-05-22T11:31:14.320Z: Closing existing log stream before creating new one
2025-05-22T11:31:14.320Z: Logging enabled
2025-05-22T11:31:14.321Z: Stopping sensor polling interval: 1271
2025-05-22T11:31:14.321Z: Closing logging service
2025-05-22T11:31:14.321Z: Closing sensor logging service
2025-05-22T11:31:14.321Z: Closing log stream
2025-05-22T11:31:14.321Z: Logging stopped at 2025-05-22T11:31:14.321Z
2025-05-22T11:31:14.323Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-05-22T11:31:14.323Z: Polling interval set with ID: 1381
2025-05-22T11:31:14.323Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T11:31:14.324Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T11:31:14.253Z: Received motion sensor data: {"motionDetected":false}
2025-05-22T11:31:14.253Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T11:31:14.253Z: Successfully updated motion event: living room motion = false
2025-05-22T11:31:14.324Z: Received motion sensor data: {"motionDetected":false}
2025-05-22T11:31:14.324Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T11:31:14.324Z: Successfully updated motion event: living room motion = false
2025-05-22T11:31:14.252Z: Received sensor data: {"temperature":23,"humidity":66.2}
2025-05-22T11:31:14.252Z: Formatted events: [{"name":"living room temperature","value":23,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":66.2,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T11:31:14.252Z: Successfully updated event: living room temperature = 23
2025-05-22T11:31:14.252Z: Successfully updated event: living room humidity = 66.2
2025-05-22T11:31:15.033Z: Creating a combined row with motion=false, temp=23, humidity=66.2, light=false, ac_on=false
2025-05-22T11:31:15.033Z: logSensorData called with 5 sensors
2025-05-22T11:31:15.033Z: WARNING - Logging is disabled but logSensorData was called
2025-05-22T11:31:15.033Z: Attempting to re-initialize logging with existing events
2025-05-22T11:31:15.034Z: Initializing sensor logging service
2025-05-22T11:31:15.034Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-22T11:31:15.035Z: Using existing log file
2025-05-22T11:31:15.033Z: Column map has 5 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5]]
2025-05-22T11:31:15.033Z: Setting spaceId column 6 to 41413915
2025-05-22T11:31:15.033Z: Setting column 3 (living room motion) to false
2025-05-22T11:31:15.033Z: Setting column 1 (living room temperature) to 23
2025-05-22T11:31:15.033Z: Setting column 2 (living room humidity) to 66.2
2025-05-22T11:31:15.033Z: Setting column 4 (light_state) to false
2025-05-22T11:31:15.033Z: Setting column 5 (ac_state) to false
2025-05-22T11:31:15.033Z: Preparing row: 2025-05-22 11:31:15,23,66.2,false,false,false,41413915
2025-05-22T11:31:15.033Z: Successfully wrote to log file using writeFileSync
2025-05-22T11:31:15.033Z: Successfully logged combined sensor data in one row
2025-05-22T11:31:15.037Z: Initial combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T11:31:15.038Z: Logging enabled
2025-05-22T11:31:15.033Z: Re-initialization result: {"success":true,"message":"Sensor logging initialized to C:\\Users\\amin\\Desktop\\smart-space\\SmartSchool-Server\\logs\\sensor_data.csv","columns":[["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5]]}
2025-05-22T11:31:14.323Z: Received sensor data: {"temperature":23,"humidity":66.2}
2025-05-22T11:31:14.323Z: Formatted events: [{"name":"living room temperature","value":23,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":66.2,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T11:31:14.323Z: Successfully updated event: living room temperature = 23
2025-05-22T11:31:14.323Z: Successfully updated event: living room humidity = 66.2
2025-05-22T11:31:15.208Z: Creating a combined row with motion=false, temp=23, humidity=66.2, light=false, ac_on=false
2025-05-22T11:31:15.208Z: logSensorData called with 5 sensors
2025-05-22T11:31:15.208Z: Column map has 5 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5]]
2025-05-22T11:31:15.208Z: Setting spaceId column 6 to 41413915
2025-05-22T11:31:15.208Z: Setting column 3 (living room motion) to false
2025-05-22T11:31:15.208Z: Setting column 1 (living room temperature) to 23
2025-05-22T11:31:15.208Z: Setting column 2 (living room humidity) to 66.2
2025-05-22T11:31:15.208Z: Setting column 4 (light_state) to false
2025-05-22T11:31:15.208Z: Setting column 5 (ac_state) to false
2025-05-22T11:31:15.208Z: Preparing row: 2025-05-22 11:31:15,23,66.2,false,false,false,41413915
2025-05-22T11:31:15.208Z: Successfully wrote to log file using writeFileSync
2025-05-22T11:31:15.208Z: Successfully logged combined sensor data in one row
2025-05-22T11:31:15.210Z: Initial combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T11:32:54.336Z: Polling for sensor data... (poll #1)
2025-05-22T11:32:54.337Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T11:32:54.337Z: Received sensor data: {"temperature":23.1,"humidity":66.2}
2025-05-22T11:32:54.337Z: Formatted events: [{"name":"living room temperature","value":23.1,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":66.2,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T11:32:54.337Z: Successfully updated event: living room temperature = 23.1
2025-05-22T11:32:54.337Z: Successfully updated event: living room humidity = 66.2
2025-05-22T11:32:55.024Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":23.1,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":66.2,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-22T11:32:55.024Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T11:32:55.024Z: Received motion sensor data: {"motionDetected":false}
2025-05-22T11:32:55.024Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T11:32:55.024Z: Successfully updated motion event: living room motion = false
2025-05-22T11:32:55.170Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-22T11:32:55.763Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":true,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-22T11:32:56.234086Z"}}
2025-05-22T11:32:55.763Z: Extracted AC on state: false
2025-05-22T11:32:56.095Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":false},"success":true}
2025-05-22T11:32:56.096Z: Extracted light state: false
2025-05-22T11:32:56.096Z: Creating a combined row with motion=false, temp=23.1, humidity=66.2, light=false, ac_on=false
2025-05-22T11:32:56.096Z: logSensorData called with 5 sensors
2025-05-22T11:32:56.096Z: Column map has 5 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5]]
2025-05-22T11:32:56.096Z: Setting spaceId column 6 to 41413915
2025-05-22T11:32:56.096Z: Setting column 3 (living room motion) to false
2025-05-22T11:32:56.096Z: Setting column 1 (living room temperature) to 23.1
2025-05-22T11:32:56.096Z: Setting column 2 (living room humidity) to 66.2
2025-05-22T11:32:56.096Z: Setting column 4 (light_state) to false
2025-05-22T11:32:56.096Z: Setting column 5 (ac_state) to false
2025-05-22T11:32:56.096Z: Preparing row: 2025-05-22 11:32:56,23.1,66.2,false,false,false,41413915
2025-05-22T11:32:56.096Z: Removed trailing newline from file for clean append
2025-05-22T11:32:56.096Z: Successfully wrote to log file using writeFileSync
2025-05-22T11:32:56.096Z: Successfully logged combined sensor data in one row
2025-05-22T11:32:56.101Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T11:32:56.101Z: Polling interval active: true
2025-05-22T11:34:34.340Z: Polling for sensor data... (poll #2)
2025-05-22T11:34:34.341Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T11:34:34.341Z: Received sensor data: {"temperature":23.1,"humidity":66.2}
2025-05-22T11:34:34.341Z: Formatted events: [{"name":"living room temperature","value":23.1,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":66.2,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T11:34:34.341Z: Successfully updated event: living room temperature = 23.1
2025-05-22T11:34:34.341Z: Successfully updated event: living room humidity = 66.2
2025-05-22T11:34:34.868Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":23.1,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":66.2,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-22T11:34:34.869Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T11:34:34.869Z: Received motion sensor data: {"motionDetected":false}
2025-05-22T11:34:34.869Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T11:34:34.869Z: Successfully updated motion event: living room motion = false
2025-05-22T11:34:35.012Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-22T11:34:35.581Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":true,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-22T11:34:36.056085Z"}}
2025-05-22T11:34:35.581Z: Extracted AC on state: false
2025-05-22T11:34:35.897Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":false},"success":true}
2025-05-22T11:34:35.898Z: Extracted light state: false
2025-05-22T11:34:35.898Z: Creating a combined row with motion=false, temp=23.1, humidity=66.2, light=false, ac_on=false
2025-05-22T11:34:35.898Z: logSensorData called with 5 sensors
2025-05-22T11:34:35.898Z: Column map has 5 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5]]
2025-05-22T11:34:35.898Z: Setting spaceId column 6 to 41413915
2025-05-22T11:34:35.898Z: Setting column 3 (living room motion) to false
2025-05-22T11:34:35.898Z: Setting column 1 (living room temperature) to 23.1
2025-05-22T11:34:35.898Z: Setting column 2 (living room humidity) to 66.2
2025-05-22T11:34:35.898Z: Setting column 4 (light_state) to false
2025-05-22T11:34:35.898Z: Setting column 5 (ac_state) to false
2025-05-22T11:34:35.898Z: Preparing row: 2025-05-22 11:34:35,23.1,66.2,false,false,false,41413915
2025-05-22T11:34:35.898Z: Successfully wrote to log file using writeFileSync
2025-05-22T11:34:35.898Z: Successfully logged combined sensor data in one row
2025-05-22T11:34:35.903Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T11:34:35.903Z: Polling interval active: true
2025-05-22T11:36:14.352Z: Polling for sensor data... (poll #3)
2025-05-22T11:36:14.353Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T11:36:14.353Z: Received sensor data: {"temperature":23.1,"humidity":66.2}
2025-05-22T11:36:14.353Z: Formatted events: [{"name":"living room temperature","value":23.1,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":66.2,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T11:36:14.353Z: Successfully updated event: living room temperature = 23.1
2025-05-22T11:36:14.353Z: Successfully updated event: living room humidity = 66.2
2025-05-22T11:36:14.970Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":23.1,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":66.2,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-22T11:36:14.970Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T11:36:14.970Z: Received motion sensor data: {"motionDetected":false}
2025-05-22T11:36:14.970Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T11:36:14.970Z: Successfully updated motion event: living room motion = false
2025-05-22T11:36:15.150Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-22T11:36:15.746Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":true,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-22T11:36:16.229983Z"}}
2025-05-22T11:36:15.747Z: Extracted AC on state: false
2025-05-22T11:36:16.078Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":false},"success":true}
2025-05-22T11:36:16.079Z: Extracted light state: false
2025-05-22T11:36:16.079Z: Creating a combined row with motion=false, temp=23.1, humidity=66.2, light=false, ac_on=false
2025-05-22T11:36:16.079Z: logSensorData called with 5 sensors
2025-05-22T11:36:16.079Z: Column map has 5 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5]]
2025-05-22T11:36:16.079Z: Setting spaceId column 6 to 41413915
2025-05-22T11:36:16.079Z: Setting column 3 (living room motion) to false
2025-05-22T11:36:16.079Z: Setting column 1 (living room temperature) to 23.1
2025-05-22T11:36:16.079Z: Setting column 2 (living room humidity) to 66.2
2025-05-22T11:36:16.079Z: Setting column 4 (light_state) to false
2025-05-22T11:36:16.079Z: Setting column 5 (ac_state) to false
2025-05-22T11:36:16.079Z: Preparing row: 2025-05-22 11:36:16,23.1,66.2,false,false,false,41413915
2025-05-22T11:36:16.079Z: Successfully wrote to log file using writeFileSync
2025-05-22T11:36:16.079Z: Successfully logged combined sensor data in one row
2025-05-22T11:36:16.084Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T11:36:16.084Z: Polling interval active: true
2025-05-22T11:37:54.355Z: Polling for sensor data... (poll #4)
2025-05-22T11:37:54.356Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T11:37:54.356Z: Received sensor data: {"temperature":23.1,"humidity":66.2}
2025-05-22T11:37:54.356Z: Formatted events: [{"name":"living room temperature","value":23.1,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":66.2,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T11:37:54.356Z: Successfully updated event: living room temperature = 23.1
2025-05-22T11:37:54.356Z: Successfully updated event: living room humidity = 66.2
2025-05-22T11:37:55.023Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":23.1,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":66.2,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-22T11:37:55.023Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T11:37:55.023Z: Received motion sensor data: {"motionDetected":true}
2025-05-22T11:37:55.023Z: Formatted motion sensor events: [{"name":"living room motion","value":true,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T11:37:55.023Z: Successfully updated motion event: living room motion = true
2025-05-22T11:37:55.174Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":true,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-22T11:37:55.743Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":true,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-22T11:37:56.229246Z"}}
2025-05-22T11:37:55.744Z: Extracted AC on state: false
2025-05-22T11:37:56.090Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":false},"success":true}
2025-05-22T11:37:56.091Z: Extracted light state: false
2025-05-22T11:37:56.091Z: Creating a combined row with motion=true, temp=23.1, humidity=66.2, light=false, ac_on=false
2025-05-22T11:37:56.091Z: logSensorData called with 5 sensors
2025-05-22T11:37:56.091Z: Column map has 5 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5]]
2025-05-22T11:37:56.091Z: Setting spaceId column 6 to 41413915
2025-05-22T11:37:56.091Z: Setting column 3 (living room motion) to true
2025-05-22T11:37:56.091Z: Setting column 1 (living room temperature) to 23.1
2025-05-22T11:37:56.091Z: Setting column 2 (living room humidity) to 66.2
2025-05-22T11:37:56.091Z: Setting column 4 (light_state) to false
2025-05-22T11:37:56.091Z: Setting column 5 (ac_state) to false
2025-05-22T11:37:56.091Z: Preparing row: 2025-05-22 11:37:56,23.1,66.2,true,false,false,41413915
2025-05-22T11:37:56.091Z: Successfully wrote to log file using writeFileSync
2025-05-22T11:37:56.091Z: Successfully logged combined sensor data in one row
2025-05-22T11:37:56.096Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T11:37:56.096Z: Polling interval active: true
2025-05-22T11:39:34.361Z: Polling for sensor data... (poll #5)
2025-05-22T11:39:34.362Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T11:39:34.362Z: Received sensor data: {"temperature":23.1,"humidity":66.2}
2025-05-22T11:39:34.362Z: Formatted events: [{"name":"living room temperature","value":23.1,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":66.2,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T11:39:34.362Z: Successfully updated event: living room temperature = 23.1
2025-05-22T11:39:34.362Z: Successfully updated event: living room humidity = 66.2
2025-05-22T11:39:34.926Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":23.1,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":66.2,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-22T11:39:34.926Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T11:39:34.926Z: Received motion sensor data: {"motionDetected":false}
2025-05-22T11:39:34.926Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T11:39:34.926Z: Successfully updated motion event: living room motion = false
2025-05-22T11:39:35.073Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-22T11:39:35.649Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":true,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-22T11:39:36.137087Z"}}
2025-05-22T11:39:35.649Z: Extracted AC on state: false
2025-05-22T11:39:35.984Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":false},"success":true}
2025-05-22T11:39:35.985Z: Extracted light state: false
2025-05-22T11:39:35.985Z: Creating a combined row with motion=false, temp=23.1, humidity=66.2, light=false, ac_on=false
2025-05-22T11:39:35.985Z: logSensorData called with 5 sensors
2025-05-22T11:39:35.985Z: Column map has 5 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5]]
2025-05-22T11:39:35.985Z: Setting spaceId column 6 to 41413915
2025-05-22T11:39:35.985Z: Setting column 3 (living room motion) to false
2025-05-22T11:39:35.985Z: Setting column 1 (living room temperature) to 23.1
2025-05-22T11:39:35.985Z: Setting column 2 (living room humidity) to 66.2
2025-05-22T11:39:35.985Z: Setting column 4 (light_state) to false
2025-05-22T11:39:35.985Z: Setting column 5 (ac_state) to false
2025-05-22T11:39:35.985Z: Preparing row: 2025-05-22 11:39:35,23.1,66.2,false,false,false,41413915
2025-05-22T11:39:35.985Z: Successfully wrote to log file using writeFileSync
2025-05-22T11:39:35.985Z: Successfully logged combined sensor data in one row
2025-05-22T11:39:35.991Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T11:39:35.991Z: Polling interval active: true
2025-05-22T11:41:14.372Z: Polling for sensor data... (poll #6)
2025-05-22T11:41:14.373Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T11:41:14.373Z: Received sensor data: {"temperature":23.1,"humidity":66.1}
2025-05-22T11:41:14.373Z: Formatted events: [{"name":"living room temperature","value":23.1,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":66.1,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T11:41:14.373Z: Successfully updated event: living room temperature = 23.1
2025-05-22T11:41:14.373Z: Successfully updated event: living room humidity = 66.1
2025-05-22T11:41:14.942Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":23.1,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":66.1,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-22T11:41:14.942Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T11:41:14.942Z: Received motion sensor data: {"motionDetected":false}
2025-05-22T11:41:14.942Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T11:41:14.942Z: Successfully updated motion event: living room motion = false
2025-05-22T11:41:15.101Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-22T11:41:15.698Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":true,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-22T11:41:16.190334Z"}}
2025-05-22T11:41:15.698Z: Extracted AC on state: false
2025-05-22T11:41:16.023Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":false},"success":true}
2025-05-22T11:41:16.024Z: Extracted light state: false
2025-05-22T11:41:16.024Z: Creating a combined row with motion=false, temp=23.1, humidity=66.1, light=false, ac_on=false
2025-05-22T11:41:16.024Z: logSensorData called with 5 sensors
2025-05-22T11:41:16.024Z: Column map has 5 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5]]
2025-05-22T11:41:16.024Z: Setting spaceId column 6 to 41413915
2025-05-22T11:41:16.024Z: Setting column 3 (living room motion) to false
2025-05-22T11:41:16.024Z: Setting column 1 (living room temperature) to 23.1
2025-05-22T11:41:16.024Z: Setting column 2 (living room humidity) to 66.1
2025-05-22T11:41:16.024Z: Setting column 4 (light_state) to false
2025-05-22T11:41:16.024Z: Setting column 5 (ac_state) to false
2025-05-22T11:41:16.024Z: Preparing row: 2025-05-22 11:41:16,23.1,66.1,false,false,false,41413915
2025-05-22T11:41:16.024Z: Successfully wrote to log file using writeFileSync
2025-05-22T11:41:16.024Z: Successfully logged combined sensor data in one row
2025-05-22T11:41:16.028Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T11:41:16.029Z: Polling interval active: true
2025-05-22T11:42:54.373Z: Polling for sensor data... (poll #7)
2025-05-22T11:42:54.373Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T11:42:54.373Z: Received sensor data: {"temperature":23.2,"humidity":66.2}
2025-05-22T11:42:54.373Z: Formatted events: [{"name":"living room temperature","value":23.2,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":66.2,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T11:42:54.373Z: Successfully updated event: living room temperature = 23.2
2025-05-22T11:42:54.373Z: Successfully updated event: living room humidity = 66.2
2025-05-22T11:42:54.940Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":23.2,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":66.2,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-22T11:42:54.940Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T11:42:54.940Z: Received motion sensor data: {"motionDetected":false}
2025-05-22T11:42:54.940Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T11:42:54.940Z: Successfully updated motion event: living room motion = false
2025-05-22T11:42:55.084Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-22T11:42:55.643Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":true,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-22T11:42:56.135627Z"}}
2025-05-22T11:42:55.643Z: Extracted AC on state: false
2025-05-22T11:42:55.991Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":false},"success":true}
2025-05-22T11:42:55.991Z: Extracted light state: false
2025-05-22T11:42:55.992Z: Creating a combined row with motion=false, temp=23.2, humidity=66.2, light=false, ac_on=false
2025-05-22T11:42:55.992Z: logSensorData called with 5 sensors
2025-05-22T11:42:55.992Z: Column map has 5 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5]]
2025-05-22T11:42:55.992Z: Setting spaceId column 6 to 41413915
2025-05-22T11:42:55.992Z: Setting column 3 (living room motion) to false
2025-05-22T11:42:55.992Z: Setting column 1 (living room temperature) to 23.2
2025-05-22T11:42:55.992Z: Setting column 2 (living room humidity) to 66.2
2025-05-22T11:42:55.992Z: Setting column 4 (light_state) to false
2025-05-22T11:42:55.992Z: Setting column 5 (ac_state) to false
2025-05-22T11:42:55.992Z: Preparing row: 2025-05-22 11:42:55,23.2,66.2,false,false,false,41413915
2025-05-22T11:42:55.992Z: Successfully wrote to log file using writeFileSync
2025-05-22T11:42:55.992Z: Successfully logged combined sensor data in one row
2025-05-22T11:42:55.997Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T11:42:55.997Z: Polling interval active: true
2025-05-22T11:44:34.377Z: Polling for sensor data... (poll #8)
2025-05-22T11:44:34.377Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T11:44:34.377Z: Received sensor data: {"temperature":23.2,"humidity":66.1}
2025-05-22T11:44:34.377Z: Formatted events: [{"name":"living room temperature","value":23.2,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":66.1,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T11:44:34.377Z: Successfully updated event: living room temperature = 23.2
2025-05-22T11:44:34.377Z: Successfully updated event: living room humidity = 66.1
2025-05-22T11:44:35.275Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":23.2,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":66.1,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-22T11:44:35.275Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T11:44:35.275Z: Received motion sensor data: {"motionDetected":false}
2025-05-22T11:44:35.275Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T11:44:35.275Z: Successfully updated motion event: living room motion = false
2025-05-22T11:44:35.431Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-22T11:44:35.949Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":true,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-22T11:44:36.436751Z"}}
2025-05-22T11:44:35.949Z: Extracted AC on state: false
2025-05-22T11:44:36.291Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":false},"success":true}
2025-05-22T11:44:36.291Z: Extracted light state: false
2025-05-22T11:44:36.292Z: Creating a combined row with motion=false, temp=23.2, humidity=66.1, light=false, ac_on=false
2025-05-22T11:44:36.292Z: logSensorData called with 5 sensors
2025-05-22T11:44:36.292Z: Column map has 5 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5]]
2025-05-22T11:44:36.292Z: Setting spaceId column 6 to 41413915
2025-05-22T11:44:36.292Z: Setting column 3 (living room motion) to false
2025-05-22T11:44:36.292Z: Setting column 1 (living room temperature) to 23.2
2025-05-22T11:44:36.292Z: Setting column 2 (living room humidity) to 66.1
2025-05-22T11:44:36.292Z: Setting column 4 (light_state) to false
2025-05-22T11:44:36.292Z: Setting column 5 (ac_state) to false
2025-05-22T11:44:36.292Z: Preparing row: 2025-05-22 11:44:36,23.2,66.1,false,false,false,41413915
2025-05-22T11:44:36.292Z: Successfully wrote to log file using writeFileSync
2025-05-22T11:44:36.292Z: Successfully logged combined sensor data in one row
2025-05-22T11:44:36.297Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T11:44:36.297Z: Polling interval active: true
2025-05-22T11:46:14.381Z: Polling for sensor data... (poll #9)
2025-05-22T11:46:14.382Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T11:46:14.382Z: Received sensor data: {"temperature":23.2,"humidity":66.3}
2025-05-22T11:46:14.382Z: Formatted events: [{"name":"living room temperature","value":23.2,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":66.3,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T11:46:14.382Z: Successfully updated event: living room temperature = 23.2
2025-05-22T11:46:14.382Z: Successfully updated event: living room humidity = 66.3
2025-05-22T11:46:14.935Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":23.2,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":66.3,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-22T11:46:14.935Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T11:46:14.935Z: Received motion sensor data: {"motionDetected":false}
2025-05-22T11:46:14.935Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T11:46:14.935Z: Successfully updated motion event: living room motion = false
2025-05-22T11:46:15.079Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-22T11:46:15.714Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":true,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-22T11:46:16.211104Z"}}
2025-05-22T11:46:15.714Z: Extracted AC on state: false
2025-05-22T11:46:16.054Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":false},"success":true}
2025-05-22T11:46:16.055Z: Extracted light state: false
2025-05-22T11:46:16.055Z: Creating a combined row with motion=false, temp=23.2, humidity=66.3, light=false, ac_on=false
2025-05-22T11:46:16.056Z: logSensorData called with 5 sensors
2025-05-22T11:46:16.056Z: Column map has 5 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5]]
2025-05-22T11:46:16.056Z: Setting spaceId column 6 to 41413915
2025-05-22T11:46:16.056Z: Setting column 3 (living room motion) to false
2025-05-22T11:46:16.056Z: Setting column 1 (living room temperature) to 23.2
2025-05-22T11:46:16.056Z: Setting column 2 (living room humidity) to 66.3
2025-05-22T11:46:16.056Z: Setting column 4 (light_state) to false
2025-05-22T11:46:16.056Z: Setting column 5 (ac_state) to false
2025-05-22T11:46:16.056Z: Preparing row: 2025-05-22 11:46:16,23.2,66.3,false,false,false,41413915
2025-05-22T11:46:16.056Z: Successfully wrote to log file using writeFileSync
2025-05-22T11:46:16.055Z: Successfully logged combined sensor data in one row
2025-05-22T11:46:16.060Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T11:46:16.060Z: Polling interval active: true
2025-05-22T11:47:54.380Z: Polling for sensor data... (poll #10)
2025-05-22T11:47:54.381Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T11:47:54.381Z: Received sensor data: {"temperature":23.2,"humidity":66.3}
2025-05-22T11:47:54.381Z: Formatted events: [{"name":"living room temperature","value":23.2,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":66.3,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T11:47:54.381Z: Successfully updated event: living room temperature = 23.2
2025-05-22T11:47:54.381Z: Successfully updated event: living room humidity = 66.3
2025-05-22T11:47:54.922Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":23.2,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":66.3,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-22T11:47:54.922Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T11:47:54.922Z: Received motion sensor data: {"motionDetected":false}
2025-05-22T11:47:54.922Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T11:47:54.922Z: Successfully updated motion event: living room motion = false
2025-05-22T11:47:55.065Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-22T11:47:55.640Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":true,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-22T11:47:56.140665Z"}}
2025-05-22T11:47:55.640Z: Extracted AC on state: false
2025-05-22T11:47:55.958Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":false},"success":true}
2025-05-22T11:47:55.959Z: Extracted light state: false
2025-05-22T11:47:55.959Z: Creating a combined row with motion=false, temp=23.2, humidity=66.3, light=false, ac_on=false
2025-05-22T11:47:55.960Z: logSensorData called with 5 sensors
2025-05-22T11:47:55.960Z: Column map has 5 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5]]
2025-05-22T11:47:55.960Z: Setting spaceId column 6 to 41413915
2025-05-22T11:47:55.960Z: Setting column 3 (living room motion) to false
2025-05-22T11:47:55.960Z: Setting column 1 (living room temperature) to 23.2
2025-05-22T11:47:55.960Z: Setting column 2 (living room humidity) to 66.3
2025-05-22T11:47:55.960Z: Setting column 4 (light_state) to false
2025-05-22T11:47:55.960Z: Setting column 5 (ac_state) to false
2025-05-22T11:47:55.960Z: Preparing row: 2025-05-22 11:47:55,23.2,66.3,false,false,false,41413915
2025-05-22T11:47:55.960Z: Successfully wrote to log file using writeFileSync
2025-05-22T11:47:55.959Z: Successfully logged combined sensor data in one row
2025-05-22T11:47:55.964Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T11:47:55.964Z: Polling interval active: true
2025-05-22T11:49:34.390Z: Polling for sensor data... (poll #11)
2025-05-22T11:49:34.390Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T11:49:34.390Z: Received sensor data: {"temperature":23.2,"humidity":66.3}
2025-05-22T11:49:34.390Z: Formatted events: [{"name":"living room temperature","value":23.2,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":66.3,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T11:49:34.390Z: Successfully updated event: living room temperature = 23.2
2025-05-22T11:49:34.390Z: Successfully updated event: living room humidity = 66.3
2025-05-22T11:49:34.982Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":23.2,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":66.3,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-22T11:49:34.982Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T11:49:34.982Z: Received motion sensor data: {"motionDetected":false}
2025-05-22T11:49:34.982Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T11:49:34.982Z: Successfully updated motion event: living room motion = false
2025-05-22T11:49:35.133Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-22T11:49:35.664Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":true,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-22T11:49:36.168343Z"}}
2025-05-22T11:49:35.664Z: Extracted AC on state: false
2025-05-22T11:49:35.989Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":false},"success":true}
2025-05-22T11:49:35.989Z: Extracted light state: false
2025-05-22T11:49:35.989Z: Creating a combined row with motion=false, temp=23.2, humidity=66.3, light=false, ac_on=false
2025-05-22T11:49:35.990Z: logSensorData called with 5 sensors
2025-05-22T11:49:35.990Z: Column map has 5 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5]]
2025-05-22T11:49:35.990Z: Setting spaceId column 6 to 41413915
2025-05-22T11:49:35.990Z: Setting column 3 (living room motion) to false
2025-05-22T11:49:35.990Z: Setting column 1 (living room temperature) to 23.2
2025-05-22T11:49:35.990Z: Setting column 2 (living room humidity) to 66.3
2025-05-22T11:49:35.990Z: Setting column 4 (light_state) to false
2025-05-22T11:49:35.990Z: Setting column 5 (ac_state) to false
2025-05-22T11:49:35.990Z: Preparing row: 2025-05-22 11:49:35,23.2,66.3,false,false,false,41413915
2025-05-22T11:49:35.990Z: Successfully wrote to log file using writeFileSync
2025-05-22T11:49:35.989Z: Successfully logged combined sensor data in one row
2025-05-22T11:49:35.995Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T11:49:35.996Z: Polling interval active: true
2025-05-22T11:51:14.392Z: Polling for sensor data... (poll #12)
2025-05-22T11:51:14.393Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T11:51:14.393Z: Received sensor data: {"temperature":23.2,"humidity":66.5}
2025-05-22T11:51:14.393Z: Formatted events: [{"name":"living room temperature","value":23.2,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":66.5,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T11:51:14.393Z: Successfully updated event: living room temperature = 23.2
2025-05-22T11:51:14.393Z: Successfully updated event: living room humidity = 66.5
2025-05-22T11:51:14.981Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":23.2,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":66.5,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-22T11:51:14.981Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T11:51:14.981Z: Received motion sensor data: {"motionDetected":false}
2025-05-22T11:51:14.981Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T11:51:14.981Z: Successfully updated motion event: living room motion = false
2025-05-22T11:51:15.133Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-22T11:51:15.666Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":true,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-22T11:51:16.164111Z"}}
2025-05-22T11:51:15.666Z: Extracted AC on state: false
2025-05-22T11:51:16.017Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":false},"success":true}
2025-05-22T11:51:16.018Z: Extracted light state: false
2025-05-22T11:51:16.018Z: Creating a combined row with motion=false, temp=23.2, humidity=66.5, light=false, ac_on=false
2025-05-22T11:51:16.018Z: logSensorData called with 5 sensors
2025-05-22T11:51:16.018Z: Column map has 5 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5]]
2025-05-22T11:51:16.018Z: Setting spaceId column 6 to 41413915
2025-05-22T11:51:16.018Z: Setting column 3 (living room motion) to false
2025-05-22T11:51:16.018Z: Setting column 1 (living room temperature) to 23.2
2025-05-22T11:51:16.018Z: Setting column 2 (living room humidity) to 66.5
2025-05-22T11:51:16.018Z: Setting column 4 (light_state) to false
2025-05-22T11:51:16.018Z: Setting column 5 (ac_state) to false
2025-05-22T11:51:16.018Z: Preparing row: 2025-05-22 11:51:16,23.2,66.5,false,false,false,41413915
2025-05-22T11:51:16.018Z: Successfully wrote to log file using writeFileSync
2025-05-22T11:51:16.018Z: Successfully logged combined sensor data in one row
2025-05-22T11:51:16.024Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T11:51:16.024Z: Polling interval active: true
2025-05-22T11:52:54.397Z: Polling for sensor data... (poll #13)
2025-05-22T11:52:54.398Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T11:52:54.398Z: Received sensor data: {"temperature":23.2,"humidity":66.3}
2025-05-22T11:52:54.398Z: Formatted events: [{"name":"living room temperature","value":23.2,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":66.3,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T11:52:54.398Z: Successfully updated event: living room temperature = 23.2
2025-05-22T11:52:54.398Z: Successfully updated event: living room humidity = 66.3
2025-05-22T11:52:55.056Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":23.2,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":66.3,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-22T11:52:55.056Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T11:52:55.056Z: Received motion sensor data: {"motionDetected":false}
2025-05-22T11:52:55.056Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T11:52:55.056Z: Successfully updated motion event: living room motion = false
2025-05-22T11:52:55.264Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-22T11:52:55.888Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":true,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-22T11:52:56.394719Z"}}
2025-05-22T11:52:55.888Z: Extracted AC on state: false
2025-05-22T11:52:56.237Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":false},"success":true}
2025-05-22T11:52:56.238Z: Extracted light state: false
2025-05-22T11:52:56.238Z: Creating a combined row with motion=false, temp=23.2, humidity=66.3, light=false, ac_on=false
2025-05-22T11:52:56.238Z: logSensorData called with 5 sensors
2025-05-22T11:52:56.238Z: Column map has 5 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5]]
2025-05-22T11:52:56.238Z: Setting spaceId column 6 to 41413915
2025-05-22T11:52:56.238Z: Setting column 3 (living room motion) to false
2025-05-22T11:52:56.238Z: Setting column 1 (living room temperature) to 23.2
2025-05-22T11:52:56.238Z: Setting column 2 (living room humidity) to 66.3
2025-05-22T11:52:56.238Z: Setting column 4 (light_state) to false
2025-05-22T11:52:56.238Z: Setting column 5 (ac_state) to false
2025-05-22T11:52:56.238Z: Preparing row: 2025-05-22 11:52:56,23.2,66.3,false,false,false,41413915
2025-05-22T11:52:56.238Z: Successfully wrote to log file using writeFileSync
2025-05-22T11:52:56.238Z: Successfully logged combined sensor data in one row
2025-05-22T11:52:56.243Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T11:52:56.243Z: Polling interval active: true
2025-05-22T11:54:34.407Z: Polling for sensor data... (poll #14)
2025-05-22T11:54:34.408Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T11:54:34.408Z: Received sensor data: {"temperature":23.2,"humidity":66.3}
2025-05-22T11:54:34.408Z: Formatted events: [{"name":"living room temperature","value":23.2,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":66.3,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T11:54:34.408Z: Successfully updated event: living room temperature = 23.2
2025-05-22T11:54:34.408Z: Successfully updated event: living room humidity = 66.3
2025-05-22T11:54:35.113Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":23.2,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":66.3,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-22T11:54:35.114Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T11:54:35.114Z: Received motion sensor data: {"motionDetected":false}
2025-05-22T11:54:35.114Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T11:54:35.114Z: Successfully updated motion event: living room motion = false
2025-05-22T11:54:35.260Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-22T11:54:35.884Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":true,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-22T11:54:36.398630Z"}}
2025-05-22T11:54:35.884Z: Extracted AC on state: false
2025-05-22T11:54:36.262Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":false},"success":true}
2025-05-22T11:54:36.262Z: Extracted light state: false
2025-05-22T11:54:36.263Z: Creating a combined row with motion=false, temp=23.2, humidity=66.3, light=false, ac_on=false
2025-05-22T11:54:36.263Z: logSensorData called with 5 sensors
2025-05-22T11:54:36.263Z: Column map has 5 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5]]
2025-05-22T11:54:36.263Z: Setting spaceId column 6 to 41413915
2025-05-22T11:54:36.263Z: Setting column 3 (living room motion) to false
2025-05-22T11:54:36.263Z: Setting column 1 (living room temperature) to 23.2
2025-05-22T11:54:36.263Z: Setting column 2 (living room humidity) to 66.3
2025-05-22T11:54:36.263Z: Setting column 4 (light_state) to false
2025-05-22T11:54:36.263Z: Setting column 5 (ac_state) to false
2025-05-22T11:54:36.263Z: Preparing row: 2025-05-22 11:54:36,23.2,66.3,false,false,false,41413915
2025-05-22T11:54:36.263Z: Successfully wrote to log file using writeFileSync
2025-05-22T11:54:36.263Z: Successfully logged combined sensor data in one row
2025-05-22T11:54:36.267Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T11:54:36.267Z: Polling interval active: true
2025-05-22T11:56:14.418Z: Polling for sensor data... (poll #15)
2025-05-22T11:56:14.419Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T11:56:14.419Z: Received sensor data: {"temperature":23.3,"humidity":66.7}
2025-05-22T11:56:14.419Z: Formatted events: [{"name":"living room temperature","value":23.3,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":66.7,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T11:56:14.419Z: Successfully updated event: living room temperature = 23.3
2025-05-22T11:56:14.419Z: Successfully updated event: living room humidity = 66.7
2025-05-22T11:56:15.021Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":23.3,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":66.7,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-22T11:56:15.022Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T11:56:15.022Z: Received motion sensor data: {"motionDetected":false}
2025-05-22T11:56:15.022Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T11:56:15.022Z: Successfully updated motion event: living room motion = false
2025-05-22T11:56:15.176Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-22T11:56:15.779Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":true,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-22T11:56:16.278409Z"}}
2025-05-22T11:56:15.780Z: Extracted AC on state: false
2025-05-22T11:56:16.141Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":false},"success":true}
2025-05-22T11:56:16.141Z: Extracted light state: false
2025-05-22T11:56:16.142Z: Creating a combined row with motion=false, temp=23.3, humidity=66.7, light=false, ac_on=false
2025-05-22T11:56:16.142Z: logSensorData called with 5 sensors
2025-05-22T11:56:16.142Z: Column map has 5 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5]]
2025-05-22T11:56:16.142Z: Setting spaceId column 6 to 41413915
2025-05-22T11:56:16.142Z: Setting column 3 (living room motion) to false
2025-05-22T11:56:16.142Z: Setting column 1 (living room temperature) to 23.3
2025-05-22T11:56:16.142Z: Setting column 2 (living room humidity) to 66.7
2025-05-22T11:56:16.142Z: Setting column 4 (light_state) to false
2025-05-22T11:56:16.142Z: Setting column 5 (ac_state) to false
2025-05-22T11:56:16.142Z: Preparing row: 2025-05-22 11:56:16,23.3,66.7,false,false,false,41413915
2025-05-22T11:56:16.142Z: Successfully wrote to log file using writeFileSync
2025-05-22T11:56:16.142Z: Successfully logged combined sensor data in one row
2025-05-22T11:56:16.147Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T11:56:16.147Z: Polling interval active: true
2025-05-22T11:57:54.420Z: Polling for sensor data... (poll #16)
2025-05-22T11:57:54.421Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T11:57:54.421Z: Received sensor data: {"temperature":23.3,"humidity":66.7}
2025-05-22T11:57:54.421Z: Formatted events: [{"name":"living room temperature","value":23.3,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":66.7,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T11:57:54.421Z: Successfully updated event: living room temperature = 23.3
2025-05-22T11:57:54.421Z: Successfully updated event: living room humidity = 66.7
2025-05-22T11:57:55.044Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":23.3,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":66.7,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-22T11:57:55.044Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T11:57:55.044Z: Received motion sensor data: {"motionDetected":false}
2025-05-22T11:57:55.044Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T11:57:55.044Z: Successfully updated motion event: living room motion = false
2025-05-22T11:57:55.191Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-22T11:57:55.726Z: AC state is: {"mode":"cool","on":true,"targetTemperature":23,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-22T11:57:56.244139Z"}}
2025-05-22T11:57:55.727Z: Extracted AC on state: false
2025-05-22T11:57:56.071Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":false},"success":true}
2025-05-22T11:57:56.072Z: Extracted light state: false
2025-05-22T11:57:56.072Z: Creating a combined row with motion=false, temp=23.3, humidity=66.7, light=false, ac_on=false
2025-05-22T11:57:56.073Z: logSensorData called with 5 sensors
2025-05-22T11:57:56.073Z: Column map has 5 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5]]
2025-05-22T11:57:56.073Z: Setting spaceId column 6 to 41413915
2025-05-22T11:57:56.073Z: Setting column 3 (living room motion) to false
2025-05-22T11:57:56.073Z: Setting column 1 (living room temperature) to 23.3
2025-05-22T11:57:56.073Z: Setting column 2 (living room humidity) to 66.7
2025-05-22T11:57:56.073Z: Setting column 4 (light_state) to false
2025-05-22T11:57:56.073Z: Setting column 5 (ac_state) to false
2025-05-22T11:57:56.073Z: Preparing row: 2025-05-22 11:57:56,23.3,66.7,false,false,false,41413915
2025-05-22T11:57:56.073Z: Successfully wrote to log file using writeFileSync
2025-05-22T11:57:56.072Z: Successfully logged combined sensor data in one row
2025-05-22T11:57:56.077Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T11:57:56.077Z: Polling interval active: true
2025-05-22T11:59:34.426Z: Polling for sensor data... (poll #17)
2025-05-22T11:59:34.427Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T11:59:34.427Z: Received sensor data: {"temperature":23.2,"humidity":66.3}
2025-05-22T11:59:34.427Z: Formatted events: [{"name":"living room temperature","value":23.2,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":66.3,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T11:59:34.427Z: Successfully updated event: living room temperature = 23.2
2025-05-22T11:59:34.427Z: Successfully updated event: living room humidity = 66.3
2025-05-22T11:59:35.059Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":23.2,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":66.3,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-22T11:59:35.059Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T11:59:35.059Z: Received motion sensor data: {"motionDetected":false}
2025-05-22T11:59:35.059Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T11:59:35.059Z: Successfully updated motion event: living room motion = false
2025-05-22T11:59:35.205Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-22T11:59:35.779Z: AC state is: {"mode":"cool","on":true,"targetTemperature":23,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-22T11:59:36.295911Z"}}
2025-05-22T11:59:35.780Z: Extracted AC on state: false
2025-05-22T11:59:36.121Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":false},"success":true}
2025-05-22T11:59:36.122Z: Extracted light state: false
2025-05-22T11:59:36.122Z: Creating a combined row with motion=false, temp=23.2, humidity=66.3, light=false, ac_on=false
2025-05-22T11:59:36.122Z: logSensorData called with 5 sensors
2025-05-22T11:59:36.122Z: Column map has 5 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5]]
2025-05-22T11:59:36.122Z: Setting spaceId column 6 to 41413915
2025-05-22T11:59:36.122Z: Setting column 3 (living room motion) to false
2025-05-22T11:59:36.122Z: Setting column 1 (living room temperature) to 23.2
2025-05-22T11:59:36.122Z: Setting column 2 (living room humidity) to 66.3
2025-05-22T11:59:36.122Z: Setting column 4 (light_state) to false
2025-05-22T11:59:36.122Z: Setting column 5 (ac_state) to false
2025-05-22T11:59:36.122Z: Preparing row: 2025-05-22 11:59:36,23.2,66.3,false,false,false,41413915
2025-05-22T11:59:36.122Z: Successfully wrote to log file using writeFileSync
2025-05-22T11:59:36.122Z: Successfully logged combined sensor data in one row
2025-05-22T11:59:36.126Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T11:59:36.126Z: Polling interval active: true
2025-05-22T12:01:14.437Z: Polling for sensor data... (poll #18)
2025-05-22T12:01:14.438Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T12:01:14.438Z: Received sensor data: {"temperature":23,"humidity":65.5}
2025-05-22T12:01:14.438Z: Formatted events: [{"name":"living room temperature","value":23,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":65.5,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T12:01:14.438Z: Successfully updated event: living room temperature = 23
2025-05-22T12:01:14.438Z: Successfully updated event: living room humidity = 65.5
2025-05-22T12:01:15.013Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":23,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":65.5,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-22T12:01:15.013Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T12:01:15.013Z: Received motion sensor data: {"motionDetected":false}
2025-05-22T12:01:15.013Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T12:01:15.013Z: Successfully updated motion event: living room motion = false
2025-05-22T12:01:15.157Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-22T12:01:15.669Z: AC state is: {"mode":"cool","on":true,"targetTemperature":23,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-22T12:01:16.187750Z"}}
2025-05-22T12:01:15.669Z: Extracted AC on state: false
2025-05-22T12:01:15.997Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":false},"success":true}
2025-05-22T12:01:15.998Z: Extracted light state: false
2025-05-22T12:01:15.998Z: Creating a combined row with motion=false, temp=23, humidity=65.5, light=false, ac_on=false
2025-05-22T12:01:15.998Z: logSensorData called with 5 sensors
2025-05-22T12:01:15.998Z: Column map has 5 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5]]
2025-05-22T12:01:15.998Z: Setting spaceId column 6 to 41413915
2025-05-22T12:01:15.998Z: Setting column 3 (living room motion) to false
2025-05-22T12:01:15.998Z: Setting column 1 (living room temperature) to 23
2025-05-22T12:01:15.998Z: Setting column 2 (living room humidity) to 65.5
2025-05-22T12:01:15.998Z: Setting column 4 (light_state) to false
2025-05-22T12:01:15.998Z: Setting column 5 (ac_state) to false
2025-05-22T12:01:15.998Z: Preparing row: 2025-05-22 12:01:15,23,65.5,false,false,false,41413915
2025-05-22T12:01:15.998Z: Successfully wrote to log file using writeFileSync
2025-05-22T12:01:15.998Z: Successfully logged combined sensor data in one row
2025-05-22T12:01:16.003Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T12:01:16.003Z: Polling interval active: true
2025-05-22T12:02:54.441Z: Polling for sensor data... (poll #19)
2025-05-22T12:02:54.442Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T12:02:54.442Z: Received sensor data: {"temperature":22.9,"humidity":65.1}
2025-05-22T12:02:54.442Z: Formatted events: [{"name":"living room temperature","value":22.9,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":65.1,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T12:02:54.442Z: Successfully updated event: living room temperature = 22.9
2025-05-22T12:02:54.442Z: Successfully updated event: living room humidity = 65.1
2025-05-22T12:02:55.075Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":22.9,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":65.1,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-22T12:02:55.075Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T12:02:55.075Z: Received motion sensor data: {"motionDetected":true}
2025-05-22T12:02:55.075Z: Formatted motion sensor events: [{"name":"living room motion","value":true,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T12:02:55.075Z: Successfully updated motion event: living room motion = true
2025-05-22T12:02:55.229Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":true,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-22T12:02:55.848Z: AC state is: {"mode":"cool","on":true,"targetTemperature":26,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-22T12:02:56.337850Z"}}
2025-05-22T12:02:55.849Z: Extracted AC on state: false
2025-05-22T12:02:56.201Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":false},"success":true}
2025-05-22T12:02:56.202Z: Extracted light state: false
2025-05-22T12:02:56.202Z: Creating a combined row with motion=true, temp=22.9, humidity=65.1, light=false, ac_on=false
2025-05-22T12:02:56.202Z: logSensorData called with 5 sensors
2025-05-22T12:02:56.202Z: Column map has 5 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5]]
2025-05-22T12:02:56.202Z: Setting spaceId column 6 to 41413915
2025-05-22T12:02:56.202Z: Setting column 3 (living room motion) to true
2025-05-22T12:02:56.202Z: Setting column 1 (living room temperature) to 22.9
2025-05-22T12:02:56.202Z: Setting column 2 (living room humidity) to 65.1
2025-05-22T12:02:56.202Z: Setting column 4 (light_state) to false
2025-05-22T12:02:56.202Z: Setting column 5 (ac_state) to false
2025-05-22T12:02:56.202Z: Preparing row: 2025-05-22 12:02:56,22.9,65.1,true,false,false,41413915
2025-05-22T12:02:56.202Z: Successfully wrote to log file using writeFileSync
2025-05-22T12:02:56.202Z: Successfully logged combined sensor data in one row
2025-05-22T12:02:56.206Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T12:02:56.206Z: Polling interval active: true
2025-05-22T12:04:34.446Z: Polling for sensor data... (poll #20)
2025-05-22T12:04:34.448Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T12:04:34.448Z: Received sensor data: {"temperature":22.9,"humidity":65.5}
2025-05-22T12:04:34.448Z: Formatted events: [{"name":"living room temperature","value":22.9,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":65.5,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T12:04:34.448Z: Successfully updated event: living room temperature = 22.9
2025-05-22T12:04:34.448Z: Successfully updated event: living room humidity = 65.5
2025-05-22T12:04:34.987Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":22.9,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":65.5,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-22T12:04:34.987Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T12:04:34.987Z: Received motion sensor data: {"motionDetected":false}
2025-05-22T12:04:34.987Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T12:04:34.987Z: Successfully updated motion event: living room motion = false
2025-05-22T12:04:35.145Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-22T12:04:35.730Z: AC state is: {"mode":"cool","on":true,"targetTemperature":26,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-22T12:04:36.258124Z"}}
2025-05-22T12:04:35.731Z: Extracted AC on state: false
2025-05-22T12:04:36.055Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":false},"success":true}
2025-05-22T12:04:36.055Z: Extracted light state: false
2025-05-22T12:04:36.056Z: Creating a combined row with motion=false, temp=22.9, humidity=65.5, light=false, ac_on=false
2025-05-22T12:04:36.056Z: logSensorData called with 5 sensors
2025-05-22T12:04:36.056Z: Column map has 5 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5]]
2025-05-22T12:04:36.056Z: Setting spaceId column 6 to 41413915
2025-05-22T12:04:36.056Z: Setting column 3 (living room motion) to false
2025-05-22T12:04:36.056Z: Setting column 1 (living room temperature) to 22.9
2025-05-22T12:04:36.056Z: Setting column 2 (living room humidity) to 65.5
2025-05-22T12:04:36.056Z: Setting column 4 (light_state) to false
2025-05-22T12:04:36.056Z: Setting column 5 (ac_state) to false
2025-05-22T12:04:36.056Z: Preparing row: 2025-05-22 12:04:36,22.9,65.5,false,false,false,41413915
2025-05-22T12:04:36.056Z: Successfully wrote to log file using writeFileSync
2025-05-22T12:04:36.056Z: Successfully logged combined sensor data in one row
2025-05-22T12:04:36.060Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T12:04:36.060Z: Polling interval active: true
2025-05-22T12:05:30.893Z: Initializing sensor logging service
2025-05-22T12:05:30.894Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-22T12:05:30.894Z: Added light_state column to event names
2025-05-22T12:05:30.895Z: Added ac_state column to event names
2025-05-22T12:05:30.895Z: Using existing log file
2025-05-22T12:05:30.898Z: Logging enabled
2025-05-22T12:05:30.899Z: No polling was active to stop
2025-05-22T12:05:30.900Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-05-22T12:05:30.900Z: Polling interval set with ID: 1385
2025-05-22T12:05:30.900Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T12:05:30.901Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T12:05:30.901Z: Received motion sensor data: {"motionDetected":false}
2025-05-22T12:05:30.901Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T12:05:30.901Z: Successfully updated motion event: living room motion = false
2025-05-22T12:05:31.361Z: Initializing sensor logging service
2025-05-22T12:05:31.361Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-22T12:05:31.362Z: Added light_state column to event names
2025-05-22T12:05:31.362Z: Added ac_state column to event names
2025-05-22T12:05:31.362Z: Using existing log file
2025-05-22T12:05:31.365Z: Closing existing log stream before creating new one
2025-05-22T12:05:31.365Z: Logging enabled
2025-05-22T12:05:31.366Z: Stopping sensor polling interval: 1385
2025-05-22T12:05:31.366Z: Closing logging service
2025-05-22T12:05:31.366Z: Closing sensor logging service
2025-05-22T12:05:31.366Z: Closing log stream
2025-05-22T12:05:31.366Z: Logging stopped at 2025-05-22T12:05:31.366Z
2025-05-22T12:05:31.368Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-05-22T12:05:31.368Z: Polling interval set with ID: 2141
2025-05-22T12:05:31.369Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T12:05:31.369Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T12:05:30.900Z: Received sensor data: {"temperature":22.9,"humidity":65.5}
2025-05-22T12:05:30.900Z: Formatted events: [{"name":"living room temperature","value":22.9,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":65.5,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T12:05:30.900Z: Successfully updated event: living room temperature = 22.9
2025-05-22T12:05:30.900Z: Successfully updated event: living room humidity = 65.5
2025-05-22T12:05:31.660Z: Creating a combined row with motion=false, temp=22.9, humidity=65.5, light=false, ac_on=false
2025-05-22T12:05:31.660Z: logSensorData called with 5 sensors
2025-05-22T12:05:31.660Z: WARNING - Logging is disabled but logSensorData was called
2025-05-22T12:05:31.660Z: Attempting to re-initialize logging with existing events
2025-05-22T12:05:31.661Z: Initializing sensor logging service
2025-05-22T12:05:31.662Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-22T12:05:31.662Z: Using existing log file
2025-05-22T12:05:31.660Z: Column map has 5 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5]]
2025-05-22T12:05:31.660Z: Setting spaceId column 6 to 41413915
2025-05-22T12:05:31.660Z: Setting column 3 (living room motion) to false
2025-05-22T12:05:31.660Z: Setting column 1 (living room temperature) to 22.9
2025-05-22T12:05:31.660Z: Setting column 2 (living room humidity) to 65.5
2025-05-22T12:05:31.660Z: Setting column 4 (light_state) to false
2025-05-22T12:05:31.660Z: Setting column 5 (ac_state) to false
2025-05-22T12:05:31.660Z: Preparing row: 2025-05-22 12:05:31,22.9,65.5,false,false,false,41413915
2025-05-22T12:05:31.660Z: Successfully wrote to log file using writeFileSync
2025-05-22T12:05:31.660Z: Successfully logged combined sensor data in one row
2025-05-22T12:05:31.666Z: Initial combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T12:05:31.369Z: Received motion sensor data: {"motionDetected":false}
2025-05-22T12:05:31.369Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T12:05:31.369Z: Successfully updated motion event: living room motion = false
2025-05-22T12:05:31.672Z: Logging enabled
2025-05-22T12:05:31.660Z: Re-initialization result: {"success":true,"message":"Sensor logging initialized to C:\\Users\\amin\\Desktop\\smart-space\\SmartSchool-Server\\logs\\sensor_data.csv","columns":[["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5]]}
2025-05-22T12:05:31.369Z: Received sensor data: {"temperature":22.9,"humidity":65.5}
2025-05-22T12:05:31.369Z: Formatted events: [{"name":"living room temperature","value":22.9,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":65.5,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T12:05:31.369Z: Successfully updated event: living room temperature = 22.9
2025-05-22T12:05:31.369Z: Successfully updated event: living room humidity = 65.5
2025-05-22T12:05:32.180Z: Creating a combined row with motion=false, temp=22.9, humidity=65.5, light=false, ac_on=false
2025-05-22T12:05:32.180Z: logSensorData called with 5 sensors
2025-05-22T12:05:32.180Z: Column map has 5 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5]]
2025-05-22T12:05:32.180Z: Setting spaceId column 6 to 41413915
2025-05-22T12:05:32.180Z: Setting column 3 (living room motion) to false
2025-05-22T12:05:32.180Z: Setting column 1 (living room temperature) to 22.9
2025-05-22T12:05:32.180Z: Setting column 2 (living room humidity) to 65.5
2025-05-22T12:05:32.180Z: Setting column 4 (light_state) to false
2025-05-22T12:05:32.180Z: Setting column 5 (ac_state) to false
2025-05-22T12:05:32.180Z: Preparing row: 2025-05-22 12:05:32,22.9,65.5,false,false,false,41413915
2025-05-22T12:05:32.180Z: Successfully wrote to log file using writeFileSync
2025-05-22T12:05:32.180Z: Successfully logged combined sensor data in one row
2025-05-22T12:05:32.185Z: Initial combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T12:07:11.373Z: Polling for sensor data... (poll #1)
2025-05-22T12:07:11.374Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T12:07:11.374Z: Received sensor data: {"temperature":22.9,"humidity":67.1}
2025-05-22T12:07:11.374Z: Formatted events: [{"name":"living room temperature","value":22.9,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":67.1,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T12:07:11.374Z: Successfully updated event: living room temperature = 22.9
2025-05-22T12:07:11.374Z: Successfully updated event: living room humidity = 67.1
2025-05-22T12:07:11.911Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":22.9,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":67.1,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-22T12:07:11.912Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T12:07:11.912Z: Received motion sensor data: {"motionDetected":true}
2025-05-22T12:07:11.912Z: Formatted motion sensor events: [{"name":"living room motion","value":true,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T12:07:11.912Z: Successfully updated motion event: living room motion = true
2025-05-22T12:07:12.063Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":true,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-22T12:07:12.591Z: AC state is: {"mode":"cool","on":true,"targetTemperature":26,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-22T12:07:13.124889Z"}}
2025-05-22T12:07:12.591Z: Extracted AC on state: false
2025-05-22T12:07:13.044Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":false},"success":true}
2025-05-22T12:07:13.044Z: Extracted light state: false
2025-05-22T12:07:13.045Z: Creating a combined row with motion=true, temp=22.9, humidity=67.1, light=false, ac_on=false
2025-05-22T12:07:13.045Z: logSensorData called with 5 sensors
2025-05-22T12:07:13.045Z: Column map has 5 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5]]
2025-05-22T12:07:13.045Z: Setting spaceId column 6 to 41413915
2025-05-22T12:07:13.045Z: Setting column 3 (living room motion) to true
2025-05-22T12:07:13.045Z: Setting column 1 (living room temperature) to 22.9
2025-05-22T12:07:13.045Z: Setting column 2 (living room humidity) to 67.1
2025-05-22T12:07:13.045Z: Setting column 4 (light_state) to false
2025-05-22T12:07:13.045Z: Setting column 5 (ac_state) to false
2025-05-22T12:07:13.045Z: Preparing row: 2025-05-22 12:07:13,22.9,67.1,true,false,false,41413915
2025-05-22T12:07:13.045Z: Successfully wrote to log file using writeFileSync
2025-05-22T12:07:13.045Z: Successfully logged combined sensor data in one row
2025-05-22T12:07:13.050Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T12:07:13.051Z: Polling interval active: true
2025-05-22T12:08:51.381Z: Polling for sensor data... (poll #2)
2025-05-22T12:08:51.382Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T12:08:51.382Z: Received sensor data: {"temperature":22.9,"humidity":67.8}
2025-05-22T12:08:51.382Z: Formatted events: [{"name":"living room temperature","value":22.9,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":67.8,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T12:08:51.382Z: Successfully updated event: living room temperature = 22.9
2025-05-22T12:08:51.382Z: Successfully updated event: living room humidity = 67.8
2025-05-22T12:08:51.968Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":22.9,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":67.8,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-22T12:08:51.968Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T12:08:51.968Z: Received motion sensor data: {"motionDetected":false}
2025-05-22T12:08:51.968Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T12:08:51.968Z: Successfully updated motion event: living room motion = false
2025-05-22T12:08:52.116Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-22T12:08:52.716Z: AC state is: {"mode":"cool","on":true,"targetTemperature":26,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-22T12:08:53.255187Z"}}
2025-05-22T12:08:52.716Z: Extracted AC on state: false
2025-05-22T12:08:53.058Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":true},"success":true}
2025-05-22T12:08:53.059Z: Extracted light state: true
2025-05-22T12:08:53.059Z: Creating a combined row with motion=false, temp=22.9, humidity=67.8, light=true, ac_on=false
2025-05-22T12:08:53.060Z: logSensorData called with 5 sensors
2025-05-22T12:08:53.060Z: Column map has 5 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5]]
2025-05-22T12:08:53.060Z: Setting spaceId column 6 to 41413915
2025-05-22T12:08:53.060Z: Setting column 3 (living room motion) to false
2025-05-22T12:08:53.060Z: Setting column 1 (living room temperature) to 22.9
2025-05-22T12:08:53.060Z: Setting column 2 (living room humidity) to 67.8
2025-05-22T12:08:53.060Z: Setting column 4 (light_state) to true
2025-05-22T12:08:53.060Z: Setting column 5 (ac_state) to false
2025-05-22T12:08:53.060Z: Preparing row: 2025-05-22 12:08:53,22.9,67.8,false,true,false,41413915
2025-05-22T12:08:53.060Z: Successfully wrote to log file using writeFileSync
2025-05-22T12:08:53.059Z: Successfully logged combined sensor data in one row
2025-05-22T12:08:53.065Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T12:08:53.065Z: Polling interval active: true
2025-05-22T12:10:31.385Z: Polling for sensor data... (poll #3)
2025-05-22T12:10:31.386Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T12:10:31.386Z: Received sensor data: {"temperature":22.9,"humidity":68.5}
2025-05-22T12:10:31.386Z: Formatted events: [{"name":"living room temperature","value":22.9,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":68.5,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T12:10:31.386Z: Successfully updated event: living room temperature = 22.9
2025-05-22T12:10:31.386Z: Successfully updated event: living room humidity = 68.5
2025-05-22T12:10:32.017Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":22.9,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":68.5,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-22T12:10:32.017Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T12:10:32.017Z: Received motion sensor data: {"motionDetected":true}
2025-05-22T12:10:32.017Z: Formatted motion sensor events: [{"name":"living room motion","value":true,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T12:10:32.017Z: Successfully updated motion event: living room motion = true
2025-05-22T12:10:32.170Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":true,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-22T12:10:32.712Z: AC state is: {"mode":"cool","on":true,"targetTemperature":26,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-22T12:10:33.252189Z"}}
2025-05-22T12:10:32.712Z: Extracted AC on state: false
2025-05-22T12:10:33.149Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":true},"success":true}
2025-05-22T12:10:33.150Z: Extracted light state: true
2025-05-22T12:10:33.150Z: Creating a combined row with motion=true, temp=22.9, humidity=68.5, light=true, ac_on=false
2025-05-22T12:10:33.151Z: logSensorData called with 5 sensors
2025-05-22T12:10:33.151Z: Column map has 5 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5]]
2025-05-22T12:10:33.151Z: Setting spaceId column 6 to 41413915
2025-05-22T12:10:33.151Z: Setting column 3 (living room motion) to true
2025-05-22T12:10:33.151Z: Setting column 1 (living room temperature) to 22.9
2025-05-22T12:10:33.151Z: Setting column 2 (living room humidity) to 68.5
2025-05-22T12:10:33.151Z: Setting column 4 (light_state) to true
2025-05-22T12:10:33.151Z: Setting column 5 (ac_state) to false
2025-05-22T12:10:33.151Z: Preparing row: 2025-05-22 12:10:33,22.9,68.5,true,true,false,41413915
2025-05-22T12:10:33.151Z: Successfully wrote to log file using writeFileSync
2025-05-22T12:10:33.150Z: Successfully logged combined sensor data in one row
2025-05-22T12:10:33.156Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T12:10:33.156Z: Polling interval active: true
2025-05-22T12:12:11.389Z: Polling for sensor data... (poll #4)
2025-05-22T12:12:11.390Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T12:12:11.390Z: Received sensor data: {"temperature":22.9,"humidity":68.9}
2025-05-22T12:12:11.390Z: Formatted events: [{"name":"living room temperature","value":22.9,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":68.9,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T12:12:11.390Z: Successfully updated event: living room temperature = 22.9
2025-05-22T12:12:11.390Z: Successfully updated event: living room humidity = 68.9
2025-05-22T12:12:11.960Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":22.9,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":68.9,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-22T12:12:11.960Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T12:12:11.960Z: Received motion sensor data: {"motionDetected":false}
2025-05-22T12:12:11.960Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T12:12:11.960Z: Successfully updated motion event: living room motion = false
2025-05-22T12:12:12.105Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-22T12:12:12.685Z: AC state is: {"mode":"cool","on":true,"targetTemperature":26,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-22T12:12:13.220852Z"}}
2025-05-22T12:12:12.685Z: Extracted AC on state: false
2025-05-22T12:12:13.013Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":true},"success":true}
2025-05-22T12:12:13.014Z: Extracted light state: true
2025-05-22T12:12:13.014Z: Creating a combined row with motion=false, temp=22.9, humidity=68.9, light=true, ac_on=false
2025-05-22T12:12:13.014Z: logSensorData called with 5 sensors
2025-05-22T12:12:13.014Z: Column map has 5 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5]]
2025-05-22T12:12:13.014Z: Setting spaceId column 6 to 41413915
2025-05-22T12:12:13.014Z: Setting column 3 (living room motion) to false
2025-05-22T12:12:13.014Z: Setting column 1 (living room temperature) to 22.9
2025-05-22T12:12:13.014Z: Setting column 2 (living room humidity) to 68.9
2025-05-22T12:12:13.014Z: Setting column 4 (light_state) to true
2025-05-22T12:12:13.014Z: Setting column 5 (ac_state) to false
2025-05-22T12:12:13.014Z: Preparing row: 2025-05-22 12:12:13,22.9,68.9,false,true,false,41413915
2025-05-22T12:12:13.014Z: Successfully wrote to log file using writeFileSync
2025-05-22T12:12:13.014Z: Successfully logged combined sensor data in one row
2025-05-22T12:12:13.020Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T12:12:13.020Z: Polling interval active: true
2025-05-22T12:13:51.395Z: Polling for sensor data... (poll #5)
2025-05-22T12:13:51.396Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T12:13:51.396Z: Received sensor data: {"temperature":22.9,"humidity":69.4}
2025-05-22T12:13:51.396Z: Formatted events: [{"name":"living room temperature","value":22.9,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":69.4,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T12:13:51.396Z: Successfully updated event: living room temperature = 22.9
2025-05-22T12:13:51.396Z: Successfully updated event: living room humidity = 69.4
2025-05-22T12:13:51.934Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":22.9,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":69.4,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-22T12:13:51.934Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T12:13:51.934Z: Received motion sensor data: {"motionDetected":false}
2025-05-22T12:13:51.934Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T12:13:51.934Z: Successfully updated motion event: living room motion = false
2025-05-22T12:13:52.078Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-22T12:13:52.610Z: AC state is: {"mode":"cool","on":true,"targetTemperature":26,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-22T12:13:53.154527Z"}}
2025-05-22T12:13:52.611Z: Extracted AC on state: false
2025-05-22T12:13:52.944Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":true},"success":true}
2025-05-22T12:13:52.944Z: Extracted light state: true
2025-05-22T12:13:52.945Z: Creating a combined row with motion=false, temp=22.9, humidity=69.4, light=true, ac_on=false
2025-05-22T12:13:52.945Z: logSensorData called with 5 sensors
2025-05-22T12:13:52.945Z: Column map has 5 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5]]
2025-05-22T12:13:52.945Z: Setting spaceId column 6 to 41413915
2025-05-22T12:13:52.945Z: Setting column 3 (living room motion) to false
2025-05-22T12:13:52.945Z: Setting column 1 (living room temperature) to 22.9
2025-05-22T12:13:52.945Z: Setting column 2 (living room humidity) to 69.4
2025-05-22T12:13:52.945Z: Setting column 4 (light_state) to true
2025-05-22T12:13:52.945Z: Setting column 5 (ac_state) to false
2025-05-22T12:13:52.945Z: Preparing row: 2025-05-22 12:13:52,22.9,69.4,false,true,false,41413915
2025-05-22T12:13:52.945Z: Successfully wrote to log file using writeFileSync
2025-05-22T12:13:52.945Z: Successfully logged combined sensor data in one row
2025-05-22T12:13:52.950Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T12:13:52.950Z: Polling interval active: true
2025-05-22T12:15:31.406Z: Polling for sensor data... (poll #6)
2025-05-22T12:15:31.407Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T12:15:31.407Z: Received sensor data: {"temperature":22.9,"humidity":70.1}
2025-05-22T12:15:31.407Z: Formatted events: [{"name":"living room temperature","value":22.9,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":70.1,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T12:15:31.407Z: Successfully updated event: living room temperature = 22.9
2025-05-22T12:15:31.407Z: Successfully updated event: living room humidity = 70.1
2025-05-22T12:15:31.925Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":22.9,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":70.1,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-22T12:15:31.926Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T12:15:31.926Z: Received motion sensor data: {"motionDetected":true}
2025-05-22T12:15:31.926Z: Formatted motion sensor events: [{"name":"living room motion","value":true,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T12:15:31.926Z: Successfully updated motion event: living room motion = true
2025-05-22T12:15:32.073Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":true,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-22T12:15:32.603Z: AC state is: {"mode":"cool","on":true,"targetTemperature":26,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-22T12:15:33.139860Z"}}
2025-05-22T12:15:32.604Z: Extracted AC on state: false
2025-05-22T12:15:33.063Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":true},"success":true}
2025-05-22T12:15:33.064Z: Extracted light state: true
2025-05-22T12:15:33.064Z: Creating a combined row with motion=true, temp=22.9, humidity=70.1, light=true, ac_on=false
2025-05-22T12:15:33.065Z: logSensorData called with 5 sensors
2025-05-22T12:15:33.065Z: Column map has 5 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5]]
2025-05-22T12:15:33.065Z: Setting spaceId column 6 to 41413915
2025-05-22T12:15:33.065Z: Setting column 3 (living room motion) to true
2025-05-22T12:15:33.065Z: Setting column 1 (living room temperature) to 22.9
2025-05-22T12:15:33.065Z: Setting column 2 (living room humidity) to 70.1
2025-05-22T12:15:33.065Z: Setting column 4 (light_state) to true
2025-05-22T12:15:33.065Z: Setting column 5 (ac_state) to false
2025-05-22T12:15:33.065Z: Preparing row: 2025-05-22 12:15:33,22.9,70.1,true,true,false,41413915
2025-05-22T12:15:33.065Z: Successfully wrote to log file using writeFileSync
2025-05-22T12:15:33.064Z: Successfully logged combined sensor data in one row
2025-05-22T12:15:33.069Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T12:15:33.069Z: Polling interval active: true
2025-05-22T12:17:11.417Z: Polling for sensor data... (poll #7)
2025-05-22T12:17:11.419Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T12:17:11.419Z: Received sensor data: {"temperature":22.9,"humidity":70.2}
2025-05-22T12:17:11.419Z: Formatted events: [{"name":"living room temperature","value":22.9,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":70.2,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T12:17:11.419Z: Successfully updated event: living room temperature = 22.9
2025-05-22T12:17:11.419Z: Successfully updated event: living room humidity = 70.2
2025-05-22T12:17:12.095Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":22.9,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":70.2,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-22T12:17:12.096Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T12:17:12.096Z: Received motion sensor data: {"motionDetected":true}
2025-05-22T12:17:12.096Z: Formatted motion sensor events: [{"name":"living room motion","value":true,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T12:17:12.096Z: Successfully updated motion event: living room motion = true
2025-05-22T12:17:12.286Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":true,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-22T12:17:12.831Z: AC state is: {"mode":"cool","on":true,"targetTemperature":26,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-22T12:17:13.381312Z"}}
2025-05-22T12:17:12.831Z: Extracted AC on state: false
2025-05-22T12:17:13.278Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":true},"success":true}
2025-05-22T12:17:13.279Z: Extracted light state: true
2025-05-22T12:17:13.279Z: Creating a combined row with motion=true, temp=22.9, humidity=70.2, light=true, ac_on=false
2025-05-22T12:17:13.280Z: logSensorData called with 5 sensors
2025-05-22T12:17:13.280Z: Column map has 5 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5]]
2025-05-22T12:17:13.280Z: Setting spaceId column 6 to 41413915
2025-05-22T12:17:13.280Z: Setting column 3 (living room motion) to true
2025-05-22T12:17:13.280Z: Setting column 1 (living room temperature) to 22.9
2025-05-22T12:17:13.280Z: Setting column 2 (living room humidity) to 70.2
2025-05-22T12:17:13.280Z: Setting column 4 (light_state) to true
2025-05-22T12:17:13.280Z: Setting column 5 (ac_state) to false
2025-05-22T12:17:13.280Z: Preparing row: 2025-05-22 12:17:13,22.9,70.2,true,true,false,41413915
2025-05-22T12:17:13.280Z: Successfully wrote to log file using writeFileSync
2025-05-22T12:17:13.279Z: Successfully logged combined sensor data in one row
2025-05-22T12:17:13.284Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T12:17:13.285Z: Polling interval active: true
2025-05-22T12:18:51.424Z: Polling for sensor data... (poll #8)
2025-05-22T12:18:51.425Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T12:18:51.425Z: Received sensor data: {"temperature":22.9,"humidity":70.3}
2025-05-22T12:18:51.425Z: Formatted events: [{"name":"living room temperature","value":22.9,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":70.3,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T12:18:51.425Z: Successfully updated event: living room temperature = 22.9
2025-05-22T12:18:51.425Z: Successfully updated event: living room humidity = 70.3
2025-05-22T12:18:52.002Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":22.9,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":70.3,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-22T12:18:52.002Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T12:18:52.002Z: Received motion sensor data: {"motionDetected":false}
2025-05-22T12:18:52.002Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T12:18:52.002Z: Successfully updated motion event: living room motion = false
2025-05-22T12:18:52.215Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-22T12:18:52.741Z: AC state is: {"mode":"cool","on":true,"targetTemperature":26,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-22T12:18:53.296872Z"}}
2025-05-22T12:18:52.742Z: Extracted AC on state: false
2025-05-22T12:18:53.070Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":true},"success":true}
2025-05-22T12:18:53.071Z: Extracted light state: true
2025-05-22T12:18:53.071Z: Creating a combined row with motion=false, temp=22.9, humidity=70.3, light=true, ac_on=false
2025-05-22T12:18:53.072Z: logSensorData called with 5 sensors
2025-05-22T12:18:53.072Z: Column map has 5 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5]]
2025-05-22T12:18:53.072Z: Setting spaceId column 6 to 41413915
2025-05-22T12:18:53.072Z: Setting column 3 (living room motion) to false
2025-05-22T12:18:53.072Z: Setting column 1 (living room temperature) to 22.9
2025-05-22T12:18:53.072Z: Setting column 2 (living room humidity) to 70.3
2025-05-22T12:18:53.072Z: Setting column 4 (light_state) to true
2025-05-22T12:18:53.072Z: Setting column 5 (ac_state) to false
2025-05-22T12:18:53.072Z: Preparing row: 2025-05-22 12:18:53,22.9,70.3,false,true,false,41413915
2025-05-22T12:18:53.072Z: Successfully wrote to log file using writeFileSync
2025-05-22T12:18:53.071Z: Successfully logged combined sensor data in one row
2025-05-22T12:18:53.078Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T12:18:53.078Z: Polling interval active: true
2025-05-22T12:20:31.426Z: Polling for sensor data... (poll #9)
2025-05-22T12:20:31.427Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T12:20:31.427Z: Received sensor data: {"temperature":22.9,"humidity":70.2}
2025-05-22T12:20:31.427Z: Formatted events: [{"name":"living room temperature","value":22.9,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":70.2,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T12:20:31.427Z: Successfully updated event: living room temperature = 22.9
2025-05-22T12:20:31.427Z: Successfully updated event: living room humidity = 70.2
2025-05-22T12:20:31.992Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":22.9,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":70.2,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-22T12:20:31.992Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T12:20:31.992Z: Received motion sensor data: {"motionDetected":true}
2025-05-22T12:20:31.992Z: Formatted motion sensor events: [{"name":"living room motion","value":true,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T12:20:31.992Z: Successfully updated motion event: living room motion = true
2025-05-22T12:20:32.209Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":true,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-22T12:20:32.781Z: AC state is: {"mode":"cool","on":true,"targetTemperature":26,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-22T12:20:33.335288Z"}}
2025-05-22T12:20:32.782Z: Extracted AC on state: false
2025-05-22T12:20:33.206Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":true},"success":true}
2025-05-22T12:20:33.206Z: Extracted light state: true
2025-05-22T12:20:33.207Z: Creating a combined row with motion=true, temp=22.9, humidity=70.2, light=true, ac_on=false
2025-05-22T12:20:33.207Z: logSensorData called with 5 sensors
2025-05-22T12:20:33.207Z: Column map has 5 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5]]
2025-05-22T12:20:33.207Z: Setting spaceId column 6 to 41413915
2025-05-22T12:20:33.207Z: Setting column 3 (living room motion) to true
2025-05-22T12:20:33.207Z: Setting column 1 (living room temperature) to 22.9
2025-05-22T12:20:33.207Z: Setting column 2 (living room humidity) to 70.2
2025-05-22T12:20:33.207Z: Setting column 4 (light_state) to true
2025-05-22T12:20:33.207Z: Setting column 5 (ac_state) to false
2025-05-22T12:20:33.207Z: Preparing row: 2025-05-22 12:20:33,22.9,70.2,true,true,false,41413915
2025-05-22T12:20:33.207Z: Successfully wrote to log file using writeFileSync
2025-05-22T12:20:33.207Z: Successfully logged combined sensor data in one row
2025-05-22T12:20:33.212Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T12:20:33.212Z: Polling interval active: true
2025-05-22T12:22:11.440Z: Polling for sensor data... (poll #10)
2025-05-22T12:22:11.441Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T12:22:11.441Z: Received sensor data: {"temperature":23,"humidity":70.2}
2025-05-22T12:22:11.441Z: Formatted events: [{"name":"living room temperature","value":23,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":70.2,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T12:22:11.441Z: Successfully updated event: living room temperature = 23
2025-05-22T12:22:11.441Z: Successfully updated event: living room humidity = 70.2
2025-05-22T12:22:12.039Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":23,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":70.2,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-22T12:22:12.040Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T12:22:12.040Z: Received motion sensor data: {"motionDetected":false}
2025-05-22T12:22:12.040Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T12:22:12.040Z: Successfully updated motion event: living room motion = false
2025-05-22T12:22:12.187Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-22T12:22:12.708Z: AC state is: {"mode":"cool","on":true,"targetTemperature":26,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-22T12:22:13.265741Z"}}
2025-05-22T12:22:12.709Z: Extracted AC on state: false
2025-05-22T12:22:13.040Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":true},"success":true}
2025-05-22T12:22:13.041Z: Extracted light state: true
2025-05-22T12:22:13.041Z: Creating a combined row with motion=false, temp=23, humidity=70.2, light=true, ac_on=false
2025-05-22T12:22:13.041Z: logSensorData called with 5 sensors
2025-05-22T12:22:13.041Z: Column map has 5 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5]]
2025-05-22T12:22:13.041Z: Setting spaceId column 6 to 41413915
2025-05-22T12:22:13.041Z: Setting column 3 (living room motion) to false
2025-05-22T12:22:13.041Z: Setting column 1 (living room temperature) to 23
2025-05-22T12:22:13.041Z: Setting column 2 (living room humidity) to 70.2
2025-05-22T12:22:13.041Z: Setting column 4 (light_state) to true
2025-05-22T12:22:13.041Z: Setting column 5 (ac_state) to false
2025-05-22T12:22:13.041Z: Preparing row: 2025-05-22 12:22:13,23,70.2,false,true,false,41413915
2025-05-22T12:22:13.041Z: Successfully wrote to log file using writeFileSync
2025-05-22T12:22:13.041Z: Successfully logged combined sensor data in one row
2025-05-22T12:22:13.046Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T12:22:13.046Z: Polling interval active: true
2025-05-22T12:26:33.338Z: Initializing sensor logging service
2025-05-22T12:26:33.338Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-22T12:26:33.339Z: Added light_state column to event names
2025-05-22T12:26:33.339Z: Added ac_state column to event names
2025-05-22T12:26:33.340Z: Added ac_state column to event names
2025-05-22T12:26:33.341Z: Created new log file with header: timestamp,living room temperature,living room humidity,living room motion,light_state,ac_state,desired_ac_temp,spaceId
2025-05-22T12:26:33.341Z: Logging enabled
2025-05-22T12:26:33.342Z: No polling was active to stop
2025-05-22T12:26:33.343Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-05-22T12:26:33.343Z: Polling interval set with ID: 1283
2025-05-22T12:26:33.344Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T12:26:33.344Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T12:26:33.344Z: Received motion sensor data: {"motionDetected":false}
2025-05-22T12:26:33.344Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T12:26:33.344Z: Successfully updated motion event: living room motion = false
2025-05-22T12:26:33.749Z: Initializing sensor logging service
2025-05-22T12:26:33.749Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-22T12:26:33.750Z: Added light_state column to event names
2025-05-22T12:26:33.751Z: Added ac_state column to event names
2025-05-22T12:26:33.751Z: Added ac_state column to event names
2025-05-22T12:26:33.751Z: Using existing log file
2025-05-22T12:26:33.753Z: Closing existing log stream before creating new one
2025-05-22T12:26:33.753Z: Logging enabled
2025-05-22T12:26:33.754Z: Stopping sensor polling interval: 1283
2025-05-22T12:26:33.754Z: Closing logging service
2025-05-22T12:26:33.755Z: Closing sensor logging service
2025-05-22T12:26:33.755Z: Closing log stream
2025-05-22T12:26:33.755Z: Logging stopped at 2025-05-22T12:26:33.755Z
2025-05-22T12:26:33.756Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-05-22T12:26:33.756Z: Polling interval set with ID: 1540
2025-05-22T12:26:33.757Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T12:26:33.757Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T12:26:33.344Z: Received sensor data: {"temperature":23.2,"humidity":70.7}
2025-05-22T12:26:33.344Z: Formatted events: [{"name":"living room temperature","value":23.2,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":70.7,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T12:26:33.344Z: Successfully updated event: living room temperature = 23.2
2025-05-22T12:26:33.344Z: Successfully updated event: living room humidity = 70.7
2025-05-22T12:26:34.040Z: Creating a combined row with motion=false, temp=23.2, humidity=70.7, light=true, ac_on=false
2025-05-22T12:26:34.040Z: logSensorData called with 5 sensors
2025-05-22T12:26:34.040Z: WARNING - Logging is disabled but logSensorData was called
2025-05-22T12:26:34.040Z: Attempting to re-initialize logging with existing events
2025-05-22T12:26:34.041Z: Initializing sensor logging service
2025-05-22T12:26:34.042Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-22T12:26:34.042Z: Using existing log file
2025-05-22T12:26:34.040Z: Column map has 6 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["desired_ac_temp",6]]
2025-05-22T12:26:34.040Z: Setting spaceId column 7 to 41413915
2025-05-22T12:26:34.040Z: Setting column 3 (living room motion) to false
2025-05-22T12:26:34.040Z: Setting column 1 (living room temperature) to 23.2
2025-05-22T12:26:34.040Z: Setting column 2 (living room humidity) to 70.7
2025-05-22T12:26:34.040Z: Setting column 4 (light_state) to true
2025-05-22T12:26:34.040Z: Setting column 5 (ac_state) to false
2025-05-22T12:26:34.040Z: Preparing row: 2025-05-22 12:26:34,23.2,70.7,false,true,false,,41413915
2025-05-22T12:26:34.040Z: Successfully wrote to log file using writeFileSync
2025-05-22T12:26:34.040Z: Successfully logged combined sensor data in one row
2025-05-22T12:26:34.045Z: Initial combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T12:26:34.046Z: Logging enabled
2025-05-22T12:26:34.040Z: Re-initialization result: {"success":true,"message":"Sensor logging initialized to C:\\Users\\amin\\Desktop\\smart-space\\SmartSchool-Server\\logs\\sensor_data.csv","columns":[["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["desired_ac_temp",6]]}
2025-05-22T12:26:33.757Z: Received motion sensor data: {"motionDetected":false}
2025-05-22T12:26:33.757Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T12:26:33.757Z: Successfully updated motion event: living room motion = false
2025-05-22T12:26:33.757Z: Received sensor data: {"temperature":23.2,"humidity":70.7}
2025-05-22T12:26:33.757Z: Formatted events: [{"name":"living room temperature","value":23.2,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":70.7,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T12:26:33.757Z: Successfully updated event: living room temperature = 23.2
2025-05-22T12:26:33.757Z: Successfully updated event: living room humidity = 70.7
2025-05-22T12:26:34.534Z: Creating a combined row with motion=false, temp=23.2, humidity=70.7, light=true, ac_on=false
2025-05-22T12:26:34.534Z: logSensorData called with 5 sensors
2025-05-22T12:26:34.534Z: Column map has 6 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["desired_ac_temp",6]]
2025-05-22T12:26:34.534Z: Setting spaceId column 7 to 41413915
2025-05-22T12:26:34.534Z: Setting column 3 (living room motion) to false
2025-05-22T12:26:34.534Z: Setting column 1 (living room temperature) to 23.2
2025-05-22T12:26:34.534Z: Setting column 2 (living room humidity) to 70.7
2025-05-22T12:26:34.534Z: Setting column 4 (light_state) to true
2025-05-22T12:26:34.534Z: Setting column 5 (ac_state) to false
2025-05-22T12:26:34.534Z: Preparing row: 2025-05-22 12:26:34,23.2,70.7,false,true,false,,41413915
2025-05-22T12:26:34.534Z: Successfully wrote to log file using writeFileSync
2025-05-22T12:26:34.534Z: Successfully logged combined sensor data in one row
2025-05-22T12:26:34.537Z: Initial combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T12:40:47.944Z: Initializing sensor logging service
2025-05-22T12:40:47.945Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-22T12:40:47.946Z: Added light_state column to event names
2025-05-22T12:40:47.946Z: Added ac_state column to event names
2025-05-22T12:40:47.946Z: Added ac_state column to event names
2025-05-22T12:40:47.947Z: Using existing log file
2025-05-22T12:40:47.949Z: Logging enabled
2025-05-22T12:40:47.949Z: No polling was active to stop
2025-05-22T12:40:47.950Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-05-22T12:40:47.950Z: Polling interval set with ID: 1340
2025-05-22T12:40:47.951Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T12:40:47.952Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T12:40:48.294Z: Initializing sensor logging service
2025-05-22T12:40:48.294Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-22T12:40:48.295Z: Added light_state column to event names
2025-05-22T12:40:48.295Z: Added ac_state column to event names
2025-05-22T12:40:48.295Z: Added ac_state column to event names
2025-05-22T12:40:48.296Z: Using existing log file
2025-05-22T12:40:48.297Z: Closing existing log stream before creating new one
2025-05-22T12:40:48.297Z: Logging enabled
2025-05-22T12:40:48.298Z: Stopping sensor polling interval: 1340
2025-05-22T12:40:48.298Z: Closing logging service
2025-05-22T12:40:48.298Z: Closing sensor logging service
2025-05-22T12:40:48.298Z: Closing log stream
2025-05-22T12:40:48.298Z: Logging stopped at 2025-05-22T12:40:48.298Z
2025-05-22T12:40:48.300Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-05-22T12:40:48.300Z: Polling interval set with ID: 1547
2025-05-22T12:40:48.301Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T12:40:48.302Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T12:40:47.952Z: Received motion sensor data: {"motionDetected":true}
2025-05-22T12:40:47.952Z: Formatted motion sensor events: [{"name":"living room motion","value":true,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T12:40:47.952Z: Successfully updated motion event: living room motion = true
2025-05-22T12:40:47.951Z: Received sensor data: {"temperature":23.3,"humidity":69.4}
2025-05-22T12:40:47.951Z: Formatted events: [{"name":"living room temperature","value":23.3,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":69.4,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T12:40:47.951Z: Successfully updated event: living room temperature = 23.3
2025-05-22T12:40:47.951Z: Successfully updated event: living room humidity = 69.4
2025-05-22T12:40:48.302Z: Received motion sensor data: {"motionDetected":true}
2025-05-22T12:40:48.302Z: Formatted motion sensor events: [{"name":"living room motion","value":true,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T12:40:48.302Z: Successfully updated motion event: living room motion = true
2025-05-22T12:40:48.749Z: Creating a combined row with motion=true, temp=23.3, humidity=69.4, light=false, ac_on=false
2025-05-22T12:40:48.751Z: logSensorData called with 5 sensors
2025-05-22T12:40:48.751Z: WARNING - Logging is disabled but logSensorData was called
2025-05-22T12:40:48.751Z: Attempting to re-initialize logging with existing events
2025-05-22T12:40:48.753Z: Initializing sensor logging service
2025-05-22T12:40:48.753Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-22T12:40:48.755Z: Using existing log file
2025-05-22T12:40:48.751Z: Column map has 6 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["desired_ac_temp",6]]
2025-05-22T12:40:48.751Z: Setting spaceId column 7 to 41413915
2025-05-22T12:40:48.751Z: Setting column 3 (living room motion) to true
2025-05-22T12:40:48.751Z: Setting column 1 (living room temperature) to 23.3
2025-05-22T12:40:48.751Z: Setting column 2 (living room humidity) to 69.4
2025-05-22T12:40:48.751Z: Setting column 4 (light_state) to false
2025-05-22T12:40:48.751Z: Setting column 5 (ac_state) to false
2025-05-22T12:40:48.751Z: Preparing row: 2025-05-22 12:40:48,23.3,69.4,true,false,false,,41413915
2025-05-22T12:40:48.751Z: Successfully wrote to log file using writeFileSync
2025-05-22T12:40:48.749Z: Successfully logged combined sensor data in one row
2025-05-22T12:40:48.760Z: Initial combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T12:40:48.761Z: Logging enabled
2025-05-22T12:40:48.751Z: Re-initialization result: {"success":true,"message":"Sensor logging initialized to C:\\Users\\amin\\Desktop\\smart-space\\SmartSchool-Server\\logs\\sensor_data.csv","columns":[["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["desired_ac_temp",6]]}
2025-05-22T12:40:48.301Z: Received sensor data: {"temperature":23.3,"humidity":69.4}
2025-05-22T12:40:48.301Z: Formatted events: [{"name":"living room temperature","value":23.3,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":69.4,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T12:40:48.301Z: Successfully updated event: living room temperature = 23.3
2025-05-22T12:40:48.301Z: Successfully updated event: living room humidity = 69.4
2025-05-22T12:40:49.116Z: Creating a combined row with motion=true, temp=23.3, humidity=69.4, light=false, ac_on=false
2025-05-22T12:40:49.116Z: logSensorData called with 5 sensors
2025-05-22T12:40:49.116Z: Column map has 6 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["desired_ac_temp",6]]
2025-05-22T12:40:49.116Z: Setting spaceId column 7 to 41413915
2025-05-22T12:40:49.116Z: Setting column 3 (living room motion) to true
2025-05-22T12:40:49.116Z: Setting column 1 (living room temperature) to 23.3
2025-05-22T12:40:49.116Z: Setting column 2 (living room humidity) to 69.4
2025-05-22T12:40:49.116Z: Setting column 4 (light_state) to false
2025-05-22T12:40:49.116Z: Setting column 5 (ac_state) to false
2025-05-22T12:40:49.116Z: Preparing row: 2025-05-22 12:40:49,23.3,69.4,true,false,false,,41413915
2025-05-22T12:40:49.116Z: Successfully wrote to log file using writeFileSync
2025-05-22T12:40:49.116Z: Successfully logged combined sensor data in one row
2025-05-22T12:40:49.118Z: Initial combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T12:42:28.302Z: Polling for sensor data... (poll #1)
2025-05-22T12:42:28.303Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T12:42:28.303Z: Received sensor data: {"temperature":23.4,"humidity":69.4}
2025-05-22T12:42:28.303Z: Formatted events: [{"name":"living room temperature","value":23.4,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":69.4,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T12:42:28.303Z: Successfully updated event: living room temperature = 23.4
2025-05-22T12:42:28.303Z: Successfully updated event: living room humidity = 69.4
2025-05-22T12:42:28.926Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":23.4,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":69.4,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-22T12:42:28.926Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T12:42:28.926Z: Received motion sensor data: {"motionDetected":true}
2025-05-22T12:42:28.926Z: Formatted motion sensor events: [{"name":"living room motion","value":true,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T12:42:28.926Z: Successfully updated motion event: living room motion = true
2025-05-22T12:42:29.070Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":true,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-22T12:42:29.620Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":false,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-22T12:42:30.206714Z"}}
2025-05-22T12:42:29.620Z: Extracted AC on state: false
2025-05-22T12:42:29.960Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":false},"success":true}
2025-05-22T12:42:29.962Z: Extracted light state: false
2025-05-22T12:42:29.963Z: Creating a combined row with motion=true, temp=23.4, humidity=69.4, light=false, ac_on=false
2025-05-22T12:42:29.964Z: logSensorData called with 5 sensors
2025-05-22T12:42:29.964Z: Column map has 6 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["desired_ac_temp",6]]
2025-05-22T12:42:29.964Z: Setting spaceId column 7 to 41413915
2025-05-22T12:42:29.964Z: Setting column 3 (living room motion) to true
2025-05-22T12:42:29.964Z: Setting column 1 (living room temperature) to 23.4
2025-05-22T12:42:29.964Z: Setting column 2 (living room humidity) to 69.4
2025-05-22T12:42:29.964Z: Setting column 4 (light_state) to false
2025-05-22T12:42:29.964Z: Setting column 5 (ac_state) to false
2025-05-22T12:42:29.964Z: Preparing row: 2025-05-22 12:42:29,23.4,69.4,true,false,false,,41413915
2025-05-22T12:42:29.964Z: Successfully wrote to log file using writeFileSync
2025-05-22T12:42:29.963Z: Successfully logged combined sensor data in one row
2025-05-22T12:42:29.968Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T12:42:29.968Z: Polling interval active: true
2025-05-22T12:44:08.314Z: Polling for sensor data... (poll #2)
2025-05-22T12:44:08.315Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T12:44:08.315Z: Received sensor data: {"temperature":23.4,"humidity":69.4}
2025-05-22T12:44:08.315Z: Formatted events: [{"name":"living room temperature","value":23.4,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":69.4,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T12:44:08.315Z: Successfully updated event: living room temperature = 23.4
2025-05-22T12:44:08.315Z: Successfully updated event: living room humidity = 69.4
2025-05-22T12:44:08.966Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":23.4,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":69.4,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-22T12:44:08.966Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T12:44:08.966Z: Received motion sensor data: {"motionDetected":false}
2025-05-22T12:44:08.966Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T12:44:08.966Z: Successfully updated motion event: living room motion = false
2025-05-22T12:44:09.108Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-22T12:44:09.648Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":false,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-22T12:44:10.241778Z"}}
2025-05-22T12:44:09.648Z: Extracted AC on state: false
2025-05-22T12:44:09.986Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":false},"success":true}
2025-05-22T12:44:09.987Z: Extracted light state: false
2025-05-22T12:44:09.987Z: Creating a combined row with motion=false, temp=23.4, humidity=69.4, light=false, ac_on=false
2025-05-22T12:44:09.988Z: logSensorData called with 5 sensors
2025-05-22T12:44:09.988Z: Column map has 6 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["desired_ac_temp",6]]
2025-05-22T12:44:09.988Z: Setting spaceId column 7 to 41413915
2025-05-22T12:44:09.988Z: Setting column 3 (living room motion) to false
2025-05-22T12:44:09.988Z: Setting column 1 (living room temperature) to 23.4
2025-05-22T12:44:09.988Z: Setting column 2 (living room humidity) to 69.4
2025-05-22T12:44:09.988Z: Setting column 4 (light_state) to false
2025-05-22T12:44:09.988Z: Setting column 5 (ac_state) to false
2025-05-22T12:44:09.988Z: Preparing row: 2025-05-22 12:44:09,23.4,69.4,false,false,false,,41413915
2025-05-22T12:44:09.988Z: Successfully wrote to log file using writeFileSync
2025-05-22T12:44:09.987Z: Successfully logged combined sensor data in one row
2025-05-22T12:44:09.990Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T12:44:09.990Z: Polling interval active: true
2025-05-22T12:45:48.315Z: Polling for sensor data... (poll #3)
2025-05-22T12:45:48.316Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T12:45:48.316Z: Received sensor data: {"temperature":23.4,"humidity":69.5}
2025-05-22T12:45:48.316Z: Formatted events: [{"name":"living room temperature","value":23.4,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":69.5,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T12:45:48.316Z: Successfully updated event: living room temperature = 23.4
2025-05-22T12:45:48.316Z: Successfully updated event: living room humidity = 69.5
2025-05-22T12:45:48.989Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":23.4,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":69.5,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-22T12:45:48.989Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T12:45:48.989Z: Received motion sensor data: {"motionDetected":false}
2025-05-22T12:45:48.989Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T12:45:48.989Z: Successfully updated motion event: living room motion = false
2025-05-22T12:45:49.133Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-22T12:45:49.751Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":false,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-22T12:45:50.349028Z"}}
2025-05-22T12:45:49.751Z: Extracted AC on state: false
2025-05-22T12:45:50.078Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":false},"success":true}
2025-05-22T12:45:50.079Z: Extracted light state: false
2025-05-22T12:45:50.079Z: Creating a combined row with motion=false, temp=23.4, humidity=69.5, light=false, ac_on=false
2025-05-22T12:45:50.079Z: logSensorData called with 5 sensors
2025-05-22T12:45:50.079Z: Column map has 6 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["desired_ac_temp",6]]
2025-05-22T12:45:50.079Z: Setting spaceId column 7 to 41413915
2025-05-22T12:45:50.079Z: Setting column 3 (living room motion) to false
2025-05-22T12:45:50.079Z: Setting column 1 (living room temperature) to 23.4
2025-05-22T12:45:50.079Z: Setting column 2 (living room humidity) to 69.5
2025-05-22T12:45:50.079Z: Setting column 4 (light_state) to false
2025-05-22T12:45:50.079Z: Setting column 5 (ac_state) to false
2025-05-22T12:45:50.079Z: Preparing row: 2025-05-22 12:45:50,23.4,69.5,false,false,false,,41413915
2025-05-22T12:45:50.079Z: Successfully wrote to log file using writeFileSync
2025-05-22T12:45:50.079Z: Successfully logged combined sensor data in one row
2025-05-22T12:45:50.082Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T12:45:50.083Z: Polling interval active: true
2025-05-22T13:04:21.820Z: Initializing sensor logging service
2025-05-22T13:04:21.821Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-22T13:04:21.823Z: Added light_state column to event names
2025-05-22T13:04:21.826Z: Added ac_state column to event names
2025-05-22T13:04:21.827Z: Added ac_state column to event names
2025-05-22T13:04:21.827Z: Using existing log file
2025-05-22T13:04:21.829Z: Initializing sensor logging service
2025-05-22T13:04:21.829Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-22T13:04:21.829Z: Added light_state column to event names
2025-05-22T13:04:21.830Z: Added ac_state column to event names
2025-05-22T13:04:21.830Z: Added ac_state column to event names
2025-05-22T13:04:21.830Z: Using existing log file
2025-05-22T13:04:21.832Z: Logging enabled
2025-05-22T13:04:21.833Z: No polling was active to stop
2025-05-22T13:04:21.833Z: Closing existing log stream before creating new one
2025-05-22T13:04:21.833Z: Logging enabled
2025-05-22T13:04:21.834Z: No polling was active to stop
2025-05-22T13:04:21.834Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-05-22T13:04:21.834Z: Polling interval set with ID: 1526
2025-05-22T13:04:21.835Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T13:04:21.835Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T13:04:21.838Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-05-22T13:04:21.838Z: Clearing existing polling interval
2025-05-22T13:04:21.838Z: Polling interval set with ID: 1540
2025-05-22T13:04:21.839Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T13:04:21.839Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T13:04:21.835Z: Received motion sensor data: {"motionDetected":true}
2025-05-22T13:04:21.835Z: Formatted motion sensor events: [{"name":"living room motion","value":true,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T13:04:21.835Z: Successfully updated motion event: living room motion = true
2025-05-22T13:04:21.839Z: Received motion sensor data: {"motionDetected":true}
2025-05-22T13:04:21.839Z: Formatted motion sensor events: [{"name":"living room motion","value":true,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T13:04:21.839Z: Successfully updated motion event: living room motion = true
2025-05-22T13:04:21.835Z: Received sensor data: {"temperature":23.3,"humidity":68.6}
2025-05-22T13:04:21.835Z: Formatted events: [{"name":"living room temperature","value":23.3,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":68.6,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T13:04:21.835Z: Successfully updated event: living room temperature = 23.3
2025-05-22T13:04:21.835Z: Successfully updated event: living room humidity = 68.6
2025-05-22T13:04:22.647Z: Creating a combined row with motion=true, temp=23.3, humidity=68.6, light=false, ac_on=false
2025-05-22T13:04:22.648Z: logSensorData called with 5 sensors
2025-05-22T13:04:22.648Z: Column map has 6 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["desired_ac_temp",6]]
2025-05-22T13:04:22.648Z: Setting spaceId column 7 to 41413915
2025-05-22T13:04:22.648Z: Setting column 3 (living room motion) to true
2025-05-22T13:04:22.648Z: Setting column 1 (living room temperature) to 23.3
2025-05-22T13:04:22.648Z: Setting column 2 (living room humidity) to 68.6
2025-05-22T13:04:22.648Z: Setting column 4 (light_state) to false
2025-05-22T13:04:22.648Z: Setting column 5 (ac_state) to false
2025-05-22T13:04:22.648Z: Preparing row: 2025-05-22 13:04:22,23.3,68.6,true,false,false,,41413915
2025-05-22T13:04:22.648Z: Successfully wrote to log file using writeFileSync
2025-05-22T13:04:22.647Z: Successfully logged combined sensor data in one row
2025-05-22T13:04:22.652Z: Initial combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T13:04:21.839Z: Received sensor data: {"temperature":23.3,"humidity":68.6}
2025-05-22T13:04:21.839Z: Formatted events: [{"name":"living room temperature","value":23.3,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":68.6,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T13:04:21.839Z: Successfully updated event: living room temperature = 23.3
2025-05-22T13:04:21.839Z: Successfully updated event: living room humidity = 68.6
2025-05-22T13:04:22.740Z: Creating a combined row with motion=true, temp=23.3, humidity=68.6, light=false, ac_on=false
2025-05-22T13:04:22.740Z: logSensorData called with 5 sensors
2025-05-22T13:04:22.740Z: Column map has 6 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["desired_ac_temp",6]]
2025-05-22T13:04:22.740Z: Setting spaceId column 7 to 41413915
2025-05-22T13:04:22.740Z: Setting column 3 (living room motion) to true
2025-05-22T13:04:22.740Z: Setting column 1 (living room temperature) to 23.3
2025-05-22T13:04:22.740Z: Setting column 2 (living room humidity) to 68.6
2025-05-22T13:04:22.740Z: Setting column 4 (light_state) to false
2025-05-22T13:04:22.740Z: Setting column 5 (ac_state) to false
2025-05-22T13:04:22.740Z: Preparing row: 2025-05-22 13:04:22,23.3,68.6,true,false,false,,41413915
2025-05-22T13:04:22.740Z: Successfully wrote to log file using writeFileSync
2025-05-22T13:04:22.740Z: Successfully logged combined sensor data in one row
2025-05-22T13:04:22.742Z: Initial combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T13:05:11.429Z: Initializing sensor logging service
2025-05-22T13:05:11.430Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-22T13:05:11.430Z: Added light_state column to event names
2025-05-22T13:05:11.431Z: Added ac_state column to event names
2025-05-22T13:05:11.431Z: Added ac_state column to event names
2025-05-22T13:05:11.431Z: Using existing log file
2025-05-22T13:05:11.433Z: Logging enabled
2025-05-22T13:05:11.434Z: No polling was active to stop
2025-05-22T13:05:11.434Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-05-22T13:05:11.434Z: Polling interval set with ID: 1569
2025-05-22T13:05:11.435Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T13:05:11.436Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T13:05:11.436Z: Received motion sensor data: {"motionDetected":true}
2025-05-22T13:05:11.436Z: Formatted motion sensor events: [{"name":"living room motion","value":true,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T13:05:11.436Z: Successfully updated motion event: living room motion = true
2025-05-22T13:05:11.843Z: Initializing sensor logging service
2025-05-22T13:05:11.843Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-22T13:05:11.844Z: Added light_state column to event names
2025-05-22T13:05:11.845Z: Added ac_state column to event names
2025-05-22T13:05:11.845Z: Added ac_state column to event names
2025-05-22T13:05:11.845Z: Using existing log file
2025-05-22T13:05:11.847Z: Closing existing log stream before creating new one
2025-05-22T13:05:11.847Z: Logging enabled
2025-05-22T13:05:11.847Z: Stopping sensor polling interval: 1569
2025-05-22T13:05:11.847Z: Closing logging service
2025-05-22T13:05:11.848Z: Closing sensor logging service
2025-05-22T13:05:11.848Z: Closing log stream
2025-05-22T13:05:11.848Z: Logging stopped at 2025-05-22T13:05:11.848Z
2025-05-22T13:05:11.849Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-05-22T13:05:11.849Z: Polling interval set with ID: 1820
2025-05-22T13:05:11.849Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T13:05:11.849Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T13:05:11.849Z: Received motion sensor data: {"motionDetected":true}
2025-05-22T13:05:11.849Z: Formatted motion sensor events: [{"name":"living room motion","value":true,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T13:05:11.849Z: Successfully updated motion event: living room motion = true
2025-05-22T13:05:11.435Z: Received sensor data: {"temperature":23.3,"humidity":68.7}
2025-05-22T13:05:11.435Z: Formatted events: [{"name":"living room temperature","value":23.3,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":68.7,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T13:05:11.435Z: Successfully updated event: living room temperature = 23.3
2025-05-22T13:05:11.435Z: Successfully updated event: living room humidity = 68.7
2025-05-22T13:05:12.069Z: Creating a combined row with motion=true, temp=23.3, humidity=68.7, light=true, ac_on=false
2025-05-22T13:05:12.069Z: logSensorData called with 5 sensors
2025-05-22T13:05:12.069Z: WARNING - Logging is disabled but logSensorData was called
2025-05-22T13:05:12.069Z: Attempting to re-initialize logging with existing events
2025-05-22T13:05:12.070Z: Initializing sensor logging service
2025-05-22T13:05:12.070Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-22T13:05:12.070Z: Using existing log file
2025-05-22T13:05:12.069Z: Column map has 6 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["desired_ac_temp",6]]
2025-05-22T13:05:12.069Z: Setting spaceId column 7 to 41413915
2025-05-22T13:05:12.069Z: Setting column 3 (living room motion) to true
2025-05-22T13:05:12.069Z: Setting column 1 (living room temperature) to 23.3
2025-05-22T13:05:12.069Z: Setting column 2 (living room humidity) to 68.7
2025-05-22T13:05:12.069Z: Setting column 4 (light_state) to true
2025-05-22T13:05:12.069Z: Setting column 5 (ac_state) to false
2025-05-22T13:05:12.069Z: Preparing row: 2025-05-22 13:05:12,23.3,68.7,true,true,false,,41413915
2025-05-22T13:05:12.069Z: Successfully wrote to log file using writeFileSync
2025-05-22T13:05:12.069Z: Successfully logged combined sensor data in one row
2025-05-22T13:05:12.073Z: Initial combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T13:05:12.073Z: Logging enabled
2025-05-22T13:05:12.069Z: Re-initialization result: {"success":true,"message":"Sensor logging initialized to C:\\Users\\amin\\Desktop\\smart-space\\SmartSchool-Server\\logs\\sensor_data.csv","columns":[["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["desired_ac_temp",6]]}
2025-05-22T13:05:11.849Z: Received sensor data: {"temperature":23.3,"humidity":68.7}
2025-05-22T13:05:11.849Z: Formatted events: [{"name":"living room temperature","value":23.3,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":68.7,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T13:05:11.849Z: Successfully updated event: living room temperature = 23.3
2025-05-22T13:05:11.849Z: Successfully updated event: living room humidity = 68.7
2025-05-22T13:05:12.551Z: Creating a combined row with motion=true, temp=23.3, humidity=68.7, light=true, ac_on=false
2025-05-22T13:05:12.551Z: logSensorData called with 5 sensors
2025-05-22T13:05:12.551Z: Column map has 6 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["desired_ac_temp",6]]
2025-05-22T13:05:12.551Z: Setting spaceId column 7 to 41413915
2025-05-22T13:05:12.551Z: Setting column 3 (living room motion) to true
2025-05-22T13:05:12.551Z: Setting column 1 (living room temperature) to 23.3
2025-05-22T13:05:12.551Z: Setting column 2 (living room humidity) to 68.7
2025-05-22T13:05:12.551Z: Setting column 4 (light_state) to true
2025-05-22T13:05:12.551Z: Setting column 5 (ac_state) to false
2025-05-22T13:05:12.551Z: Preparing row: 2025-05-22 13:05:12,23.3,68.7,true,true,false,,41413915
2025-05-22T13:05:12.551Z: Successfully wrote to log file using writeFileSync
2025-05-22T13:05:12.551Z: Successfully logged combined sensor data in one row
2025-05-22T13:05:12.554Z: Initial combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T13:06:28.584Z: Initializing sensor logging service
2025-05-22T13:06:28.584Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-22T13:06:28.585Z: Added light_state column to event names
2025-05-22T13:06:28.586Z: Added ac_state column to event names
2025-05-22T13:06:28.586Z: Added ac_state column to event names
2025-05-22T13:06:28.587Z: Using existing log file
2025-05-22T13:06:28.588Z: Logging enabled
2025-05-22T13:06:28.589Z: No polling was active to stop
2025-05-22T13:06:28.590Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-05-22T13:06:28.590Z: Polling interval set with ID: 1468
2025-05-22T13:06:28.590Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T13:06:28.591Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T13:06:28.624Z: Initializing sensor logging service
2025-05-22T13:06:28.624Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-22T13:06:28.625Z: Added light_state column to event names
2025-05-22T13:06:28.625Z: Added ac_state column to event names
2025-05-22T13:06:28.625Z: Added ac_state column to event names
2025-05-22T13:06:28.626Z: Using existing log file
2025-05-22T13:06:28.628Z: Closing existing log stream before creating new one
2025-05-22T13:06:28.628Z: Logging enabled
2025-05-22T13:06:28.628Z: Stopping sensor polling interval: 1468
2025-05-22T13:06:28.628Z: Closing logging service
2025-05-22T13:06:28.629Z: Closing sensor logging service
2025-05-22T13:06:28.629Z: Closing log stream
2025-05-22T13:06:28.629Z: Logging stopped at 2025-05-22T13:06:28.629Z
2025-05-22T13:06:28.630Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-05-22T13:06:28.630Z: Polling interval set with ID: 1692
2025-05-22T13:06:28.630Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T13:06:28.631Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T13:06:28.591Z: Received motion sensor data: {"motionDetected":false}
2025-05-22T13:06:28.591Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T13:06:28.591Z: Successfully updated motion event: living room motion = false
2025-05-22T13:06:28.631Z: Received motion sensor data: {"motionDetected":false}
2025-05-22T13:06:28.631Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T13:06:28.631Z: Successfully updated motion event: living room motion = false
2025-05-22T13:06:28.590Z: Received sensor data: {"temperature":23.3,"humidity":68.6}
2025-05-22T13:06:28.590Z: Formatted events: [{"name":"living room temperature","value":23.3,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":68.6,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T13:06:28.590Z: Successfully updated event: living room temperature = 23.3
2025-05-22T13:06:28.590Z: Successfully updated event: living room humidity = 68.6
2025-05-22T13:06:29.343Z: Creating a combined row with motion=false, temp=23.3, humidity=68.6, light=true, ac_on=false
2025-05-22T13:06:29.344Z: logSensorData called with 5 sensors
2025-05-22T13:06:29.344Z: WARNING - Logging is disabled but logSensorData was called
2025-05-22T13:06:29.344Z: Attempting to re-initialize logging with existing events
2025-05-22T13:06:29.345Z: Initializing sensor logging service
2025-05-22T13:06:29.345Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-22T13:06:29.346Z: Using existing log file
2025-05-22T13:06:29.344Z: Column map has 6 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["desired_ac_temp",6]]
2025-05-22T13:06:29.344Z: Setting spaceId column 7 to 41413915
2025-05-22T13:06:29.344Z: Setting column 3 (living room motion) to false
2025-05-22T13:06:29.344Z: Setting column 1 (living room temperature) to 23.3
2025-05-22T13:06:29.344Z: Setting column 2 (living room humidity) to 68.6
2025-05-22T13:06:29.344Z: Setting column 4 (light_state) to true
2025-05-22T13:06:29.344Z: Setting column 5 (ac_state) to false
2025-05-22T13:06:29.344Z: Preparing row: 2025-05-22 13:06:29,23.3,68.6,false,true,false,,41413915
2025-05-22T13:06:29.344Z: Successfully wrote to log file using writeFileSync
2025-05-22T13:06:29.343Z: Successfully logged combined sensor data in one row
2025-05-22T13:06:29.349Z: Initial combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T13:06:29.350Z: Logging enabled
2025-05-22T13:06:29.344Z: Re-initialization result: {"success":true,"message":"Sensor logging initialized to C:\\Users\\amin\\Desktop\\smart-space\\SmartSchool-Server\\logs\\sensor_data.csv","columns":[["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["desired_ac_temp",6]]}
2025-05-22T13:06:28.630Z: Received sensor data: {"temperature":23.3,"humidity":68.6}
2025-05-22T13:06:28.630Z: Formatted events: [{"name":"living room temperature","value":23.3,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":68.6,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T13:06:28.630Z: Successfully updated event: living room temperature = 23.3
2025-05-22T13:06:28.630Z: Successfully updated event: living room humidity = 68.6
2025-05-22T13:06:29.494Z: Creating a combined row with motion=false, temp=23.3, humidity=68.6, light=true, ac_on=false
2025-05-22T13:06:29.494Z: logSensorData called with 5 sensors
2025-05-22T13:06:29.494Z: Column map has 6 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["desired_ac_temp",6]]
2025-05-22T13:06:29.494Z: Setting spaceId column 7 to 41413915
2025-05-22T13:06:29.494Z: Setting column 3 (living room motion) to false
2025-05-22T13:06:29.494Z: Setting column 1 (living room temperature) to 23.3
2025-05-22T13:06:29.494Z: Setting column 2 (living room humidity) to 68.6
2025-05-22T13:06:29.494Z: Setting column 4 (light_state) to true
2025-05-22T13:06:29.494Z: Setting column 5 (ac_state) to false
2025-05-22T13:06:29.494Z: Preparing row: 2025-05-22 13:06:29,23.3,68.6,false,true,false,,41413915
2025-05-22T13:06:29.494Z: Successfully wrote to log file using writeFileSync
2025-05-22T13:06:29.494Z: Successfully logged combined sensor data in one row
2025-05-22T13:06:29.497Z: Initial combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T13:08:08.643Z: Polling for sensor data... (poll #1)
2025-05-22T13:08:08.645Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T13:08:08.645Z: Received sensor data: {"temperature":23.3,"humidity":68.6}
2025-05-22T13:08:08.645Z: Formatted events: [{"name":"living room temperature","value":23.3,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":68.6,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T13:08:08.645Z: Successfully updated event: living room temperature = 23.3
2025-05-22T13:08:08.645Z: Successfully updated event: living room humidity = 68.6
2025-05-22T13:08:09.308Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":23.3,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":68.6,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-22T13:08:09.309Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T13:08:09.309Z: Received motion sensor data: {"motionDetected":true}
2025-05-22T13:08:09.309Z: Formatted motion sensor events: [{"name":"living room motion","value":true,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T13:08:09.309Z: Successfully updated motion event: living room motion = true
2025-05-22T13:08:09.492Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":true,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-22T13:08:10.073Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":false,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-22T13:08:10.694846Z"}}
2025-05-22T13:08:10.074Z: Extracted AC on state: false
2025-05-22T13:08:10.419Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":true},"success":true}
2025-05-22T13:08:10.420Z: Extracted light state: true
2025-05-22T13:08:10.420Z: Creating a combined row with motion=true, temp=23.3, humidity=68.6, light=true, ac_on=false
2025-05-22T13:08:10.420Z: logSensorData called with 5 sensors
2025-05-22T13:08:10.420Z: Column map has 6 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["desired_ac_temp",6]]
2025-05-22T13:08:10.420Z: Setting spaceId column 7 to 41413915
2025-05-22T13:08:10.420Z: Setting column 3 (living room motion) to true
2025-05-22T13:08:10.420Z: Setting column 1 (living room temperature) to 23.3
2025-05-22T13:08:10.420Z: Setting column 2 (living room humidity) to 68.6
2025-05-22T13:08:10.420Z: Setting column 4 (light_state) to true
2025-05-22T13:08:10.420Z: Setting column 5 (ac_state) to false
2025-05-22T13:08:10.420Z: Preparing row: 2025-05-22 13:08:10,23.3,68.6,true,true,false,,41413915
2025-05-22T13:08:10.420Z: Successfully wrote to log file using writeFileSync
2025-05-22T13:08:10.420Z: Successfully logged combined sensor data in one row
2025-05-22T13:08:10.423Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T13:08:10.424Z: Polling interval active: true
2025-05-22T13:09:48.644Z: Polling for sensor data... (poll #2)
2025-05-22T13:09:48.644Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T13:09:48.644Z: Received sensor data: {"temperature":23.3,"humidity":68.7}
2025-05-22T13:09:48.644Z: Formatted events: [{"name":"living room temperature","value":23.3,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":68.7,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T13:09:48.644Z: Successfully updated event: living room temperature = 23.3
2025-05-22T13:09:48.644Z: Successfully updated event: living room humidity = 68.7
2025-05-22T13:09:49.425Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":23.3,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":68.7,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-22T13:09:49.425Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T13:09:49.425Z: Received motion sensor data: {"motionDetected":false}
2025-05-22T13:09:49.425Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T13:09:49.425Z: Successfully updated motion event: living room motion = false
2025-05-22T13:09:49.568Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-22T13:09:50.165Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":false,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-22T13:09:50.792254Z"}}
2025-05-22T13:09:50.165Z: Extracted AC on state: false
2025-05-22T13:09:50.526Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":true},"success":true}
2025-05-22T13:09:50.526Z: Extracted light state: true
2025-05-22T13:09:50.527Z: Creating a combined row with motion=false, temp=23.3, humidity=68.7, light=true, ac_on=false
2025-05-22T13:09:50.527Z: logSensorData called with 5 sensors
2025-05-22T13:09:50.527Z: Column map has 6 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["desired_ac_temp",6]]
2025-05-22T13:09:50.527Z: Setting spaceId column 7 to 41413915
2025-05-22T13:09:50.527Z: Setting column 3 (living room motion) to false
2025-05-22T13:09:50.527Z: Setting column 1 (living room temperature) to 23.3
2025-05-22T13:09:50.527Z: Setting column 2 (living room humidity) to 68.7
2025-05-22T13:09:50.527Z: Setting column 4 (light_state) to true
2025-05-22T13:09:50.527Z: Setting column 5 (ac_state) to false
2025-05-22T13:09:50.527Z: Preparing row: 2025-05-22 13:09:50,23.3,68.7,false,true,false,,41413915
2025-05-22T13:09:50.527Z: Successfully wrote to log file using writeFileSync
2025-05-22T13:09:50.527Z: Successfully logged combined sensor data in one row
2025-05-22T13:09:50.530Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T13:09:50.530Z: Polling interval active: true
2025-05-22T13:11:28.648Z: Polling for sensor data... (poll #3)
2025-05-22T13:11:28.649Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T13:11:28.649Z: Received sensor data: {"temperature":23.3,"humidity":68.6}
2025-05-22T13:11:28.649Z: Formatted events: [{"name":"living room temperature","value":23.3,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":68.6,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T13:11:28.649Z: Successfully updated event: living room temperature = 23.3
2025-05-22T13:11:28.649Z: Successfully updated event: living room humidity = 68.6
2025-05-22T13:11:29.377Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":23.3,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":68.6,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-22T13:11:29.377Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T13:11:29.377Z: Received motion sensor data: {"motionDetected":false}
2025-05-22T13:11:29.377Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T13:11:29.377Z: Successfully updated motion event: living room motion = false
2025-05-22T13:11:29.529Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-22T13:11:30.123Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":false,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-22T13:11:30.750954Z"}}
2025-05-22T13:11:30.124Z: Extracted AC on state: false
2025-05-22T13:11:30.447Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":true},"success":true}
2025-05-22T13:11:30.447Z: Extracted light state: true
2025-05-22T13:11:30.447Z: Creating a combined row with motion=false, temp=23.3, humidity=68.6, light=true, ac_on=false
2025-05-22T13:11:30.448Z: logSensorData called with 5 sensors
2025-05-22T13:11:30.448Z: Column map has 6 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["desired_ac_temp",6]]
2025-05-22T13:11:30.448Z: Setting spaceId column 7 to 41413915
2025-05-22T13:11:30.448Z: Setting column 3 (living room motion) to false
2025-05-22T13:11:30.448Z: Setting column 1 (living room temperature) to 23.3
2025-05-22T13:11:30.448Z: Setting column 2 (living room humidity) to 68.6
2025-05-22T13:11:30.448Z: Setting column 4 (light_state) to true
2025-05-22T13:11:30.448Z: Setting column 5 (ac_state) to false
2025-05-22T13:11:30.448Z: Preparing row: 2025-05-22 13:11:30,23.3,68.6,false,true,false,,41413915
2025-05-22T13:11:30.448Z: Successfully wrote to log file using writeFileSync
2025-05-22T13:11:30.447Z: Successfully logged combined sensor data in one row
2025-05-22T13:11:30.451Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T13:11:30.451Z: Polling interval active: true
2025-05-22T13:13:08.652Z: Polling for sensor data... (poll #4)
2025-05-22T13:13:08.653Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T13:13:08.653Z: Received sensor data: {"temperature":23.3,"humidity":68.9}
2025-05-22T13:13:08.653Z: Formatted events: [{"name":"living room temperature","value":23.3,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":68.9,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T13:13:08.653Z: Successfully updated event: living room temperature = 23.3
2025-05-22T13:13:08.653Z: Successfully updated event: living room humidity = 68.9
2025-05-22T13:13:09.677Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":23.3,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":68.9,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-22T13:13:09.678Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T13:13:09.678Z: Received motion sensor data: {"motionDetected":false}
2025-05-22T13:13:09.678Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T13:13:09.678Z: Successfully updated motion event: living room motion = false
2025-05-22T13:13:09.919Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-22T13:13:10.472Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":false,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-22T13:13:11.107084Z"}}
2025-05-22T13:13:10.473Z: Extracted AC on state: false
2025-05-22T13:13:10.806Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":false},"success":true}
2025-05-22T13:13:10.806Z: Extracted light state: false
2025-05-22T13:13:10.806Z: Creating a combined row with motion=false, temp=23.3, humidity=68.9, light=false, ac_on=false
2025-05-22T13:13:10.807Z: logSensorData called with 5 sensors
2025-05-22T13:13:10.807Z: Column map has 6 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["desired_ac_temp",6]]
2025-05-22T13:13:10.807Z: Setting spaceId column 7 to 41413915
2025-05-22T13:13:10.807Z: Setting column 3 (living room motion) to false
2025-05-22T13:13:10.807Z: Setting column 1 (living room temperature) to 23.3
2025-05-22T13:13:10.807Z: Setting column 2 (living room humidity) to 68.9
2025-05-22T13:13:10.807Z: Setting column 4 (light_state) to false
2025-05-22T13:13:10.807Z: Setting column 5 (ac_state) to false
2025-05-22T13:13:10.807Z: Preparing row: 2025-05-22 13:13:10,23.3,68.9,false,false,false,,41413915
2025-05-22T13:13:10.807Z: Successfully wrote to log file using writeFileSync
2025-05-22T13:13:10.806Z: Successfully logged combined sensor data in one row
2025-05-22T13:13:10.809Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T13:13:10.809Z: Polling interval active: true
2025-05-22T13:14:48.653Z: Polling for sensor data... (poll #5)
2025-05-22T13:14:48.654Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T13:14:48.654Z: Received sensor data: {"temperature":23.2,"humidity":69}
2025-05-22T13:14:48.654Z: Formatted events: [{"name":"living room temperature","value":23.2,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":69,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T13:14:48.654Z: Successfully updated event: living room temperature = 23.2
2025-05-22T13:14:48.654Z: Successfully updated event: living room humidity = 69
2025-05-22T13:14:49.289Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":23.2,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":69,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-22T13:14:49.289Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T13:14:49.289Z: Received motion sensor data: {"motionDetected":false}
2025-05-22T13:14:49.289Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T13:14:49.289Z: Successfully updated motion event: living room motion = false
2025-05-22T13:14:49.440Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-22T13:14:49.977Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":false,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-22T13:14:50.615707Z"}}
2025-05-22T13:14:49.978Z: Extracted AC on state: false
2025-05-22T13:14:50.321Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":false},"success":true}
2025-05-22T13:14:50.322Z: Extracted light state: false
2025-05-22T13:14:50.323Z: Creating a combined row with motion=false, temp=23.2, humidity=69, light=false, ac_on=false
2025-05-22T13:14:50.324Z: logSensorData called with 5 sensors
2025-05-22T13:14:50.324Z: Column map has 6 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["desired_ac_temp",6]]
2025-05-22T13:14:50.324Z: Setting spaceId column 7 to 41413915
2025-05-22T13:14:50.324Z: Setting column 3 (living room motion) to false
2025-05-22T13:14:50.324Z: Setting column 1 (living room temperature) to 23.2
2025-05-22T13:14:50.324Z: Setting column 2 (living room humidity) to 69
2025-05-22T13:14:50.324Z: Setting column 4 (light_state) to false
2025-05-22T13:14:50.324Z: Setting column 5 (ac_state) to false
2025-05-22T13:14:50.324Z: Preparing row: 2025-05-22 13:14:50,23.2,69,false,false,false,,41413915
2025-05-22T13:14:50.324Z: Successfully wrote to log file using writeFileSync
2025-05-22T13:14:50.323Z: Successfully logged combined sensor data in one row
2025-05-22T13:14:50.330Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T13:14:50.330Z: Polling interval active: true
2025-05-22T13:16:28.664Z: Polling for sensor data... (poll #6)
2025-05-22T13:16:28.665Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T13:16:28.665Z: Received sensor data: {"temperature":23.2,"humidity":69.1}
2025-05-22T13:16:28.665Z: Formatted events: [{"name":"living room temperature","value":23.2,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":69.1,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T13:16:28.665Z: Successfully updated event: living room temperature = 23.2
2025-05-22T13:16:28.665Z: Successfully updated event: living room humidity = 69.1
2025-05-22T13:16:29.258Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":23.2,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":69.1,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-22T13:16:29.258Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T13:16:29.258Z: Received motion sensor data: {"motionDetected":false}
2025-05-22T13:16:29.258Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T13:16:29.258Z: Successfully updated motion event: living room motion = false
2025-05-22T13:16:29.477Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-22T13:16:30.055Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":false,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-22T13:16:30.695491Z"}}
2025-05-22T13:16:30.055Z: Extracted AC on state: false
2025-05-22T13:16:30.411Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":false},"success":true}
2025-05-22T13:16:30.412Z: Extracted light state: false
2025-05-22T13:16:30.413Z: Creating a combined row with motion=false, temp=23.2, humidity=69.1, light=false, ac_on=false
2025-05-22T13:16:30.413Z: logSensorData called with 5 sensors
2025-05-22T13:16:30.413Z: Column map has 6 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["desired_ac_temp",6]]
2025-05-22T13:16:30.413Z: Setting spaceId column 7 to 41413915
2025-05-22T13:16:30.413Z: Setting column 3 (living room motion) to false
2025-05-22T13:16:30.413Z: Setting column 1 (living room temperature) to 23.2
2025-05-22T13:16:30.413Z: Setting column 2 (living room humidity) to 69.1
2025-05-22T13:16:30.413Z: Setting column 4 (light_state) to false
2025-05-22T13:16:30.413Z: Setting column 5 (ac_state) to false
2025-05-22T13:16:30.413Z: Preparing row: 2025-05-22 13:16:30,23.2,69.1,false,false,false,,41413915
2025-05-22T13:16:30.413Z: Successfully wrote to log file using writeFileSync
2025-05-22T13:16:30.413Z: Successfully logged combined sensor data in one row
2025-05-22T13:16:30.415Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T13:16:30.416Z: Polling interval active: true
2025-05-22T13:18:08.672Z: Polling for sensor data... (poll #7)
2025-05-22T13:18:08.673Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T13:18:08.673Z: Received sensor data: {"temperature":23.2,"humidity":69.5}
2025-05-22T13:18:08.673Z: Formatted events: [{"name":"living room temperature","value":23.2,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":69.5,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T13:18:08.673Z: Successfully updated event: living room temperature = 23.2
2025-05-22T13:18:08.673Z: Successfully updated event: living room humidity = 69.5
2025-05-22T13:18:09.317Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":23.2,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":69.5,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-22T13:18:09.317Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T13:18:09.317Z: Received motion sensor data: {"motionDetected":true}
2025-05-22T13:18:09.317Z: Formatted motion sensor events: [{"name":"living room motion","value":true,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T13:18:09.317Z: Successfully updated motion event: living room motion = true
2025-05-22T13:18:09.529Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":true,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-22T13:18:10.071Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":false,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-22T13:18:10.719210Z"}}
2025-05-22T13:18:10.072Z: Extracted AC on state: false
2025-05-22T13:18:10.405Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":false},"success":true}
2025-05-22T13:18:10.406Z: Extracted light state: false
2025-05-22T13:18:10.406Z: Creating a combined row with motion=true, temp=23.2, humidity=69.5, light=false, ac_on=false
2025-05-22T13:18:10.407Z: logSensorData called with 5 sensors
2025-05-22T13:18:10.407Z: Column map has 6 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["desired_ac_temp",6]]
2025-05-22T13:18:10.407Z: Setting spaceId column 7 to 41413915
2025-05-22T13:18:10.407Z: Setting column 3 (living room motion) to true
2025-05-22T13:18:10.407Z: Setting column 1 (living room temperature) to 23.2
2025-05-22T13:18:10.407Z: Setting column 2 (living room humidity) to 69.5
2025-05-22T13:18:10.407Z: Setting column 4 (light_state) to false
2025-05-22T13:18:10.407Z: Setting column 5 (ac_state) to false
2025-05-22T13:18:10.407Z: Preparing row: 2025-05-22 13:18:10,23.2,69.5,true,false,false,,41413915
2025-05-22T13:18:10.407Z: Successfully wrote to log file using writeFileSync
2025-05-22T13:18:10.406Z: Successfully logged combined sensor data in one row
2025-05-22T13:18:10.411Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T13:18:10.411Z: Polling interval active: true
2025-05-22T13:19:48.685Z: Polling for sensor data... (poll #8)
2025-05-22T13:19:48.686Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T13:19:48.686Z: Received sensor data: {"temperature":23.2,"humidity":69.6}
2025-05-22T13:19:48.686Z: Formatted events: [{"name":"living room temperature","value":23.2,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":69.6,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T13:19:48.686Z: Successfully updated event: living room temperature = 23.2
2025-05-22T13:19:48.686Z: Successfully updated event: living room humidity = 69.6
2025-05-22T13:19:49.228Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":23.2,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":69.6,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-22T13:19:49.228Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T13:19:49.228Z: Received motion sensor data: {"motionDetected":true}
2025-05-22T13:19:49.228Z: Formatted motion sensor events: [{"name":"living room motion","value":true,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T13:19:49.228Z: Successfully updated motion event: living room motion = true
2025-05-22T13:19:49.445Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":true,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-22T13:19:49.980Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":false,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-22T13:19:50.630333Z"}}
2025-05-22T13:19:49.980Z: Extracted AC on state: false
2025-05-22T13:19:50.312Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":false},"success":true}
2025-05-22T13:19:50.313Z: Extracted light state: false
2025-05-22T13:19:50.313Z: Creating a combined row with motion=true, temp=23.2, humidity=69.6, light=false, ac_on=false
2025-05-22T13:19:50.314Z: logSensorData called with 5 sensors
2025-05-22T13:19:50.314Z: Column map has 6 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["desired_ac_temp",6]]
2025-05-22T13:19:50.314Z: Setting spaceId column 7 to 41413915
2025-05-22T13:19:50.314Z: Setting column 3 (living room motion) to true
2025-05-22T13:19:50.314Z: Setting column 1 (living room temperature) to 23.2
2025-05-22T13:19:50.314Z: Setting column 2 (living room humidity) to 69.6
2025-05-22T13:19:50.314Z: Setting column 4 (light_state) to false
2025-05-22T13:19:50.314Z: Setting column 5 (ac_state) to false
2025-05-22T13:19:50.314Z: Preparing row: 2025-05-22 13:19:50,23.2,69.6,true,false,false,,41413915
2025-05-22T13:19:50.314Z: Successfully wrote to log file using writeFileSync
2025-05-22T13:19:50.313Z: Successfully logged combined sensor data in one row
2025-05-22T13:19:50.316Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T13:19:50.317Z: Polling interval active: true
2025-05-22T13:32:12.837Z: Initializing sensor logging service
2025-05-22T13:32:12.837Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-22T13:32:12.838Z: Added light_state column to event names
2025-05-22T13:32:12.838Z: Added ac_state column to event names
2025-05-22T13:32:12.838Z: Added ac_state column to event names
2025-05-22T13:32:12.839Z: Using existing log file
2025-05-22T13:32:12.841Z: Warning: Header mismatch
2025-05-22T13:32:12.841Z: Existing: timestamp,living room temperature,living room humidity,living room motion,light_state,ac_state,desired_ac_temp,spaceId
2025-05-22T13:32:12.841Z: Expected: timestamp,living room temperature,living room humidity,living room motion,light_state,ac_state,targetTemperature,spaceId
2025-05-22T13:32:12.842Z: Logging enabled
2025-05-22T13:32:12.843Z: No polling was active to stop
2025-05-22T13:32:12.844Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-05-22T13:32:12.844Z: Polling interval set with ID: 929
2025-05-22T13:32:12.844Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T13:32:12.845Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T13:32:12.895Z: Initializing sensor logging service
2025-05-22T13:32:12.896Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-22T13:32:12.897Z: Added light_state column to event names
2025-05-22T13:32:12.897Z: Added ac_state column to event names
2025-05-22T13:32:12.897Z: Added ac_state column to event names
2025-05-22T13:32:12.898Z: Using existing log file
2025-05-22T13:32:12.899Z: Warning: Header mismatch
2025-05-22T13:32:12.900Z: Existing: timestamp,living room temperature,living room humidity,living room motion,light_state,ac_state,desired_ac_temp,spaceId
2025-05-22T13:32:12.900Z: Expected: timestamp,living room temperature,living room humidity,living room motion,light_state,ac_state,targetTemperature,spaceId
2025-05-22T13:32:12.900Z: Closing existing log stream before creating new one
2025-05-22T13:32:12.901Z: Logging enabled
2025-05-22T13:32:12.901Z: Stopping sensor polling interval: 929
2025-05-22T13:32:12.901Z: Closing logging service
2025-05-22T13:32:12.902Z: Closing sensor logging service
2025-05-22T13:32:12.902Z: Closing log stream
2025-05-22T13:32:12.902Z: Logging stopped at 2025-05-22T13:32:12.902Z
2025-05-22T13:32:12.904Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-05-22T13:32:12.904Z: Polling interval set with ID: 1029
2025-05-22T13:32:12.904Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T13:32:12.905Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T13:32:12.845Z: Received motion sensor data: {"motionDetected":false}
2025-05-22T13:32:12.845Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T13:32:12.845Z: Successfully updated motion event: living room motion = false
2025-05-22T13:32:12.905Z: Received motion sensor data: {"motionDetected":false}
2025-05-22T13:32:12.905Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T13:32:12.905Z: Successfully updated motion event: living room motion = false
2025-05-22T13:32:12.844Z: Received sensor data: {"temperature":23.3,"humidity":70}
2025-05-22T13:32:12.844Z: Formatted events: [{"name":"living room temperature","value":23.3,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":70,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T13:32:12.844Z: Successfully updated event: living room temperature = 23.3
2025-05-22T13:32:12.844Z: Successfully updated event: living room humidity = 70
2025-05-22T13:32:13.604Z: Creating a combined row with motion=false, temp=23.3, humidity=70, light=false, ac_on=false, target_temp=null
2025-05-22T13:32:13.605Z: logSensorData called with 6 sensors
2025-05-22T13:32:13.605Z: WARNING - Logging is disabled but logSensorData was called
2025-05-22T13:32:13.605Z: Attempting to re-initialize logging with existing events
2025-05-22T13:32:13.605Z: Initializing sensor logging service
2025-05-22T13:32:13.605Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-22T13:32:13.606Z: Using existing log file
2025-05-22T13:32:13.605Z: Column map has 6 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6]]
2025-05-22T13:32:13.605Z: Setting spaceId column 7 to 41413915
2025-05-22T13:32:13.605Z: Setting column 3 (living room motion) to false
2025-05-22T13:32:13.605Z: Setting column 1 (living room temperature) to 23.3
2025-05-22T13:32:13.605Z: Setting column 2 (living room humidity) to 70
2025-05-22T13:32:13.605Z: Setting column 4 (light_state) to false
2025-05-22T13:32:13.605Z: Setting column 5 (ac_state) to false
2025-05-22T13:32:13.605Z: Setting column 6 (targetTemperature) to null
2025-05-22T13:32:13.605Z: Preparing row: 2025-05-22 13:32:13,23.3,70,false,false,false,,41413915
2025-05-22T13:32:13.605Z: Successfully wrote to log file using writeFileSync
2025-05-22T13:32:13.604Z: Successfully logged combined sensor data in one row with target temperature: null
2025-05-22T13:32:13.609Z: Initial combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T13:32:13.610Z: Warning: Header mismatch
2025-05-22T13:32:13.610Z: Existing: timestamp,living room temperature,living room humidity,living room motion,light_state,ac_state,desired_ac_temp,spaceId
2025-05-22T13:32:13.610Z: Expected: timestamp,living room temperature,living room humidity,living room motion,light_state,ac_state,targetTemperature,spaceId
2025-05-22T13:32:13.611Z: Logging enabled
2025-05-22T13:32:13.605Z: Re-initialization result: {"success":true,"message":"Sensor logging initialized to C:\\Users\\amin\\Desktop\\smart-space\\SmartSchool-Server\\logs\\sensor_data.csv","columns":[["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6]]}
2025-05-22T13:32:12.904Z: Received sensor data: {"temperature":23.3,"humidity":70}
2025-05-22T13:32:12.904Z: Formatted events: [{"name":"living room temperature","value":23.3,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":70,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T13:32:12.904Z: Successfully updated event: living room temperature = 23.3
2025-05-22T13:32:12.904Z: Successfully updated event: living room humidity = 70
2025-05-22T13:32:14.012Z: Creating a combined row with motion=false, temp=23.3, humidity=70, light=false, ac_on=false, target_temp=null
2025-05-22T13:32:14.013Z: logSensorData called with 6 sensors
2025-05-22T13:32:14.013Z: Column map has 6 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6]]
2025-05-22T13:32:14.013Z: Setting spaceId column 7 to 41413915
2025-05-22T13:32:14.013Z: Setting column 3 (living room motion) to false
2025-05-22T13:32:14.013Z: Setting column 1 (living room temperature) to 23.3
2025-05-22T13:32:14.013Z: Setting column 2 (living room humidity) to 70
2025-05-22T13:32:14.013Z: Setting column 4 (light_state) to false
2025-05-22T13:32:14.013Z: Setting column 5 (ac_state) to false
2025-05-22T13:32:14.013Z: Setting column 6 (targetTemperature) to null
2025-05-22T13:32:14.013Z: Preparing row: 2025-05-22 13:32:14,23.3,70,false,false,false,,41413915
2025-05-22T13:32:14.013Z: Successfully wrote to log file using writeFileSync
2025-05-22T13:32:14.012Z: Successfully logged combined sensor data in one row with target temperature: null
2025-05-22T13:32:14.016Z: Initial combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T13:39:28.552Z: Initializing sensor logging service
2025-05-22T13:39:28.553Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-22T13:39:28.554Z: Added light_state column to event names
2025-05-22T13:39:28.554Z: Added ac_state column to event names
2025-05-22T13:39:28.554Z: Added ac_state column to event names
2025-05-22T13:39:28.555Z: Using existing log file
2025-05-22T13:39:28.556Z: Warning: Header mismatch
2025-05-22T13:39:28.557Z: Existing: timestamp,living room temperature,living room humidity,living room motion,light_state,ac_state,desired_ac_temp,spaceId
2025-05-22T13:39:28.557Z: Expected: timestamp,living room temperature,living room humidity,living room motion,light_state,ac_state,targetTemperature,spaceId
2025-05-22T13:39:28.557Z: Logging enabled
2025-05-22T13:39:28.558Z: No polling was active to stop
2025-05-22T13:39:28.559Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-05-22T13:39:28.559Z: Polling interval set with ID: 931
2025-05-22T13:39:28.560Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T13:39:28.560Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T13:39:28.621Z: Initializing sensor logging service
2025-05-22T13:39:28.622Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-22T13:39:28.623Z: Added light_state column to event names
2025-05-22T13:39:28.623Z: Added ac_state column to event names
2025-05-22T13:39:28.624Z: Added ac_state column to event names
2025-05-22T13:39:28.624Z: Using existing log file
2025-05-22T13:39:28.625Z: Warning: Header mismatch
2025-05-22T13:39:28.625Z: Existing: timestamp,living room temperature,living room humidity,living room motion,light_state,ac_state,desired_ac_temp,spaceId
2025-05-22T13:39:28.626Z: Expected: timestamp,living room temperature,living room humidity,living room motion,light_state,ac_state,targetTemperature,spaceId
2025-05-22T13:39:28.626Z: Closing existing log stream before creating new one
2025-05-22T13:39:28.627Z: Logging enabled
2025-05-22T13:39:28.627Z: Stopping sensor polling interval: 931
2025-05-22T13:39:28.627Z: Closing logging service
2025-05-22T13:39:28.628Z: Closing sensor logging service
2025-05-22T13:39:28.628Z: Closing log stream
2025-05-22T13:39:28.628Z: Logging stopped at 2025-05-22T13:39:28.628Z
2025-05-22T13:39:28.629Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-05-22T13:39:28.629Z: Polling interval set with ID: 1038
2025-05-22T13:39:28.630Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T13:39:28.630Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T13:39:28.560Z: Received motion sensor data: {"motionDetected":true}
2025-05-22T13:39:28.560Z: Formatted motion sensor events: [{"name":"living room motion","value":true,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T13:39:28.560Z: Successfully updated motion event: living room motion = true
2025-05-22T13:39:28.630Z: Received motion sensor data: {"motionDetected":false}
2025-05-22T13:39:28.630Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T13:39:28.630Z: Successfully updated motion event: living room motion = false
2025-05-22T13:39:28.560Z: Received sensor data: {"temperature":23.3,"humidity":69.4}
2025-05-22T13:39:28.560Z: Formatted events: [{"name":"living room temperature","value":23.3,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":69.4,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T13:39:28.560Z: Successfully updated event: living room temperature = 23.3
2025-05-22T13:39:28.560Z: Successfully updated event: living room humidity = 69.4
2025-05-22T13:39:29.325Z: Creating a combined row with motion=false, temp=23.3, humidity=69.4, light=false, ac_on=false, target_temp=N/A
2025-05-22T13:39:29.325Z: logSensorData called with 6 sensors
2025-05-22T13:39:29.325Z: WARNING - Logging is disabled but logSensorData was called
2025-05-22T13:39:29.325Z: Attempting to re-initialize logging with existing events
2025-05-22T13:39:29.326Z: Initializing sensor logging service
2025-05-22T13:39:29.327Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-22T13:39:29.328Z: Using existing log file
2025-05-22T13:39:29.325Z: Column map has 6 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6]]
2025-05-22T13:39:29.325Z: Setting spaceId column 7 to 41413915
2025-05-22T13:39:29.325Z: Setting column 3 (living room motion) to false
2025-05-22T13:39:29.325Z: Setting column 1 (living room temperature) to 23.3
2025-05-22T13:39:29.325Z: Setting column 2 (living room humidity) to 69.4
2025-05-22T13:39:29.325Z: Setting column 4 (light_state) to false
2025-05-22T13:39:29.325Z: Setting column 5 (ac_state) to false
2025-05-22T13:39:29.325Z: Setting column 6 (targetTemperature) to N/A
2025-05-22T13:39:29.325Z: Preparing row: 2025-05-22 13:39:29,23.3,69.4,false,false,false,N/A,41413915
2025-05-22T13:39:29.325Z: Successfully wrote to log file using writeFileSync
2025-05-22T13:39:29.325Z: Successfully logged combined sensor data in one row with target temperature: N/A
2025-05-22T13:39:29.331Z: Initial combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T13:39:29.331Z: Warning: Header mismatch
2025-05-22T13:39:29.332Z: Existing: timestamp,living room temperature,living room humidity,living room motion,light_state,ac_state,desired_ac_temp,spaceId
2025-05-22T13:39:29.332Z: Expected: timestamp,living room temperature,living room humidity,living room motion,light_state,ac_state,targetTemperature,spaceId
2025-05-22T13:39:29.332Z: Logging enabled
2025-05-22T13:39:29.325Z: Re-initialization result: {"success":true,"message":"Sensor logging initialized to C:\\Users\\amin\\Desktop\\smart-space\\SmartSchool-Server\\logs\\sensor_data.csv","columns":[["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6]]}
2025-05-22T13:39:28.630Z: Received sensor data: {"temperature":23.3,"humidity":69.4}
2025-05-22T13:39:28.630Z: Formatted events: [{"name":"living room temperature","value":23.3,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":69.4,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T13:39:28.630Z: Successfully updated event: living room temperature = 23.3
2025-05-22T13:39:28.630Z: Successfully updated event: living room humidity = 69.4
2025-05-22T13:39:29.455Z: Creating a combined row with motion=false, temp=23.3, humidity=69.4, light=false, ac_on=false, target_temp=N/A
2025-05-22T13:39:29.455Z: logSensorData called with 6 sensors
2025-05-22T13:39:29.455Z: Column map has 6 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6]]
2025-05-22T13:39:29.455Z: Setting spaceId column 7 to 41413915
2025-05-22T13:39:29.455Z: Setting column 3 (living room motion) to false
2025-05-22T13:39:29.455Z: Setting column 1 (living room temperature) to 23.3
2025-05-22T13:39:29.455Z: Setting column 2 (living room humidity) to 69.4
2025-05-22T13:39:29.455Z: Setting column 4 (light_state) to false
2025-05-22T13:39:29.455Z: Setting column 5 (ac_state) to false
2025-05-22T13:39:29.455Z: Setting column 6 (targetTemperature) to N/A
2025-05-22T13:39:29.455Z: Preparing row: 2025-05-22 13:39:29,23.3,69.4,false,false,false,N/A,41413915
2025-05-22T13:39:29.455Z: Successfully wrote to log file using writeFileSync
2025-05-22T13:39:29.455Z: Successfully logged combined sensor data in one row with target temperature: N/A
2025-05-22T13:39:29.458Z: Initial combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T13:40:06.083Z: Initializing sensor logging service
2025-05-22T13:40:06.084Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-22T13:40:06.085Z: Added light_state column to event names
2025-05-22T13:40:06.085Z: Added ac_state column to event names
2025-05-22T13:40:06.086Z: Added ac_state column to event names
2025-05-22T13:40:06.086Z: Using existing log file
2025-05-22T13:40:06.087Z: Warning: Header mismatch
2025-05-22T13:40:06.087Z: Existing: timestamp,living room temperature,living room humidity,living room motion,light_state,ac_state,desired_ac_temp,spaceId
2025-05-22T13:40:06.087Z: Expected: timestamp,living room temperature,living room humidity,living room motion,light_state,ac_state,targetTemperature,spaceId
2025-05-22T13:40:06.088Z: Logging enabled
2025-05-22T13:40:06.088Z: No polling was active to stop
2025-05-22T13:40:06.089Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-05-22T13:40:06.089Z: Polling interval set with ID: 926
2025-05-22T13:40:06.090Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T13:40:06.091Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T13:40:06.166Z: Initializing sensor logging service
2025-05-22T13:40:06.166Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-22T13:40:06.167Z: Added light_state column to event names
2025-05-22T13:40:06.167Z: Added ac_state column to event names
2025-05-22T13:40:06.167Z: Added ac_state column to event names
2025-05-22T13:40:06.168Z: Using existing log file
2025-05-22T13:40:06.169Z: Warning: Header mismatch
2025-05-22T13:40:06.169Z: Existing: timestamp,living room temperature,living room humidity,living room motion,light_state,ac_state,desired_ac_temp,spaceId
2025-05-22T13:40:06.169Z: Expected: timestamp,living room temperature,living room humidity,living room motion,light_state,ac_state,targetTemperature,spaceId
2025-05-22T13:40:06.170Z: Closing existing log stream before creating new one
2025-05-22T13:40:06.170Z: Logging enabled
2025-05-22T13:40:06.170Z: Stopping sensor polling interval: 926
2025-05-22T13:40:06.170Z: Closing logging service
2025-05-22T13:40:06.171Z: Closing sensor logging service
2025-05-22T13:40:06.171Z: Closing log stream
2025-05-22T13:40:06.171Z: Logging stopped at 2025-05-22T13:40:06.171Z
2025-05-22T13:40:06.172Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-05-22T13:40:06.172Z: Polling interval set with ID: 1045
2025-05-22T13:40:06.173Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T13:40:06.173Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T13:40:06.091Z: Received motion sensor data: {"motionDetected":true}
2025-05-22T13:40:06.091Z: Formatted motion sensor events: [{"name":"living room motion","value":true,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T13:40:06.091Z: Successfully updated motion event: living room motion = true
2025-05-22T13:40:06.173Z: Received motion sensor data: {"motionDetected":true}
2025-05-22T13:40:06.173Z: Formatted motion sensor events: [{"name":"living room motion","value":true,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T13:40:06.173Z: Successfully updated motion event: living room motion = true
2025-05-22T13:40:06.090Z: Received sensor data: {"temperature":23.3,"humidity":69.4}
2025-05-22T13:40:06.090Z: Formatted events: [{"name":"living room temperature","value":23.3,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":69.4,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T13:40:06.090Z: Successfully updated event: living room temperature = 23.3
2025-05-22T13:40:06.090Z: Successfully updated event: living room humidity = 69.4
2025-05-22T13:40:06.173Z: Received sensor data: {"temperature":23.3,"humidity":69.4}
2025-05-22T13:40:06.173Z: Formatted events: [{"name":"living room temperature","value":23.3,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":69.4,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T13:40:06.173Z: Successfully updated event: living room temperature = 23.3
2025-05-22T13:40:06.173Z: Successfully updated event: living room humidity = 69.4
2025-05-22T13:40:07.908Z: Creating a combined row with motion=true, temp=23.3, humidity=69.4, light=false, ac_on=false, target_temp=N/A
2025-05-22T13:40:07.909Z: logSensorData called with 6 sensors
2025-05-22T13:40:07.909Z: WARNING - Logging is disabled but logSensorData was called
2025-05-22T13:40:07.909Z: Attempting to re-initialize logging with existing events
2025-05-22T13:40:07.909Z: Initializing sensor logging service
2025-05-22T13:40:07.909Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-22T13:40:07.910Z: Using existing log file
2025-05-22T13:40:07.909Z: Column map has 6 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6]]
2025-05-22T13:40:07.909Z: Setting spaceId column 7 to 41413915
2025-05-22T13:40:07.909Z: Setting column 3 (living room motion) to true
2025-05-22T13:40:07.909Z: Setting column 1 (living room temperature) to 23.3
2025-05-22T13:40:07.909Z: Setting column 2 (living room humidity) to 69.4
2025-05-22T13:40:07.909Z: Setting column 4 (light_state) to false
2025-05-22T13:40:07.909Z: Setting column 5 (ac_state) to false
2025-05-22T13:40:07.909Z: Setting column 6 (targetTemperature) to N/A
2025-05-22T13:40:07.909Z: Preparing row: 2025-05-22 13:40:07,23.3,69.4,true,false,false,N/A,41413915
2025-05-22T13:40:07.909Z: Successfully wrote to log file using writeFileSync
2025-05-22T13:40:07.908Z: Successfully logged combined sensor data in one row with target temperature: N/A
2025-05-22T13:40:07.913Z: Initial combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T13:40:07.913Z: Warning: Header mismatch
2025-05-22T13:40:07.914Z: Existing: timestamp,living room temperature,living room humidity,living room motion,light_state,ac_state,desired_ac_temp,spaceId
2025-05-22T13:40:07.914Z: Expected: timestamp,living room temperature,living room humidity,living room motion,light_state,ac_state,targetTemperature,spaceId
2025-05-22T13:40:07.914Z: Logging enabled
2025-05-22T13:40:07.909Z: Re-initialization result: {"success":true,"message":"Sensor logging initialized to C:\\Users\\amin\\Desktop\\smart-space\\SmartSchool-Server\\logs\\sensor_data.csv","columns":[["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6]]}
2025-05-22T13:40:07.956Z: Creating a combined row with motion=true, temp=23.3, humidity=69.4, light=false, ac_on=false, target_temp=N/A
2025-05-22T13:40:07.957Z: logSensorData called with 6 sensors
2025-05-22T13:40:07.957Z: Column map has 6 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6]]
2025-05-22T13:40:07.957Z: Setting spaceId column 7 to 41413915
2025-05-22T13:40:07.957Z: Setting column 3 (living room motion) to true
2025-05-22T13:40:07.957Z: Setting column 1 (living room temperature) to 23.3
2025-05-22T13:40:07.957Z: Setting column 2 (living room humidity) to 69.4
2025-05-22T13:40:07.957Z: Setting column 4 (light_state) to false
2025-05-22T13:40:07.957Z: Setting column 5 (ac_state) to false
2025-05-22T13:40:07.957Z: Setting column 6 (targetTemperature) to N/A
2025-05-22T13:40:07.957Z: Preparing row: 2025-05-22 13:40:07,23.3,69.4,true,false,false,N/A,41413915
2025-05-22T13:40:07.957Z: Successfully wrote to log file using writeFileSync
2025-05-22T13:40:07.956Z: Successfully logged combined sensor data in one row with target temperature: N/A
2025-05-22T13:40:07.960Z: Initial combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T13:41:46.181Z: Polling for sensor data... (poll #1)
2025-05-22T13:41:46.182Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T13:41:46.182Z: Received sensor data: {"temperature":23.3,"humidity":69.4}
2025-05-22T13:41:46.182Z: Formatted events: [{"name":"living room temperature","value":23.3,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":69.4,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T13:41:46.182Z: Successfully updated event: living room temperature = 23.3
2025-05-22T13:41:46.182Z: Successfully updated event: living room humidity = 69.4
2025-05-22T13:41:46.768Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":23.3,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":69.4,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-22T13:41:46.769Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T13:41:46.769Z: Received motion sensor data: {"motionDetected":false}
2025-05-22T13:41:46.769Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T13:41:46.769Z: Successfully updated motion event: living room motion = false
2025-05-22T13:41:46.915Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-22T13:41:47.540Z: AC state is: {"mode":"cool","on":true,"targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-22T13:41:48.219613Z"}}
2025-05-22T13:41:47.540Z: Extracted AC on state: false, target temperature: N/A
2025-05-22T13:41:47.875Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":false},"success":true}
2025-05-22T13:41:47.876Z: Extracted light state: false
2025-05-22T13:41:47.876Z: Creating a combined row with motion=false, temp=23.3, humidity=69.4, light=false, ac_on=false, target_temp=N/A
2025-05-22T13:41:47.877Z: logSensorData called with 6 sensors
2025-05-22T13:41:47.877Z: Column map has 6 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6]]
2025-05-22T13:41:47.877Z: Setting spaceId column 7 to 41413915
2025-05-22T13:41:47.877Z: Setting column 3 (living room motion) to false
2025-05-22T13:41:47.877Z: Setting column 1 (living room temperature) to 23.3
2025-05-22T13:41:47.877Z: Setting column 2 (living room humidity) to 69.4
2025-05-22T13:41:47.877Z: Setting column 4 (light_state) to false
2025-05-22T13:41:47.877Z: Setting column 5 (ac_state) to false
2025-05-22T13:41:47.877Z: Setting column 6 (targetTemperature) to N/A
2025-05-22T13:41:47.877Z: Preparing row: 2025-05-22 13:41:47,23.3,69.4,false,false,false,N/A,41413915
2025-05-22T13:41:47.877Z: Successfully wrote to log file using writeFileSync
2025-05-22T13:41:47.876Z: Successfully logged combined sensor data in one row with target temperature: N/A
2025-05-22T13:41:47.880Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T13:41:47.880Z: Polling interval active: true
2025-05-22T13:43:26.183Z: Polling for sensor data... (poll #2)
2025-05-22T13:43:26.183Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T13:43:26.183Z: Received sensor data: {"temperature":23.3,"humidity":69.1}
2025-05-22T13:43:26.183Z: Formatted events: [{"name":"living room temperature","value":23.3,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":69.1,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T13:43:26.183Z: Successfully updated event: living room temperature = 23.3
2025-05-22T13:43:26.183Z: Successfully updated event: living room humidity = 69.1
2025-05-22T13:43:26.731Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":23.3,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":69.1,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-22T13:43:26.731Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T13:43:26.731Z: Received motion sensor data: {"motionDetected":false}
2025-05-22T13:43:26.731Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T13:43:26.731Z: Successfully updated motion event: living room motion = false
2025-05-22T13:43:26.877Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-22T13:43:27.430Z: AC state is: {"mode":"cool","on":true,"targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-22T13:43:28.116444Z"}}
2025-05-22T13:43:27.431Z: Extracted AC on state: false, target temperature: N/A
2025-05-22T13:43:27.772Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":false},"success":true}
2025-05-22T13:43:27.773Z: Extracted light state: false
2025-05-22T13:43:27.773Z: Creating a combined row with motion=false, temp=23.3, humidity=69.1, light=false, ac_on=false, target_temp=N/A
2025-05-22T13:43:27.773Z: logSensorData called with 6 sensors
2025-05-22T13:43:27.773Z: Column map has 6 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6]]
2025-05-22T13:43:27.773Z: Setting spaceId column 7 to 41413915
2025-05-22T13:43:27.773Z: Setting column 3 (living room motion) to false
2025-05-22T13:43:27.773Z: Setting column 1 (living room temperature) to 23.3
2025-05-22T13:43:27.773Z: Setting column 2 (living room humidity) to 69.1
2025-05-22T13:43:27.773Z: Setting column 4 (light_state) to false
2025-05-22T13:43:27.773Z: Setting column 5 (ac_state) to false
2025-05-22T13:43:27.773Z: Setting column 6 (targetTemperature) to N/A
2025-05-22T13:43:27.773Z: Preparing row: 2025-05-22 13:43:27,23.3,69.1,false,false,false,N/A,41413915
2025-05-22T13:43:27.773Z: Successfully wrote to log file using writeFileSync
2025-05-22T13:43:27.773Z: Successfully logged combined sensor data in one row with target temperature: N/A
2025-05-22T13:43:27.777Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T13:43:27.777Z: Polling interval active: true
2025-05-22T13:44:58.381Z: Initializing sensor logging service
2025-05-22T13:44:58.382Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-22T13:44:58.383Z: Added light_state column to event names
2025-05-22T13:44:58.383Z: Added ac_state column to event names
2025-05-22T13:44:58.384Z: Added ac_state column to event names
2025-05-22T13:44:58.384Z: Using existing log file
2025-05-22T13:44:58.385Z: Warning: Header mismatch
2025-05-22T13:44:58.386Z: Existing: timestamp,living room temperature,living room humidity,living room motion,light_state,ac_state,desired_ac_temp,spaceId
2025-05-22T13:44:58.386Z: Expected: timestamp,living room temperature,living room humidity,living room motion,light_state,ac_state,targetTemperature,spaceId
2025-05-22T13:44:58.386Z: Logging enabled
2025-05-22T13:44:58.387Z: No polling was active to stop
2025-05-22T13:44:58.388Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-05-22T13:44:58.388Z: Polling interval set with ID: 995
2025-05-22T13:44:58.388Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T13:44:58.389Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T13:44:58.425Z: Initializing sensor logging service
2025-05-22T13:44:58.426Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-22T13:44:58.426Z: Added light_state column to event names
2025-05-22T13:44:58.426Z: Added ac_state column to event names
2025-05-22T13:44:58.427Z: Added ac_state column to event names
2025-05-22T13:44:58.427Z: Using existing log file
2025-05-22T13:44:58.428Z: Warning: Header mismatch
2025-05-22T13:44:58.428Z: Existing: timestamp,living room temperature,living room humidity,living room motion,light_state,ac_state,desired_ac_temp,spaceId
2025-05-22T13:44:58.428Z: Expected: timestamp,living room temperature,living room humidity,living room motion,light_state,ac_state,targetTemperature,spaceId
2025-05-22T13:44:58.429Z: Closing existing log stream before creating new one
2025-05-22T13:44:58.429Z: Logging enabled
2025-05-22T13:44:58.430Z: Stopping sensor polling interval: 995
2025-05-22T13:44:58.430Z: Closing logging service
2025-05-22T13:44:58.430Z: Closing sensor logging service
2025-05-22T13:44:58.430Z: Closing log stream
2025-05-22T13:44:58.430Z: Logging stopped at 2025-05-22T13:44:58.430Z
2025-05-22T13:44:58.431Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-05-22T13:44:58.431Z: Polling interval set with ID: 1119
2025-05-22T13:44:58.432Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T13:44:58.432Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T13:44:58.389Z: Received motion sensor data: {"motionDetected":true}
2025-05-22T13:44:58.389Z: Formatted motion sensor events: [{"name":"living room motion","value":true,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T13:44:58.389Z: Successfully updated motion event: living room motion = true
2025-05-22T13:44:58.432Z: Received motion sensor data: {"motionDetected":true}
2025-05-22T13:44:58.432Z: Formatted motion sensor events: [{"name":"living room motion","value":true,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T13:44:58.432Z: Successfully updated motion event: living room motion = true
2025-05-22T13:44:58.388Z: Received sensor data: {"temperature":23.3,"humidity":68.1}
2025-05-22T13:44:58.388Z: Formatted events: [{"name":"living room temperature","value":23.3,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":68.1,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T13:44:58.388Z: Successfully updated event: living room temperature = 23.3
2025-05-22T13:44:58.388Z: Successfully updated event: living room humidity = 68.1
2025-05-22T13:44:59.269Z: Creating a combined row with motion=true, temp=23.3, humidity=68.1, light=false, ac_on=false, target_temp=N/A
2025-05-22T13:44:59.270Z: logSensorData called with 6 sensors
2025-05-22T13:44:59.270Z: WARNING - Logging is disabled but logSensorData was called
2025-05-22T13:44:59.270Z: Attempting to re-initialize logging with existing events
2025-05-22T13:44:59.271Z: Initializing sensor logging service
2025-05-22T13:44:59.271Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-22T13:44:59.272Z: Using existing log file
2025-05-22T13:44:59.270Z: Column map has 6 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6]]
2025-05-22T13:44:59.270Z: Setting spaceId column 7 to 41413915
2025-05-22T13:44:59.270Z: Setting column 3 (living room motion) to true
2025-05-22T13:44:59.270Z: Setting column 1 (living room temperature) to 23.3
2025-05-22T13:44:59.270Z: Setting column 2 (living room humidity) to 68.1
2025-05-22T13:44:59.270Z: Setting column 4 (light_state) to false
2025-05-22T13:44:59.270Z: Setting column 5 (ac_state) to false
2025-05-22T13:44:59.270Z: Setting column 6 (targetTemperature) to N/A
2025-05-22T13:44:59.270Z: Preparing row: 2025-05-22 13:44:59,23.3,68.1,true,false,false,N/A,41413915
2025-05-22T13:44:59.270Z: Successfully wrote to log file using writeFileSync
2025-05-22T13:44:59.269Z: Successfully logged combined sensor data in one row with target temperature: N/A
2025-05-22T13:44:59.274Z: Initial combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T13:44:58.432Z: Received sensor data: {"temperature":23.3,"humidity":68.1}
2025-05-22T13:44:58.432Z: Formatted events: [{"name":"living room temperature","value":23.3,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":68.1,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T13:44:58.432Z: Successfully updated event: living room temperature = 23.3
2025-05-22T13:44:58.432Z: Successfully updated event: living room humidity = 68.1
2025-05-22T13:44:59.277Z: Creating a combined row with motion=true, temp=23.3, humidity=68.1, light=false, ac_on=false, target_temp=N/A
2025-05-22T13:44:59.278Z: logSensorData called with 6 sensors
2025-05-22T13:44:59.278Z: WARNING - Logging is disabled but logSensorData was called
2025-05-22T13:44:59.278Z: Attempting to re-initialize logging with existing events
2025-05-22T13:44:59.278Z: Initializing sensor logging service
2025-05-22T13:44:59.278Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-22T13:44:59.279Z: Using existing log file
2025-05-22T13:44:59.278Z: Column map has 6 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6]]
2025-05-22T13:44:59.278Z: Setting spaceId column 7 to 41413915
2025-05-22T13:44:59.278Z: Setting column 3 (living room motion) to true
2025-05-22T13:44:59.278Z: Setting column 1 (living room temperature) to 23.3
2025-05-22T13:44:59.278Z: Setting column 2 (living room humidity) to 68.1
2025-05-22T13:44:59.278Z: Setting column 4 (light_state) to false
2025-05-22T13:44:59.278Z: Setting column 5 (ac_state) to false
2025-05-22T13:44:59.278Z: Setting column 6 (targetTemperature) to N/A
2025-05-22T13:44:59.278Z: Preparing row: 2025-05-22 13:44:59,23.3,68.1,true,false,false,N/A,41413915
2025-05-22T13:44:59.278Z: Successfully wrote to log file using writeFileSync
2025-05-22T13:44:59.277Z: Successfully logged combined sensor data in one row with target temperature: N/A
2025-05-22T13:44:59.281Z: Initial combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T13:44:59.282Z: Warning: Header mismatch
2025-05-22T13:44:59.283Z: Existing: timestamp,living room temperature,living room humidity,living room motion,light_state,ac_state,desired_ac_temp,spaceId
2025-05-22T13:44:59.283Z: Expected: timestamp,living room temperature,living room humidity,living room motion,light_state,ac_state,targetTemperature,spaceId
2025-05-22T13:44:59.283Z: Logging enabled
2025-05-22T13:44:59.278Z: Re-initialization result: {"success":true,"message":"Sensor logging initialized to C:\\Users\\amin\\Desktop\\smart-space\\SmartSchool-Server\\logs\\sensor_data.csv","columns":[["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6]]}
2025-05-22T13:44:59.284Z: Warning: Header mismatch
2025-05-22T13:44:59.284Z: Existing: timestamp,living room temperature,living room humidity,living room motion,light_state,ac_state,desired_ac_temp,spaceId
2025-05-22T13:44:59.284Z: Expected: timestamp,living room temperature,living room humidity,living room motion,light_state,ac_state,targetTemperature,spaceId
2025-05-22T13:44:59.284Z: Closing existing log stream before creating new one
2025-05-22T13:44:59.284Z: Logging enabled
2025-05-22T13:44:59.270Z: Re-initialization result: {"success":true,"message":"Sensor logging initialized to C:\\Users\\amin\\Desktop\\smart-space\\SmartSchool-Server\\logs\\sensor_data.csv","columns":[["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6]]}
2025-05-22T13:46:38.446Z: Polling for sensor data... (poll #1)
2025-05-22T13:46:38.448Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T13:46:38.448Z: Received sensor data: {"temperature":23.1,"humidity":67.7}
2025-05-22T13:46:38.448Z: Formatted events: [{"name":"living room temperature","value":23.1,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":67.7,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T13:46:38.448Z: Successfully updated event: living room temperature = 23.1
2025-05-22T13:46:38.448Z: Successfully updated event: living room humidity = 67.7
2025-05-22T13:46:39.037Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":23.1,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":67.7,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-22T13:46:39.037Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T13:46:39.037Z: Received motion sensor data: {"motionDetected":true}
2025-05-22T13:46:39.037Z: Formatted motion sensor events: [{"name":"living room motion","value":true,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T13:46:39.037Z: Successfully updated motion event: living room motion = true
2025-05-22T13:46:39.183Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":true,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-22T13:46:39.776Z: AC state is: {"mode":"cool","on":true,"targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-22T13:46:40.421426Z"}}
2025-05-22T13:46:39.777Z: Extracted AC on state: false, target temperature: N/A
2025-05-22T13:46:40.121Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":false},"success":true}
2025-05-22T13:46:40.121Z: Extracted light state: false
2025-05-22T13:46:40.121Z: Creating a combined row with motion=true, temp=23.1, humidity=67.7, light=false, ac_on=false, target_temp=N/A
2025-05-22T13:46:40.122Z: logSensorData called with 6 sensors
2025-05-22T13:46:40.122Z: Column map has 6 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6]]
2025-05-22T13:46:40.122Z: Setting spaceId column 7 to 41413915
2025-05-22T13:46:40.122Z: Setting column 3 (living room motion) to true
2025-05-22T13:46:40.122Z: Setting column 1 (living room temperature) to 23.1
2025-05-22T13:46:40.122Z: Setting column 2 (living room humidity) to 67.7
2025-05-22T13:46:40.122Z: Setting column 4 (light_state) to false
2025-05-22T13:46:40.122Z: Setting column 5 (ac_state) to false
2025-05-22T13:46:40.122Z: Setting column 6 (targetTemperature) to N/A
2025-05-22T13:46:40.122Z: Preparing row: 2025-05-22 13:46:40,23.1,67.7,true,false,false,N/A,41413915
2025-05-22T13:46:40.122Z: Successfully wrote to log file using writeFileSync
2025-05-22T13:46:40.121Z: Successfully logged combined sensor data in one row with target temperature: N/A
2025-05-22T13:46:40.126Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T13:46:40.126Z: Polling interval active: true
2025-05-22T13:54:46.531Z: Initializing sensor logging service
2025-05-22T13:54:46.532Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-22T13:54:46.532Z: Added light_state column to event names
2025-05-22T13:54:46.533Z: Added ac_state column to event names
2025-05-22T13:54:46.533Z: Added ac_state column to event names
2025-05-22T13:54:46.533Z: Using existing log file
2025-05-22T13:54:46.535Z: Warning: Header mismatch
2025-05-22T13:54:46.535Z: Existing: timestamp,living room temperature,living room humidity,living room motion,light_state,ac_state,desired_ac_temp,spaceId
2025-05-22T13:54:46.535Z: Expected: timestamp,living room temperature,living room humidity,living room motion,light_state,ac_state,targetTemperature,spaceId
2025-05-22T13:54:46.536Z: Logging enabled
2025-05-22T13:54:46.537Z: No polling was active to stop
2025-05-22T13:54:46.537Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-05-22T13:54:46.537Z: Polling interval set with ID: 926
2025-05-22T13:54:46.538Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T13:54:46.539Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T13:54:46.567Z: Initializing sensor logging service
2025-05-22T13:54:46.568Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-22T13:54:46.569Z: Added light_state column to event names
2025-05-22T13:54:46.569Z: Added ac_state column to event names
2025-05-22T13:54:46.569Z: Added ac_state column to event names
2025-05-22T13:54:46.570Z: Using existing log file
2025-05-22T13:54:46.571Z: Warning: Header mismatch
2025-05-22T13:54:46.571Z: Existing: timestamp,living room temperature,living room humidity,living room motion,light_state,ac_state,desired_ac_temp,spaceId
2025-05-22T13:54:46.571Z: Expected: timestamp,living room temperature,living room humidity,living room motion,light_state,ac_state,targetTemperature,spaceId
2025-05-22T13:54:46.572Z: Closing existing log stream before creating new one
2025-05-22T13:54:46.572Z: Logging enabled
2025-05-22T13:54:46.572Z: Stopping sensor polling interval: 926
2025-05-22T13:54:46.572Z: Closing logging service
2025-05-22T13:54:46.573Z: Closing sensor logging service
2025-05-22T13:54:46.573Z: Closing log stream
2025-05-22T13:54:46.573Z: Logging stopped at 2025-05-22T13:54:46.573Z
2025-05-22T13:54:46.574Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-05-22T13:54:46.574Z: Polling interval set with ID: 1026
2025-05-22T13:54:46.575Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T13:54:46.575Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T13:54:46.539Z: Received motion sensor data: {"motionDetected":true}
2025-05-22T13:54:46.539Z: Formatted motion sensor events: [{"name":"living room motion","value":true,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T13:54:46.539Z: Successfully updated motion event: living room motion = true
2025-05-22T13:54:46.575Z: Received motion sensor data: {"motionDetected":true}
2025-05-22T13:54:46.575Z: Formatted motion sensor events: [{"name":"living room motion","value":true,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T13:54:46.575Z: Successfully updated motion event: living room motion = true
2025-05-22T13:54:46.538Z: Received sensor data: {"temperature":22.7,"humidity":66.9}
2025-05-22T13:54:46.538Z: Formatted events: [{"name":"living room temperature","value":22.7,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":66.9,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T13:54:46.538Z: Successfully updated event: living room temperature = 22.7
2025-05-22T13:54:46.538Z: Successfully updated event: living room humidity = 66.9
2025-05-22T13:54:47.335Z: Creating a combined row with motion=true, temp=22.7, humidity=66.9, light=false, ac_on=false, target_temp=N/A
2025-05-22T13:54:47.336Z: logSensorData called with 6 sensors
2025-05-22T13:54:47.336Z: WARNING - Logging is disabled but logSensorData was called
2025-05-22T13:54:47.336Z: Attempting to re-initialize logging with existing events
2025-05-22T13:54:47.338Z: Initializing sensor logging service
2025-05-22T13:54:47.338Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-22T13:54:47.339Z: Using existing log file
2025-05-22T13:54:47.336Z: Column map has 6 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6]]
2025-05-22T13:54:47.336Z: Setting spaceId column 7 to 41413915
2025-05-22T13:54:47.336Z: Setting column 3 (living room motion) to true
2025-05-22T13:54:47.336Z: Setting column 1 (living room temperature) to 22.7
2025-05-22T13:54:47.336Z: Setting column 2 (living room humidity) to 66.9
2025-05-22T13:54:47.336Z: Setting column 4 (light_state) to false
2025-05-22T13:54:47.336Z: Setting column 5 (ac_state) to false
2025-05-22T13:54:47.336Z: Setting column 6 (targetTemperature) to N/A
2025-05-22T13:54:47.336Z: Preparing row: 2025-05-22 13:54:47,22.7,66.9,true,false,false,N/A,41413915
2025-05-22T13:54:47.336Z: Successfully wrote to log file using writeFileSync
2025-05-22T13:54:47.335Z: Successfully logged combined sensor data in one row with target temperature: N/A
2025-05-22T13:54:47.342Z: Initial combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T13:54:47.343Z: Warning: Header mismatch
2025-05-22T13:54:47.343Z: Existing: timestamp,living room temperature,living room humidity,living room motion,light_state,ac_state,desired_ac_temp,spaceId
2025-05-22T13:54:47.343Z: Expected: timestamp,living room temperature,living room humidity,living room motion,light_state,ac_state,targetTemperature,spaceId
2025-05-22T13:54:47.343Z: Logging enabled
2025-05-22T13:54:47.336Z: Re-initialization result: {"success":true,"message":"Sensor logging initialized to C:\\Users\\amin\\Desktop\\smart-space\\SmartSchool-Server\\logs\\sensor_data.csv","columns":[["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6]]}
2025-05-22T13:54:46.575Z: Received sensor data: {"temperature":22.7,"humidity":66.9}
2025-05-22T13:54:46.575Z: Formatted events: [{"name":"living room temperature","value":22.7,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":66.9,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T13:54:46.575Z: Successfully updated event: living room temperature = 22.7
2025-05-22T13:54:46.575Z: Successfully updated event: living room humidity = 66.9
2025-05-22T13:54:47.451Z: Creating a combined row with motion=true, temp=22.7, humidity=66.9, light=false, ac_on=false, target_temp=N/A
2025-05-22T13:54:47.451Z: logSensorData called with 6 sensors
2025-05-22T13:54:47.451Z: Column map has 6 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6]]
2025-05-22T13:54:47.451Z: Setting spaceId column 7 to 41413915
2025-05-22T13:54:47.451Z: Setting column 3 (living room motion) to true
2025-05-22T13:54:47.451Z: Setting column 1 (living room temperature) to 22.7
2025-05-22T13:54:47.451Z: Setting column 2 (living room humidity) to 66.9
2025-05-22T13:54:47.451Z: Setting column 4 (light_state) to false
2025-05-22T13:54:47.451Z: Setting column 5 (ac_state) to false
2025-05-22T13:54:47.451Z: Setting column 6 (targetTemperature) to N/A
2025-05-22T13:54:47.451Z: Preparing row: 2025-05-22 13:54:47,22.7,66.9,true,false,false,N/A,41413915
2025-05-22T13:54:47.451Z: Successfully wrote to log file using writeFileSync
2025-05-22T13:54:47.451Z: Successfully logged combined sensor data in one row with target temperature: N/A
2025-05-22T13:54:47.454Z: Initial combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T13:56:26.580Z: Polling for sensor data... (poll #1)
2025-05-22T13:56:26.582Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T13:56:26.582Z: Received sensor data: {"temperature":22.6,"humidity":67.2}
2025-05-22T13:56:26.582Z: Formatted events: [{"name":"living room temperature","value":22.6,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":67.2,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T13:56:26.582Z: Successfully updated event: living room temperature = 22.6
2025-05-22T13:56:26.582Z: Successfully updated event: living room humidity = 67.2
2025-05-22T13:56:27.157Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":22.6,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":67.2,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-22T13:56:27.157Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T13:56:27.157Z: Received motion sensor data: {"motionDetected":false}
2025-05-22T13:56:27.157Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T13:56:27.157Z: Successfully updated motion event: living room motion = false
2025-05-22T13:56:27.312Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-22T13:56:27.949Z: AC state is: {"mode":"cool","on":true,"targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-22T13:56:28.655588Z"}}
2025-05-22T13:56:27.950Z: Extracted AC on state: true, target temperature: 20
2025-05-22T13:56:28.302Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":false},"success":true}
2025-05-22T13:56:28.303Z: Extracted light state: false
2025-05-22T13:56:28.303Z: Creating a combined row with motion=false, temp=22.6, humidity=67.2, light=false, ac_on=true, target_temp=20
2025-05-22T13:56:28.304Z: logSensorData called with 6 sensors
2025-05-22T13:56:28.304Z: Column map has 6 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6]]
2025-05-22T13:56:28.304Z: Setting spaceId column 7 to 41413915
2025-05-22T13:56:28.304Z: Setting column 3 (living room motion) to false
2025-05-22T13:56:28.304Z: Setting column 1 (living room temperature) to 22.6
2025-05-22T13:56:28.304Z: Setting column 2 (living room humidity) to 67.2
2025-05-22T13:56:28.304Z: Setting column 4 (light_state) to false
2025-05-22T13:56:28.304Z: Setting column 5 (ac_state) to true
2025-05-22T13:56:28.304Z: Setting column 6 (targetTemperature) to 20
2025-05-22T13:56:28.304Z: Preparing row: 2025-05-22 13:56:28,22.6,67.2,false,false,true,20,41413915
2025-05-22T13:56:28.304Z: Successfully wrote to log file using writeFileSync
2025-05-22T13:56:28.303Z: Successfully logged combined sensor data in one row with target temperature: 20
2025-05-22T13:56:28.307Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T13:56:28.307Z: Polling interval active: true
2025-05-22T13:58:06.591Z: Polling for sensor data... (poll #2)
2025-05-22T13:58:06.593Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T13:58:06.593Z: Received sensor data: {"temperature":22.5,"humidity":66.8}
2025-05-22T13:58:06.593Z: Formatted events: [{"name":"living room temperature","value":22.5,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":66.8,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T13:58:06.593Z: Successfully updated event: living room temperature = 22.5
2025-05-22T13:58:06.593Z: Successfully updated event: living room humidity = 66.8
2025-05-22T13:58:07.188Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":22.5,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":66.8,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-22T13:58:07.188Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T13:58:07.188Z: Received motion sensor data: {"motionDetected":false}
2025-05-22T13:58:07.188Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T13:58:07.188Z: Successfully updated motion event: living room motion = false
2025-05-22T13:58:07.341Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-22T13:58:07.923Z: AC state is: {"mode":"cool","on":true,"targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-22T13:58:08.632463Z"}}
2025-05-22T13:58:07.924Z: Extracted AC on state: true, target temperature: 20
2025-05-22T13:58:08.280Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":false},"success":true}
2025-05-22T13:58:08.282Z: Extracted light state: false
2025-05-22T13:58:08.282Z: Creating a combined row with motion=false, temp=22.5, humidity=66.8, light=false, ac_on=true, target_temp=20
2025-05-22T13:58:08.284Z: logSensorData called with 6 sensors
2025-05-22T13:58:08.284Z: Column map has 6 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6]]
2025-05-22T13:58:08.284Z: Setting spaceId column 7 to 41413915
2025-05-22T13:58:08.284Z: Setting column 3 (living room motion) to false
2025-05-22T13:58:08.284Z: Setting column 1 (living room temperature) to 22.5
2025-05-22T13:58:08.284Z: Setting column 2 (living room humidity) to 66.8
2025-05-22T13:58:08.284Z: Setting column 4 (light_state) to false
2025-05-22T13:58:08.284Z: Setting column 5 (ac_state) to true
2025-05-22T13:58:08.284Z: Setting column 6 (targetTemperature) to 20
2025-05-22T13:58:08.284Z: Preparing row: 2025-05-22 13:58:08,22.5,66.8,false,false,true,20,41413915
2025-05-22T13:58:08.284Z: Successfully wrote to log file using writeFileSync
2025-05-22T13:58:08.282Z: Successfully logged combined sensor data in one row with target temperature: 20
2025-05-22T13:58:08.288Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T13:58:08.288Z: Polling interval active: true
2025-05-22T13:59:46.607Z: Polling for sensor data... (poll #3)
2025-05-22T13:59:46.608Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T13:59:46.608Z: Received sensor data: {"temperature":22.5,"humidity":66.8}
2025-05-22T13:59:46.608Z: Formatted events: [{"name":"living room temperature","value":22.5,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":66.8,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T13:59:46.608Z: Successfully updated event: living room temperature = 22.5
2025-05-22T13:59:46.608Z: Successfully updated event: living room humidity = 66.8
2025-05-22T13:59:47.249Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":22.5,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":66.8,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-22T13:59:47.250Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T13:59:47.250Z: Received motion sensor data: {"motionDetected":false}
2025-05-22T13:59:47.250Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T13:59:47.250Z: Successfully updated motion event: living room motion = false
2025-05-22T13:59:47.488Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-22T13:59:48.043Z: AC state is: {"mode":"cool","on":true,"targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-22T13:59:48.760834Z"}}
2025-05-22T13:59:48.043Z: Extracted AC on state: true, target temperature: 20
2025-05-22T13:59:48.693Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":false},"success":true}
2025-05-22T13:59:48.695Z: Extracted light state: false
2025-05-22T13:59:48.695Z: Creating a combined row with motion=false, temp=22.5, humidity=66.8, light=false, ac_on=true, target_temp=20
2025-05-22T13:59:48.696Z: logSensorData called with 6 sensors
2025-05-22T13:59:48.696Z: Column map has 6 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6]]
2025-05-22T13:59:48.696Z: Setting spaceId column 7 to 41413915
2025-05-22T13:59:48.696Z: Setting column 3 (living room motion) to false
2025-05-22T13:59:48.696Z: Setting column 1 (living room temperature) to 22.5
2025-05-22T13:59:48.696Z: Setting column 2 (living room humidity) to 66.8
2025-05-22T13:59:48.696Z: Setting column 4 (light_state) to false
2025-05-22T13:59:48.696Z: Setting column 5 (ac_state) to true
2025-05-22T13:59:48.696Z: Setting column 6 (targetTemperature) to 20
2025-05-22T13:59:48.696Z: Preparing row: 2025-05-22 13:59:48,22.5,66.8,false,false,true,20,41413915
2025-05-22T13:59:48.696Z: Successfully wrote to log file using writeFileSync
2025-05-22T13:59:48.695Z: Successfully logged combined sensor data in one row with target temperature: 20
2025-05-22T13:59:48.701Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T13:59:48.701Z: Polling interval active: true
2025-05-22T14:01:26.620Z: Polling for sensor data... (poll #4)
2025-05-22T14:01:26.621Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T14:01:26.621Z: Received sensor data: {"temperature":22.5,"humidity":66.8}
2025-05-22T14:01:26.621Z: Formatted events: [{"name":"living room temperature","value":22.5,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":66.8,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T14:01:26.621Z: Successfully updated event: living room temperature = 22.5
2025-05-22T14:01:26.621Z: Successfully updated event: living room humidity = 66.8
2025-05-22T14:01:27.171Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":22.5,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":66.8,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-22T14:01:27.171Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T14:01:27.171Z: Received motion sensor data: {"motionDetected":false}
2025-05-22T14:01:27.171Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T14:01:27.171Z: Successfully updated motion event: living room motion = false
2025-05-22T14:01:27.318Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-22T14:01:27.872Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":false,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-22T14:01:28.593534Z"}}
2025-05-22T14:01:27.873Z: Extracted AC on state: false, target temperature: N/A
2025-05-22T14:01:28.279Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":false},"success":true}
2025-05-22T14:01:28.279Z: Extracted light state: false
2025-05-22T14:01:28.279Z: Creating a combined row with motion=false, temp=22.5, humidity=66.8, light=false, ac_on=false, target_temp=N/A
2025-05-22T14:01:28.280Z: logSensorData called with 6 sensors
2025-05-22T14:01:28.280Z: Column map has 6 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6]]
2025-05-22T14:01:28.280Z: Setting spaceId column 7 to 41413915
2025-05-22T14:01:28.280Z: Setting column 3 (living room motion) to false
2025-05-22T14:01:28.280Z: Setting column 1 (living room temperature) to 22.5
2025-05-22T14:01:28.280Z: Setting column 2 (living room humidity) to 66.8
2025-05-22T14:01:28.280Z: Setting column 4 (light_state) to false
2025-05-22T14:01:28.280Z: Setting column 5 (ac_state) to false
2025-05-22T14:01:28.280Z: Setting column 6 (targetTemperature) to N/A
2025-05-22T14:01:28.280Z: Preparing row: 2025-05-22 14:01:28,22.5,66.8,false,false,false,N/A,41413915
2025-05-22T14:01:28.280Z: Successfully wrote to log file using writeFileSync
2025-05-22T14:01:28.279Z: Successfully logged combined sensor data in one row with target temperature: N/A
2025-05-22T14:01:28.283Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T14:01:28.283Z: Polling interval active: true
2025-05-22T14:02:37.494Z: Initializing sensor logging service
2025-05-22T14:02:37.494Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-22T14:02:37.495Z: Added light_state column to event names
2025-05-22T14:02:37.495Z: Added ac_state column to event names
2025-05-22T14:02:37.496Z: Added ac_state column to event names
2025-05-22T14:02:37.496Z: Created new log file with header: timestamp,living room temperature,living room humidity,living room motion,light_state,ac_state,targetTemperature,spaceId
2025-05-22T14:02:37.497Z: Logging enabled
2025-05-22T14:02:37.497Z: No polling was active to stop
2025-05-22T14:02:37.498Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-05-22T14:02:37.498Z: Polling interval set with ID: 918
2025-05-22T14:02:37.499Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T14:02:37.499Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T14:02:37.522Z: Initializing sensor logging service
2025-05-22T14:02:37.523Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-22T14:02:37.523Z: Added light_state column to event names
2025-05-22T14:02:37.523Z: Added ac_state column to event names
2025-05-22T14:02:37.524Z: Added ac_state column to event names
2025-05-22T14:02:37.524Z: Using existing log file
2025-05-22T14:02:37.526Z: Closing existing log stream before creating new one
2025-05-22T14:02:37.526Z: Logging enabled
2025-05-22T14:02:37.526Z: Stopping sensor polling interval: 918
2025-05-22T14:02:37.526Z: Closing logging service
2025-05-22T14:02:37.527Z: Closing sensor logging service
2025-05-22T14:02:37.527Z: Closing log stream
2025-05-22T14:02:37.527Z: Logging stopped at 2025-05-22T14:02:37.527Z
2025-05-22T14:02:37.529Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-05-22T14:02:37.529Z: Polling interval set with ID: 1014
2025-05-22T14:02:37.529Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T14:02:37.530Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T14:02:37.530Z: Received motion sensor data: {"motionDetected":false}
2025-05-22T14:02:37.530Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T14:02:37.530Z: Successfully updated motion event: living room motion = false
2025-05-22T14:02:37.499Z: Received motion sensor data: {"motionDetected":false}
2025-05-22T14:02:37.499Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T14:02:37.499Z: Successfully updated motion event: living room motion = false
2025-05-22T14:02:37.499Z: Received sensor data: {"temperature":22.5,"humidity":66.9}
2025-05-22T14:02:37.499Z: Formatted events: [{"name":"living room temperature","value":22.5,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":66.9,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T14:02:37.499Z: Successfully updated event: living room temperature = 22.5
2025-05-22T14:02:37.499Z: Successfully updated event: living room humidity = 66.9
2025-05-22T14:02:37.529Z: Received sensor data: {"temperature":22.5,"humidity":66.9}
2025-05-22T14:02:37.529Z: Formatted events: [{"name":"living room temperature","value":22.5,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":66.9,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T14:02:37.529Z: Successfully updated event: living room temperature = 22.5
2025-05-22T14:02:37.529Z: Successfully updated event: living room humidity = 66.9
2025-05-22T14:02:38.422Z: Creating a combined row with motion=false, temp=22.5, humidity=66.9, light=false, ac_on=false, target_temp=N/A
2025-05-22T14:02:38.422Z: logSensorData called with 6 sensors
2025-05-22T14:02:38.422Z: WARNING - Logging is disabled but logSensorData was called
2025-05-22T14:02:38.422Z: Attempting to re-initialize logging with existing events
2025-05-22T14:02:38.423Z: Initializing sensor logging service
2025-05-22T14:02:38.423Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-22T14:02:38.423Z: Using existing log file
2025-05-22T14:02:38.422Z: Column map has 6 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6]]
2025-05-22T14:02:38.422Z: Setting spaceId column 7 to 41413915
2025-05-22T14:02:38.422Z: Setting column 3 (living room motion) to false
2025-05-22T14:02:38.422Z: Setting column 1 (living room temperature) to 22.5
2025-05-22T14:02:38.422Z: Setting column 2 (living room humidity) to 66.9
2025-05-22T14:02:38.422Z: Setting column 4 (light_state) to false
2025-05-22T14:02:38.422Z: Setting column 5 (ac_state) to false
2025-05-22T14:02:38.422Z: Setting column 6 (targetTemperature) to N/A
2025-05-22T14:02:38.422Z: Preparing row: 2025-05-22 14:02:38,22.5,66.9,false,false,false,N/A,41413915
2025-05-22T14:02:38.422Z: Successfully wrote to log file using writeFileSync
2025-05-22T14:02:38.422Z: Successfully logged combined sensor data in one row with target temperature: N/A
2025-05-22T14:02:38.426Z: Initial combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T14:02:38.427Z: Logging enabled
2025-05-22T14:02:38.422Z: Re-initialization result: {"success":true,"message":"Sensor logging initialized to C:\\Users\\amin\\Desktop\\smart-space\\SmartSchool-Server\\logs\\sensor_data.csv","columns":[["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6]]}
2025-05-22T14:02:38.465Z: Creating a combined row with motion=false, temp=22.5, humidity=66.9, light=false, ac_on=false, target_temp=N/A
2025-05-22T14:02:38.465Z: logSensorData called with 6 sensors
2025-05-22T14:02:38.465Z: Column map has 6 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6]]
2025-05-22T14:02:38.465Z: Setting spaceId column 7 to 41413915
2025-05-22T14:02:38.465Z: Setting column 3 (living room motion) to false
2025-05-22T14:02:38.465Z: Setting column 1 (living room temperature) to 22.5
2025-05-22T14:02:38.465Z: Setting column 2 (living room humidity) to 66.9
2025-05-22T14:02:38.465Z: Setting column 4 (light_state) to false
2025-05-22T14:02:38.465Z: Setting column 5 (ac_state) to false
2025-05-22T14:02:38.465Z: Setting column 6 (targetTemperature) to N/A
2025-05-22T14:02:38.465Z: Preparing row: 2025-05-22 14:02:38,22.5,66.9,false,false,false,N/A,41413915
2025-05-22T14:02:38.465Z: Successfully wrote to log file using writeFileSync
2025-05-22T14:02:38.465Z: Successfully logged combined sensor data in one row with target temperature: N/A
2025-05-22T14:02:38.469Z: Initial combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T14:04:17.540Z: Polling for sensor data... (poll #1)
2025-05-22T14:04:17.542Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T14:04:17.542Z: Received sensor data: {"temperature":22.5,"humidity":67.6}
2025-05-22T14:04:17.542Z: Formatted events: [{"name":"living room temperature","value":22.5,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":67.6,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T14:04:17.542Z: Successfully updated event: living room temperature = 22.5
2025-05-22T14:04:17.542Z: Successfully updated event: living room humidity = 67.6
2025-05-22T14:04:18.169Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":22.5,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":67.6,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-22T14:04:18.169Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T14:04:18.169Z: Received motion sensor data: {"motionDetected":false}
2025-05-22T14:04:18.169Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T14:04:18.169Z: Successfully updated motion event: living room motion = false
2025-05-22T14:04:18.349Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-22T14:04:19.036Z: AC state is: {"mode":"cool","on":true,"targetTemperature":21,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-22T14:04:19.728259Z"}}
2025-05-22T14:04:19.036Z: Extracted AC on state: true, target temperature: 21
2025-05-22T14:04:19.424Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":false},"success":true}
2025-05-22T14:04:19.425Z: Extracted light state: false
2025-05-22T14:04:19.425Z: Creating a combined row with motion=false, temp=22.5, humidity=67.6, light=false, ac_on=true, target_temp=21
2025-05-22T14:04:19.426Z: logSensorData called with 6 sensors
2025-05-22T14:04:19.426Z: Column map has 6 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6]]
2025-05-22T14:04:19.426Z: Setting spaceId column 7 to 41413915
2025-05-22T14:04:19.426Z: Setting column 3 (living room motion) to false
2025-05-22T14:04:19.426Z: Setting column 1 (living room temperature) to 22.5
2025-05-22T14:04:19.426Z: Setting column 2 (living room humidity) to 67.6
2025-05-22T14:04:19.426Z: Setting column 4 (light_state) to false
2025-05-22T14:04:19.426Z: Setting column 5 (ac_state) to true
2025-05-22T14:04:19.426Z: Setting column 6 (targetTemperature) to 21
2025-05-22T14:04:19.426Z: Preparing row: 2025-05-22 14:04:19,22.5,67.6,false,false,true,21,41413915
2025-05-22T14:04:19.426Z: Successfully wrote to log file using writeFileSync
2025-05-22T14:04:19.425Z: Successfully logged combined sensor data in one row with target temperature: 21
2025-05-22T14:04:19.428Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T14:04:19.428Z: Polling interval active: true
2025-05-22T14:12:45.288Z: Initializing sensor logging service
2025-05-22T14:12:45.289Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-22T14:12:45.289Z: Added light_state column to event names
2025-05-22T14:12:45.290Z: Added ac_state column to event names
2025-05-22T14:12:45.290Z: Added ac_state column to event names
2025-05-22T14:12:45.290Z: Added targetAcMode column to event names
2025-05-22T14:12:45.291Z: Created new log file with header: timestamp,living room temperature,living room humidity,living room motion,light_state,ac_state,targetTemperature,targetAcMode,spaceId
2025-05-22T14:12:45.291Z: Logging enabled
2025-05-22T14:12:45.292Z: No polling was active to stop
2025-05-22T14:12:45.293Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-05-22T14:12:45.293Z: Polling interval set with ID: 914
2025-05-22T14:12:45.294Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T14:12:45.295Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T14:12:45.318Z: Initializing sensor logging service
2025-05-22T14:12:45.319Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-22T14:12:45.319Z: Added light_state column to event names
2025-05-22T14:12:45.320Z: Added ac_state column to event names
2025-05-22T14:12:45.320Z: Added ac_state column to event names
2025-05-22T14:12:45.320Z: Added targetAcMode column to event names
2025-05-22T14:12:45.321Z: Using existing log file
2025-05-22T14:12:45.322Z: Closing existing log stream before creating new one
2025-05-22T14:12:45.322Z: Logging enabled
2025-05-22T14:12:45.323Z: Stopping sensor polling interval: 914
2025-05-22T14:12:45.323Z: Closing logging service
2025-05-22T14:12:45.324Z: Closing sensor logging service
2025-05-22T14:12:45.324Z: Closing log stream
2025-05-22T14:12:45.324Z: Logging stopped at 2025-05-22T14:12:45.324Z
2025-05-22T14:12:45.325Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-05-22T14:12:45.325Z: Polling interval set with ID: 1013
2025-05-22T14:12:45.326Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T14:12:45.327Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T14:12:45.295Z: Received motion sensor data: {"motionDetected":false}
2025-05-22T14:12:45.295Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T14:12:45.295Z: Successfully updated motion event: living room motion = false
2025-05-22T14:12:45.327Z: Received motion sensor data: {"motionDetected":false}
2025-05-22T14:12:45.327Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T14:12:45.327Z: Successfully updated motion event: living room motion = false
2025-05-22T14:12:45.294Z: Received sensor data: {"temperature":22.2,"humidity":65.8}
2025-05-22T14:12:45.294Z: Formatted events: [{"name":"living room temperature","value":22.2,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":65.8,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T14:12:45.294Z: Successfully updated event: living room temperature = 22.2
2025-05-22T14:12:45.294Z: Successfully updated event: living room humidity = 65.8
2025-05-22T14:12:45.326Z: Received sensor data: {"temperature":22.2,"humidity":65.8}
2025-05-22T14:12:45.326Z: Formatted events: [{"name":"living room temperature","value":22.2,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":65.8,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T14:12:45.326Z: Successfully updated event: living room temperature = 22.2
2025-05-22T14:12:45.326Z: Successfully updated event: living room humidity = 65.8
2025-05-22T14:14:25.336Z: Polling for sensor data... (poll #1)
2025-05-22T14:14:25.338Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T14:14:25.338Z: Received sensor data: {"temperature":22.1,"humidity":65.7}
2025-05-22T14:14:25.338Z: Formatted events: [{"name":"living room temperature","value":22.1,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":65.7,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T14:14:25.338Z: Successfully updated event: living room temperature = 22.1
2025-05-22T14:14:25.338Z: Successfully updated event: living room humidity = 65.7
2025-05-22T14:14:26.000Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":22.1,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":65.7,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-22T14:14:26.001Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T14:14:26.001Z: Received motion sensor data: {"motionDetected":false}
2025-05-22T14:14:26.001Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T14:14:26.001Z: Successfully updated motion event: living room motion = false
2025-05-22T14:14:26.212Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-22T14:14:26.777Z: AC state is: {"mode":"cool","on":true,"targetTemperature":21,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-22T14:14:27.510610Z"}}
2025-05-22T14:14:26.778Z: Extracted AC on state: true, target temperature: 21 , target mode: cool 
2025-05-22T14:14:27.149Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":false},"success":true}
2025-05-22T14:14:27.149Z: Extracted light state: false
2025-05-22T14:14:27.150Z: Creating a combined row with motion=false, temp=22.1, humidity=65.7, light=false, ac_on=true, target_temp=21
2025-05-22T14:14:27.150Z: logSensorData called with 7 sensors
2025-05-22T14:14:27.150Z: WARNING - Logging is disabled but logSensorData was called
2025-05-22T14:14:27.150Z: Attempting to re-initialize logging with existing events
2025-05-22T14:14:27.151Z: Initializing sensor logging service
2025-05-22T14:14:27.151Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-22T14:14:27.152Z: Using existing log file
2025-05-22T14:14:27.150Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-22T14:14:27.150Z: Setting spaceId column 8 to 41413915
2025-05-22T14:14:27.150Z: Setting column 3 (living room motion) to false
2025-05-22T14:14:27.150Z: Setting column 1 (living room temperature) to 22.1
2025-05-22T14:14:27.150Z: Setting column 2 (living room humidity) to 65.7
2025-05-22T14:14:27.150Z: Setting column 4 (light_state) to false
2025-05-22T14:14:27.150Z: Setting column 5 (ac_state) to true
2025-05-22T14:14:27.150Z: Setting column 6 (targetTemperature) to 21
2025-05-22T14:14:27.150Z: WARNING - Unknown sensor name: targetACMode, not in column map
2025-05-22T14:14:27.150Z: Preparing row: 2025-05-22 14:14:27,22.1,65.7,false,false,true,21,,41413915
2025-05-22T14:14:27.150Z: Successfully wrote to log file using writeFileSync
2025-05-22T14:14:27.150Z: Successfully logged combined sensor data in one row with target temperature: 21
2025-05-22T14:14:27.155Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T14:14:27.155Z: Polling interval active: true
2025-05-22T14:14:27.156Z: Logging enabled
2025-05-22T14:14:27.150Z: Re-initialization result: {"success":true,"message":"Sensor logging initialized to C:\\Users\\amin\\Desktop\\smart-space\\SmartSchool-Server\\logs\\sensor_data.csv","columns":[["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]}
2025-05-22T14:16:05.340Z: Polling for sensor data... (poll #2)
2025-05-22T14:16:05.341Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T14:16:05.341Z: Received sensor data: {"temperature":22.1,"humidity":65.3}
2025-05-22T14:16:05.341Z: Formatted events: [{"name":"living room temperature","value":22.1,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":65.3,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T14:16:05.341Z: Successfully updated event: living room temperature = 22.1
2025-05-22T14:16:05.341Z: Successfully updated event: living room humidity = 65.3
2025-05-22T14:16:05.954Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":22.1,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":65.3,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-22T14:16:05.954Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T14:16:05.954Z: Received motion sensor data: {"motionDetected":false}
2025-05-22T14:16:05.954Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T14:16:05.954Z: Successfully updated motion event: living room motion = false
2025-05-22T14:16:06.112Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-22T14:16:07.004Z: AC state is: {"mode":"cool","on":true,"targetTemperature":21,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-22T14:16:07.442726Z"}}
2025-05-22T14:16:07.005Z: Extracted AC on state: true, target temperature: 21 , target mode: cool 
2025-05-22T14:16:07.359Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":false},"success":true}
2025-05-22T14:16:07.360Z: Extracted light state: false
2025-05-22T14:16:07.361Z: Creating a combined row with motion=false, temp=22.1, humidity=65.3, light=false, ac_on=true, target_temp=21
2025-05-22T14:16:07.361Z: logSensorData called with 7 sensors
2025-05-22T14:16:07.361Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-22T14:16:07.361Z: Setting spaceId column 8 to 41413915
2025-05-22T14:16:07.361Z: Setting column 3 (living room motion) to false
2025-05-22T14:16:07.361Z: Setting column 1 (living room temperature) to 22.1
2025-05-22T14:16:07.361Z: Setting column 2 (living room humidity) to 65.3
2025-05-22T14:16:07.361Z: Setting column 4 (light_state) to false
2025-05-22T14:16:07.361Z: Setting column 5 (ac_state) to true
2025-05-22T14:16:07.361Z: Setting column 6 (targetTemperature) to 21
2025-05-22T14:16:07.361Z: WARNING - Unknown sensor name: targetACMode, not in column map
2025-05-22T14:16:07.361Z: Preparing row: 2025-05-22 14:16:07,22.1,65.3,false,false,true,21,,41413915
2025-05-22T14:16:07.361Z: Successfully wrote to log file using writeFileSync
2025-05-22T14:16:07.361Z: Successfully logged combined sensor data in one row with target temperature: 21
2025-05-22T14:16:07.366Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T14:16:07.366Z: Polling interval active: true
2025-05-22T14:17:45.347Z: Polling for sensor data... (poll #3)
2025-05-22T14:17:45.348Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T14:17:45.348Z: Received sensor data: {"temperature":22,"humidity":65.6}
2025-05-22T14:17:45.348Z: Formatted events: [{"name":"living room temperature","value":22,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":65.6,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T14:17:45.348Z: Successfully updated event: living room temperature = 22
2025-05-22T14:17:45.348Z: Successfully updated event: living room humidity = 65.6
2025-05-22T14:17:45.911Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":22,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":65.6,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-22T14:17:45.912Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T14:17:45.912Z: Received motion sensor data: {"motionDetected":false}
2025-05-22T14:17:45.912Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T14:17:45.912Z: Successfully updated motion event: living room motion = false
2025-05-22T14:17:46.081Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-22T14:17:46.614Z: AC state is: {"mode":"cool","on":true,"targetTemperature":21,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-22T14:17:47.353763Z"}}
2025-05-22T14:17:46.615Z: Extracted AC on state: true, target temperature: 21 , target mode: cool 
2025-05-22T14:17:46.965Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":false},"success":true}
2025-05-22T14:17:46.966Z: Extracted light state: false
2025-05-22T14:17:46.966Z: Creating a combined row with motion=false, temp=22, humidity=65.6, light=false, ac_on=true, target_temp=21
2025-05-22T14:17:46.967Z: logSensorData called with 7 sensors
2025-05-22T14:17:46.967Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-22T14:17:46.967Z: Setting spaceId column 8 to 41413915
2025-05-22T14:17:46.967Z: Setting column 3 (living room motion) to false
2025-05-22T14:17:46.967Z: Setting column 1 (living room temperature) to 22
2025-05-22T14:17:46.967Z: Setting column 2 (living room humidity) to 65.6
2025-05-22T14:17:46.967Z: Setting column 4 (light_state) to false
2025-05-22T14:17:46.967Z: Setting column 5 (ac_state) to true
2025-05-22T14:17:46.967Z: Setting column 6 (targetTemperature) to 21
2025-05-22T14:17:46.967Z: WARNING - Unknown sensor name: targetACMode, not in column map
2025-05-22T14:17:46.967Z: Preparing row: 2025-05-22 14:17:46,22,65.6,false,false,true,21,,41413915
2025-05-22T14:17:46.967Z: Successfully wrote to log file using writeFileSync
2025-05-22T14:17:46.966Z: Successfully logged combined sensor data in one row with target temperature: 21
2025-05-22T14:17:46.971Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T14:17:46.971Z: Polling interval active: true
2025-05-22T14:19:25.354Z: Polling for sensor data... (poll #4)
2025-05-22T14:19:25.356Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T14:19:25.356Z: Received sensor data: {"temperature":21.9,"humidity":65.3}
2025-05-22T14:19:25.356Z: Formatted events: [{"name":"living room temperature","value":21.9,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":65.3,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T14:19:25.356Z: Successfully updated event: living room temperature = 21.9
2025-05-22T14:19:25.356Z: Successfully updated event: living room humidity = 65.3
2025-05-22T14:19:25.931Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":21.9,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":65.3,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-22T14:19:25.931Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T14:19:25.931Z: Received motion sensor data: {"motionDetected":false}
2025-05-22T14:19:25.931Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T14:19:25.931Z: Successfully updated motion event: living room motion = false
2025-05-22T14:19:26.081Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-22T14:19:26.686Z: AC state is: {"mode":"cool","on":true,"targetTemperature":21,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-22T14:19:27.421930Z"}}
2025-05-22T14:19:26.687Z: Extracted AC on state: true, target temperature: 21 , target mode: cool 
2025-05-22T14:19:27.032Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":false},"success":true}
2025-05-22T14:19:27.033Z: Extracted light state: false
2025-05-22T14:19:27.033Z: Creating a combined row with motion=false, temp=21.9, humidity=65.3, light=false, ac_on=true, target_temp=21
2025-05-22T14:19:27.033Z: logSensorData called with 7 sensors
2025-05-22T14:19:27.033Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-22T14:19:27.033Z: Setting spaceId column 8 to 41413915
2025-05-22T14:19:27.033Z: Setting column 3 (living room motion) to false
2025-05-22T14:19:27.033Z: Setting column 1 (living room temperature) to 21.9
2025-05-22T14:19:27.033Z: Setting column 2 (living room humidity) to 65.3
2025-05-22T14:19:27.033Z: Setting column 4 (light_state) to false
2025-05-22T14:19:27.033Z: Setting column 5 (ac_state) to true
2025-05-22T14:19:27.033Z: Setting column 6 (targetTemperature) to 21
2025-05-22T14:19:27.033Z: WARNING - Unknown sensor name: targetACMode, not in column map
2025-05-22T14:19:27.033Z: Preparing row: 2025-05-22 14:19:27,21.9,65.3,false,false,true,21,,41413915
2025-05-22T14:19:27.033Z: Successfully wrote to log file using writeFileSync
2025-05-22T14:19:27.033Z: Successfully logged combined sensor data in one row with target temperature: 21
2025-05-22T14:19:27.036Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T14:19:27.036Z: Polling interval active: true
2025-05-22T14:39:22.019Z: Initializing sensor logging service
2025-05-22T14:39:22.019Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-22T14:39:22.021Z: Added light_state column to event names
2025-05-22T14:39:22.021Z: Added ac_state column to event names
2025-05-22T14:39:22.021Z: Added ac_state column to event names
2025-05-22T14:39:22.022Z: Added targetAcMode column to event names
2025-05-22T14:39:22.022Z: Using existing log file
2025-05-22T14:39:22.024Z: Initializing sensor logging service
2025-05-22T14:39:22.024Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-22T14:39:22.024Z: Added light_state column to event names
2025-05-22T14:39:22.024Z: Added ac_state column to event names
2025-05-22T14:39:22.025Z: Added ac_state column to event names
2025-05-22T14:39:22.025Z: Added targetAcMode column to event names
2025-05-22T14:39:22.025Z: Using existing log file
2025-05-22T14:39:22.027Z: Logging enabled
2025-05-22T14:39:22.027Z: No polling was active to stop
2025-05-22T14:39:22.027Z: Closing existing log stream before creating new one
2025-05-22T14:39:22.028Z: Logging enabled
2025-05-22T14:39:22.028Z: No polling was active to stop
2025-05-22T14:39:22.029Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-05-22T14:39:22.029Z: Polling interval set with ID: 955
2025-05-22T14:39:22.030Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T14:39:22.030Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T14:39:22.034Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-05-22T14:39:22.034Z: Clearing existing polling interval
2025-05-22T14:39:22.034Z: Polling interval set with ID: 969
2025-05-22T14:39:22.034Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T14:39:22.035Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T14:39:22.030Z: Received motion sensor data: {"motionDetected":true}
2025-05-22T14:39:22.030Z: Formatted motion sensor events: [{"name":"living room motion","value":true,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T14:39:22.030Z: Successfully updated motion event: living room motion = true
2025-05-22T14:39:22.035Z: Received motion sensor data: {"motionDetected":true}
2025-05-22T14:39:22.035Z: Formatted motion sensor events: [{"name":"living room motion","value":true,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T14:39:22.035Z: Successfully updated motion event: living room motion = true
2025-05-22T14:39:22.030Z: Received sensor data: {"temperature":21.4,"humidity":66.3}
2025-05-22T14:39:22.030Z: Formatted events: [{"name":"living room temperature","value":21.4,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":66.3,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T14:39:22.030Z: Successfully updated event: living room temperature = 21.4
2025-05-22T14:39:22.030Z: Successfully updated event: living room humidity = 66.3
2025-05-22T14:39:22.899Z: Initial poll - AC on: true, target temp: 21, target mode: cool
2025-05-22T14:39:22.899Z: Creating a combined row with motion=true, temp=21.4, humidity=66.3, light=false, ac_on=true, target_temp=21, target_mode=cool
2025-05-22T14:39:22.900Z: logSensorData called with 7 sensors
2025-05-22T14:39:22.900Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-22T14:39:22.900Z: Setting spaceId column 8 to 41413915
2025-05-22T14:39:22.900Z: Setting column 3 (living room motion) to true
2025-05-22T14:39:22.900Z: Setting column 1 (living room temperature) to 21.4
2025-05-22T14:39:22.900Z: Setting column 2 (living room humidity) to 66.3
2025-05-22T14:39:22.900Z: Setting column 4 (light_state) to false
2025-05-22T14:39:22.900Z: Setting column 5 (ac_state) to true
2025-05-22T14:39:22.900Z: Setting column 6 (targetTemperature) to 21
2025-05-22T14:39:22.900Z: WARNING - Unknown sensor name: targetACMode, not in column map
2025-05-22T14:39:22.900Z: Preparing row: 2025-05-22 14:39:22,21.4,66.3,true,false,true,21,,41413915
2025-05-22T14:39:22.900Z: Successfully wrote to log file using writeFileSync
2025-05-22T14:39:22.899Z: Successfully logged combined sensor data in one row with target temperature: 21 and target mode: cool
2025-05-22T14:39:22.903Z: Initial combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T14:39:22.034Z: Received sensor data: {"temperature":21.4,"humidity":66.3}
2025-05-22T14:39:22.034Z: Formatted events: [{"name":"living room temperature","value":21.4,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":66.3,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T14:39:22.034Z: Successfully updated event: living room temperature = 21.4
2025-05-22T14:39:22.034Z: Successfully updated event: living room humidity = 66.3
2025-05-22T14:39:23.774Z: Initial poll - AC on: true, target temp: 21, target mode: cool
2025-05-22T14:39:23.774Z: Creating a combined row with motion=true, temp=21.4, humidity=66.3, light=false, ac_on=true, target_temp=21, target_mode=cool
2025-05-22T14:39:23.774Z: logSensorData called with 7 sensors
2025-05-22T14:39:23.774Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-22T14:39:23.774Z: Setting spaceId column 8 to 41413915
2025-05-22T14:39:23.774Z: Setting column 3 (living room motion) to true
2025-05-22T14:39:23.774Z: Setting column 1 (living room temperature) to 21.4
2025-05-22T14:39:23.774Z: Setting column 2 (living room humidity) to 66.3
2025-05-22T14:39:23.774Z: Setting column 4 (light_state) to false
2025-05-22T14:39:23.774Z: Setting column 5 (ac_state) to true
2025-05-22T14:39:23.774Z: Setting column 6 (targetTemperature) to 21
2025-05-22T14:39:23.774Z: WARNING - Unknown sensor name: targetACMode, not in column map
2025-05-22T14:39:23.774Z: Preparing row: 2025-05-22 14:39:23,21.4,66.3,true,false,true,21,,41413915
2025-05-22T14:39:23.774Z: Successfully wrote to log file using writeFileSync
2025-05-22T14:39:23.774Z: Successfully logged combined sensor data in one row with target temperature: 21 and target mode: cool
2025-05-22T14:39:23.777Z: Initial combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T14:40:34.821Z: Initializing sensor logging service
2025-05-22T14:40:34.821Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-22T14:40:34.822Z: Added light_state column to event names
2025-05-22T14:40:34.822Z: Added ac_state column to event names
2025-05-22T14:40:34.823Z: Added ac_state column to event names
2025-05-22T14:40:34.823Z: Added targetAcMode column to event names
2025-05-22T14:40:34.823Z: Using existing log file
2025-05-22T14:40:34.824Z: Logging enabled
2025-05-22T14:40:34.825Z: No polling was active to stop
2025-05-22T14:40:34.826Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-05-22T14:40:34.826Z: Polling interval set with ID: 927
2025-05-22T14:40:34.827Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T14:40:34.828Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T14:40:34.857Z: Initializing sensor logging service
2025-05-22T14:40:34.857Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-22T14:40:34.858Z: Added light_state column to event names
2025-05-22T14:40:34.858Z: Added ac_state column to event names
2025-05-22T14:40:34.859Z: Added ac_state column to event names
2025-05-22T14:40:34.859Z: Added targetAcMode column to event names
2025-05-22T14:40:34.859Z: Using existing log file
2025-05-22T14:40:34.860Z: Closing existing log stream before creating new one
2025-05-22T14:40:34.861Z: Logging enabled
2025-05-22T14:40:34.861Z: Stopping sensor polling interval: 927
2025-05-22T14:40:34.861Z: Closing logging service
2025-05-22T14:40:34.862Z: Closing sensor logging service
2025-05-22T14:40:34.862Z: Closing log stream
2025-05-22T14:40:34.862Z: Logging stopped at 2025-05-22T14:40:34.862Z
2025-05-22T14:40:34.863Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-05-22T14:40:34.863Z: Polling interval set with ID: 1026
2025-05-22T14:40:34.864Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T14:40:34.864Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T14:40:34.828Z: Received motion sensor data: {"motionDetected":false}
2025-05-22T14:40:34.828Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T14:40:34.828Z: Successfully updated motion event: living room motion = false
2025-05-22T14:40:34.864Z: Received motion sensor data: {"motionDetected":false}
2025-05-22T14:40:34.864Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T14:40:34.864Z: Successfully updated motion event: living room motion = false
2025-05-22T14:40:34.827Z: Received sensor data: {"temperature":21.4,"humidity":66.7}
2025-05-22T14:40:34.827Z: Formatted events: [{"name":"living room temperature","value":21.4,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":66.7,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T14:40:34.827Z: Successfully updated event: living room temperature = 21.4
2025-05-22T14:40:34.827Z: Successfully updated event: living room humidity = 66.7
2025-05-22T14:40:35.586Z: Initial poll - AC on: true, target temp: 21, target mode: cool
2025-05-22T14:40:35.587Z: Creating a combined row with motion=false, temp=21.4, humidity=66.7, light=false, ac_on=true, target_temp=21, target_mode=cool
2025-05-22T14:40:35.587Z: logSensorData called with 7 sensors
2025-05-22T14:40:35.587Z: WARNING - Logging is disabled but logSensorData was called
2025-05-22T14:40:35.587Z: Attempting to re-initialize logging with existing events
2025-05-22T14:40:35.588Z: Initializing sensor logging service
2025-05-22T14:40:35.588Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-22T14:40:35.589Z: Using existing log file
2025-05-22T14:40:35.587Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-22T14:40:35.587Z: Setting spaceId column 8 to 41413915
2025-05-22T14:40:35.587Z: Setting column 3 (living room motion) to false
2025-05-22T14:40:35.587Z: Setting column 1 (living room temperature) to 21.4
2025-05-22T14:40:35.587Z: Setting column 2 (living room humidity) to 66.7
2025-05-22T14:40:35.587Z: Setting column 4 (light_state) to false
2025-05-22T14:40:35.587Z: Setting column 5 (ac_state) to true
2025-05-22T14:40:35.587Z: Setting column 6 (targetTemperature) to 21
2025-05-22T14:40:35.587Z: Setting column 7 (targetAcMode) to cool
2025-05-22T14:40:35.587Z: Preparing row: 2025-05-22 14:40:35,21.4,66.7,false,false,true,21,cool,41413915
2025-05-22T14:40:35.587Z: Successfully wrote to log file using writeFileSync
2025-05-22T14:40:35.587Z: Successfully logged combined sensor data in one row with target temperature: 21 and target mode: cool
2025-05-22T14:40:35.592Z: Initial combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T14:40:35.593Z: Logging enabled
2025-05-22T14:40:35.587Z: Re-initialization result: {"success":true,"message":"Sensor logging initialized to C:\\Users\\amin\\Desktop\\smart-space\\SmartSchool-Server\\logs\\sensor_data.csv","columns":[["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]}
2025-05-22T14:40:34.864Z: Received sensor data: {"temperature":21.4,"humidity":66.7}
2025-05-22T14:40:34.864Z: Formatted events: [{"name":"living room temperature","value":21.4,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":66.7,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T14:40:34.864Z: Successfully updated event: living room temperature = 21.4
2025-05-22T14:40:34.864Z: Successfully updated event: living room humidity = 66.7
2025-05-22T14:40:35.698Z: Initial poll - AC on: true, target temp: 21, target mode: cool
2025-05-22T14:40:35.699Z: Creating a combined row with motion=false, temp=21.4, humidity=66.7, light=false, ac_on=true, target_temp=21, target_mode=cool
2025-05-22T14:40:35.699Z: logSensorData called with 7 sensors
2025-05-22T14:40:35.699Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-22T14:40:35.699Z: Setting spaceId column 8 to 41413915
2025-05-22T14:40:35.699Z: Setting column 3 (living room motion) to false
2025-05-22T14:40:35.699Z: Setting column 1 (living room temperature) to 21.4
2025-05-22T14:40:35.699Z: Setting column 2 (living room humidity) to 66.7
2025-05-22T14:40:35.699Z: Setting column 4 (light_state) to false
2025-05-22T14:40:35.699Z: Setting column 5 (ac_state) to true
2025-05-22T14:40:35.699Z: Setting column 6 (targetTemperature) to 21
2025-05-22T14:40:35.699Z: Setting column 7 (targetAcMode) to cool
2025-05-22T14:40:35.699Z: Preparing row: 2025-05-22 14:40:35,21.4,66.7,false,false,true,21,cool,41413915
2025-05-22T14:40:35.699Z: Successfully wrote to log file using writeFileSync
2025-05-22T14:40:35.699Z: Successfully logged combined sensor data in one row with target temperature: 21 and target mode: cool
2025-05-22T14:40:35.702Z: Initial combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T14:44:54.592Z: Initializing sensor logging service
2025-05-22T14:44:54.592Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-22T14:44:54.593Z: Added light_state column to event names
2025-05-22T14:44:54.594Z: Added ac_state column to event names
2025-05-22T14:44:54.594Z: Added ac_state column to event names
2025-05-22T14:44:54.594Z: Added targetAcMode column to event names
2025-05-22T14:44:54.595Z: Using existing log file
2025-05-22T14:44:54.597Z: Logging enabled
2025-05-22T14:44:54.597Z: No polling was active to stop
2025-05-22T14:44:54.599Z: Initializing sensor logging service
2025-05-22T14:44:54.599Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-22T14:44:54.600Z: Added light_state column to event names
2025-05-22T14:44:54.600Z: Added ac_state column to event names
2025-05-22T14:44:54.600Z: Added ac_state column to event names
2025-05-22T14:44:54.601Z: Added targetAcMode column to event names
2025-05-22T14:44:54.601Z: Using existing log file
2025-05-22T14:44:54.602Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-05-22T14:44:54.602Z: Polling interval set with ID: 946
2025-05-22T14:44:54.603Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T14:44:54.604Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T14:44:54.617Z: Closing existing log stream before creating new one
2025-05-22T14:44:54.617Z: Logging enabled
2025-05-22T14:44:54.617Z: Stopping sensor polling interval: 946
2025-05-22T14:44:54.617Z: Closing logging service
2025-05-22T14:44:54.618Z: Closing sensor logging service
2025-05-22T14:44:54.618Z: Closing log stream
2025-05-22T14:44:54.618Z: Logging stopped at 2025-05-22T14:44:54.618Z
2025-05-22T14:44:54.620Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-05-22T14:44:54.620Z: Polling interval set with ID: 1033
2025-05-22T14:44:54.620Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T14:44:54.621Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T14:44:54.621Z: Received motion sensor data: {"motionDetected":true}
2025-05-22T14:44:54.621Z: Formatted motion sensor events: [{"name":"living room motion","value":true,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T14:44:54.621Z: Successfully updated motion event: living room motion = true
2025-05-22T14:44:54.604Z: Received motion sensor data: {"motionDetected":true}
2025-05-22T14:44:54.604Z: Formatted motion sensor events: [{"name":"living room motion","value":true,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T14:44:54.604Z: Successfully updated motion event: living room motion = true
2025-05-22T14:44:54.603Z: Received sensor data: {"temperature":21.5,"humidity":68.6}
2025-05-22T14:44:54.603Z: Formatted events: [{"name":"living room temperature","value":21.5,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":68.6,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T14:44:54.603Z: Successfully updated event: living room temperature = 21.5
2025-05-22T14:44:54.603Z: Successfully updated event: living room humidity = 68.6
2025-05-22T14:44:54.620Z: Received sensor data: {"temperature":21.5,"humidity":68.6}
2025-05-22T14:44:54.620Z: Formatted events: [{"name":"living room temperature","value":21.5,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":68.6,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T14:44:54.620Z: Successfully updated event: living room temperature = 21.5
2025-05-22T14:44:54.620Z: Successfully updated event: living room humidity = 68.6
2025-05-22T14:44:55.438Z: Initial poll - AC on: true, target temp: 20, target mode: cool
2025-05-22T14:44:55.438Z: Creating a combined row with motion=true, temp=21.5, humidity=68.6, light=false, ac_on=true, target_temp=20, target_mode=cool
2025-05-22T14:44:55.439Z: logSensorData called with 7 sensors
2025-05-22T14:44:55.439Z: WARNING - Logging is disabled but logSensorData was called
2025-05-22T14:44:55.439Z: Attempting to re-initialize logging with existing events
2025-05-22T14:44:55.439Z: Initializing sensor logging service
2025-05-22T14:44:55.440Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-22T14:44:55.441Z: Using existing log file
2025-05-22T14:44:55.439Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-22T14:44:55.439Z: Setting spaceId column 8 to 41413915
2025-05-22T14:44:55.439Z: Setting column 3 (living room motion) to true
2025-05-22T14:44:55.439Z: Setting column 1 (living room temperature) to 21.5
2025-05-22T14:44:55.439Z: Setting column 2 (living room humidity) to 68.6
2025-05-22T14:44:55.439Z: Setting column 4 (light_state) to false
2025-05-22T14:44:55.439Z: Setting column 5 (ac_state) to true
2025-05-22T14:44:55.439Z: Setting column 6 (targetTemperature) to 20
2025-05-22T14:44:55.439Z: Setting column 7 (targetAcMode) to cool
2025-05-22T14:44:55.439Z: Preparing row: 2025-05-22 14:44:55,21.5,68.6,true,false,true,20,cool,41413915
2025-05-22T14:44:55.439Z: Successfully wrote to log file using writeFileSync
2025-05-22T14:44:55.438Z: Successfully logged combined sensor data in one row with target temperature: 20 and target mode: cool
2025-05-22T14:44:55.444Z: Initial combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T14:44:55.444Z: Logging enabled
2025-05-22T14:44:55.439Z: Re-initialization result: {"success":true,"message":"Sensor logging initialized to C:\\Users\\amin\\Desktop\\smart-space\\SmartSchool-Server\\logs\\sensor_data.csv","columns":[["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]}
2025-05-22T14:44:55.523Z: Initial poll - AC on: true, target temp: 20, target mode: cool
2025-05-22T14:44:55.523Z: Creating a combined row with motion=true, temp=21.5, humidity=68.6, light=false, ac_on=true, target_temp=20, target_mode=cool
2025-05-22T14:44:55.523Z: logSensorData called with 7 sensors
2025-05-22T14:44:55.523Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-22T14:44:55.523Z: Setting spaceId column 8 to 41413915
2025-05-22T14:44:55.523Z: Setting column 3 (living room motion) to true
2025-05-22T14:44:55.523Z: Setting column 1 (living room temperature) to 21.5
2025-05-22T14:44:55.523Z: Setting column 2 (living room humidity) to 68.6
2025-05-22T14:44:55.523Z: Setting column 4 (light_state) to false
2025-05-22T14:44:55.523Z: Setting column 5 (ac_state) to true
2025-05-22T14:44:55.523Z: Setting column 6 (targetTemperature) to 20
2025-05-22T14:44:55.523Z: Setting column 7 (targetAcMode) to cool
2025-05-22T14:44:55.523Z: Preparing row: 2025-05-22 14:44:55,21.5,68.6,true,false,true,20,cool,41413915
2025-05-22T14:44:55.523Z: Successfully wrote to log file using writeFileSync
2025-05-22T14:44:55.523Z: Successfully logged combined sensor data in one row with target temperature: 20 and target mode: cool
2025-05-22T14:44:55.526Z: Initial combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T14:46:34.630Z: Polling for sensor data... (poll #1)
2025-05-22T14:46:34.632Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T14:46:34.632Z: Received sensor data: {"temperature":21.6,"humidity":68.7}
2025-05-22T14:46:34.632Z: Formatted events: [{"name":"living room temperature","value":21.6,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":68.7,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T14:46:34.632Z: Successfully updated event: living room temperature = 21.6
2025-05-22T14:46:34.632Z: Successfully updated event: living room humidity = 68.7
2025-05-22T14:46:35.255Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":21.6,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":68.7,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-22T14:46:35.255Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T14:46:35.255Z: Received motion sensor data: {"motionDetected":false}
2025-05-22T14:46:35.255Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T14:46:35.255Z: Successfully updated motion event: living room motion = false
2025-05-22T14:46:35.402Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-22T14:46:35.947Z: AC state is: {"mode":"cool","on":true,"targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-22T14:46:36.741503Z"}}
2025-05-22T14:46:35.947Z: Extracted AC on state: true, target temperature: 20, target mode: cool
2025-05-22T14:46:36.322Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":false},"success":true}
2025-05-22T14:46:36.324Z: Extracted light state: false
2025-05-22T14:46:36.324Z: Creating a combined row with motion=false, temp=21.6, humidity=68.7, light=false, ac_on=true, target_temp=20, target_mode=cool
2025-05-22T14:46:36.325Z: logSensorData called with 7 sensors
2025-05-22T14:46:36.325Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-22T14:46:36.325Z: Setting spaceId column 8 to 41413915
2025-05-22T14:46:36.325Z: Setting column 3 (living room motion) to false
2025-05-22T14:46:36.325Z: Setting column 1 (living room temperature) to 21.6
2025-05-22T14:46:36.325Z: Setting column 2 (living room humidity) to 68.7
2025-05-22T14:46:36.325Z: Setting column 4 (light_state) to false
2025-05-22T14:46:36.325Z: Setting column 5 (ac_state) to true
2025-05-22T14:46:36.325Z: Setting column 6 (targetTemperature) to 20
2025-05-22T14:46:36.325Z: Setting column 7 (targetAcMode) to cool
2025-05-22T14:46:36.325Z: Preparing row: 2025-05-22 14:46:36,21.6,68.7,false,false,true,20,cool,41413915
2025-05-22T14:46:36.325Z: Successfully wrote to log file using writeFileSync
2025-05-22T14:46:36.324Z: Successfully logged combined sensor data in one row with target temperature: 20 and target mode: cool
2025-05-22T14:46:36.329Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T14:46:36.329Z: Polling interval active: true
2025-05-22T14:51:39.635Z: Initializing sensor logging service
2025-05-22T14:51:39.636Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-22T14:51:39.636Z: Added light_state column to event names
2025-05-22T14:51:39.637Z: Added ac_state column to event names
2025-05-22T14:51:39.638Z: Added ac_state column to event names
2025-05-22T14:51:39.638Z: Added targetAcMode column to event names
2025-05-22T14:51:39.639Z: Using existing log file
2025-05-22T14:51:39.640Z: Logging enabled
2025-05-22T14:51:39.641Z: No polling was active to stop
2025-05-22T14:51:39.642Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-05-22T14:51:39.642Z: Polling interval set with ID: 1007
2025-05-22T14:51:39.643Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T14:51:39.644Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T14:51:39.649Z: Initializing sensor logging service
2025-05-22T14:51:39.650Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-22T14:51:39.650Z: Added light_state column to event names
2025-05-22T14:51:39.650Z: Added ac_state column to event names
2025-05-22T14:51:39.651Z: Added ac_state column to event names
2025-05-22T14:51:39.651Z: Added targetAcMode column to event names
2025-05-22T14:51:39.651Z: Using existing log file
2025-05-22T14:51:39.663Z: Closing existing log stream before creating new one
2025-05-22T14:51:39.663Z: Logging enabled
2025-05-22T14:51:39.664Z: Stopping sensor polling interval: 1007
2025-05-22T14:51:39.664Z: Closing logging service
2025-05-22T14:51:39.664Z: Closing sensor logging service
2025-05-22T14:51:39.664Z: Closing log stream
2025-05-22T14:51:39.664Z: Logging stopped at 2025-05-22T14:51:39.664Z
2025-05-22T14:51:39.666Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-05-22T14:51:39.666Z: Polling interval set with ID: 1110
2025-05-22T14:51:39.666Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T14:51:39.667Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T14:51:39.644Z: Received motion sensor data: {"motionDetected":true}
2025-05-22T14:51:39.644Z: Formatted motion sensor events: [{"name":"living room motion","value":true,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T14:51:39.644Z: Successfully updated motion event: living room motion = true
2025-05-22T14:51:39.667Z: Received motion sensor data: {"motionDetected":true}
2025-05-22T14:51:39.667Z: Formatted motion sensor events: [{"name":"living room motion","value":true,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T14:51:39.667Z: Successfully updated motion event: living room motion = true
2025-05-22T14:51:39.643Z: Received sensor data: {"temperature":21.7,"humidity":66.8}
2025-05-22T14:51:39.643Z: Formatted events: [{"name":"living room temperature","value":21.7,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":66.8,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T14:51:39.643Z: Successfully updated event: living room temperature = 21.7
2025-05-22T14:51:39.643Z: Successfully updated event: living room humidity = 66.8
2025-05-22T14:51:39.666Z: Received sensor data: {"temperature":21.7,"humidity":66.8}
2025-05-22T14:51:39.666Z: Formatted events: [{"name":"living room temperature","value":21.7,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":66.8,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T14:51:39.666Z: Successfully updated event: living room temperature = 21.7
2025-05-22T14:51:39.666Z: Successfully updated event: living room humidity = 66.8
2025-05-22T14:51:40.508Z: Initial poll - AC on: true, target temp: 20, target mode: cool
2025-05-22T14:51:40.508Z: Creating a combined row with motion=true, temp=21.7, humidity=66.8, light=false, ac_on=true, target_temp=20, target_mode=cool
2025-05-22T14:51:40.509Z: logSensorData called with 7 sensors
2025-05-22T14:51:40.509Z: WARNING - Logging is disabled but logSensorData was called
2025-05-22T14:51:40.509Z: Attempting to re-initialize logging with existing events
2025-05-22T14:51:40.509Z: Initializing sensor logging service
2025-05-22T14:51:40.509Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-22T14:51:40.510Z: Using existing log file
2025-05-22T14:51:40.509Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-22T14:51:40.509Z: Setting spaceId column 8 to 41413915
2025-05-22T14:51:40.509Z: Setting column 3 (living room motion) to true
2025-05-22T14:51:40.509Z: Setting column 1 (living room temperature) to 21.7
2025-05-22T14:51:40.509Z: Setting column 2 (living room humidity) to 66.8
2025-05-22T14:51:40.509Z: Setting column 4 (light_state) to false
2025-05-22T14:51:40.509Z: Setting column 5 (ac_state) to true
2025-05-22T14:51:40.509Z: Setting column 6 (targetTemperature) to 20
2025-05-22T14:51:40.509Z: Setting column 7 (targetAcMode) to cool
2025-05-22T14:51:40.509Z: Preparing row: 2025-05-22 14:51:40,21.7,66.8,true,false,true,20,cool,41413915
2025-05-22T14:51:40.509Z: Successfully wrote to log file using writeFileSync
2025-05-22T14:51:40.508Z: Successfully logged combined sensor data in one row with target temperature: 20 and target mode: cool
2025-05-22T14:51:40.513Z: Initial combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T14:51:40.514Z: Logging enabled
2025-05-22T14:51:40.509Z: Re-initialization result: {"success":true,"message":"Sensor logging initialized to C:\\Users\\amin\\Desktop\\smart-space\\SmartSchool-Server\\logs\\sensor_data.csv","columns":[["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]}
2025-05-22T14:51:40.561Z: Initial poll - AC on: true, target temp: 20, target mode: cool
2025-05-22T14:51:40.561Z: Creating a combined row with motion=true, temp=21.7, humidity=66.8, light=false, ac_on=true, target_temp=20, target_mode=cool
2025-05-22T14:51:40.562Z: logSensorData called with 7 sensors
2025-05-22T14:51:40.562Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-22T14:51:40.562Z: Setting spaceId column 8 to 41413915
2025-05-22T14:51:40.562Z: Setting column 3 (living room motion) to true
2025-05-22T14:51:40.562Z: Setting column 1 (living room temperature) to 21.7
2025-05-22T14:51:40.562Z: Setting column 2 (living room humidity) to 66.8
2025-05-22T14:51:40.562Z: Setting column 4 (light_state) to false
2025-05-22T14:51:40.562Z: Setting column 5 (ac_state) to true
2025-05-22T14:51:40.562Z: Setting column 6 (targetTemperature) to 20
2025-05-22T14:51:40.562Z: Setting column 7 (targetAcMode) to cool
2025-05-22T14:51:40.562Z: Preparing row: 2025-05-22 14:51:40,21.7,66.8,true,false,true,20,cool,41413915
2025-05-22T14:51:40.562Z: Successfully wrote to log file using writeFileSync
2025-05-22T14:51:40.561Z: Successfully logged combined sensor data in one row with target temperature: 20 and target mode: cool
2025-05-22T14:51:40.566Z: Initial combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T14:53:19.667Z: Polling for sensor data... (poll #1)
2025-05-22T14:53:19.669Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T14:53:19.669Z: Received sensor data: {"temperature":21.6,"humidity":66.5}
2025-05-22T14:53:19.669Z: Formatted events: [{"name":"living room temperature","value":21.6,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":66.5,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T14:53:19.669Z: Successfully updated event: living room temperature = 21.6
2025-05-22T14:53:19.669Z: Successfully updated event: living room humidity = 66.5
2025-05-22T14:53:20.306Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":21.6,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":66.5,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-22T14:53:20.306Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T14:53:20.306Z: Received motion sensor data: {"motionDetected":true}
2025-05-22T14:53:20.306Z: Formatted motion sensor events: [{"name":"living room motion","value":true,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T14:53:20.306Z: Successfully updated motion event: living room motion = true
2025-05-22T14:53:20.460Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":true,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-22T14:53:21.116Z: AC state is: {"mode":"cool","on":true,"targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-22T14:53:21.910241Z"}}
2025-05-22T14:53:21.117Z: Extracted AC on state: true, target temperature: 20, target mode: cool
2025-05-22T14:53:21.449Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":false},"success":true}
2025-05-22T14:53:21.449Z: Extracted light state: false
2025-05-22T14:53:21.450Z: Creating a combined row with motion=true, temp=21.6, humidity=66.5, light=false, ac_on=true, target_temp=20, target_mode=cool
2025-05-22T14:53:21.451Z: logSensorData called with 7 sensors
2025-05-22T14:53:21.451Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-22T14:53:21.451Z: Setting spaceId column 8 to 41413915
2025-05-22T14:53:21.451Z: Setting column 3 (living room motion) to true
2025-05-22T14:53:21.451Z: Setting column 1 (living room temperature) to 21.6
2025-05-22T14:53:21.451Z: Setting column 2 (living room humidity) to 66.5
2025-05-22T14:53:21.451Z: Setting column 4 (light_state) to false
2025-05-22T14:53:21.451Z: Setting column 5 (ac_state) to true
2025-05-22T14:53:21.451Z: Setting column 6 (targetTemperature) to 20
2025-05-22T14:53:21.451Z: Setting column 7 (targetAcMode) to cool
2025-05-22T14:53:21.451Z: Preparing row: 2025-05-22 14:53:21,21.6,66.5,true,false,true,20,cool,41413915
2025-05-22T14:53:21.451Z: Successfully wrote to log file using writeFileSync
2025-05-22T14:53:21.450Z: Successfully logged combined sensor data in one row with target temperature: 20 and target mode: cool
2025-05-22T14:53:21.454Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T14:53:21.454Z: Polling interval active: true
2025-05-22T14:54:59.680Z: Polling for sensor data... (poll #2)
2025-05-22T14:54:59.681Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T14:54:59.681Z: Received sensor data: {"temperature":21.7,"humidity":66.6}
2025-05-22T14:54:59.681Z: Formatted events: [{"name":"living room temperature","value":21.7,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":66.6,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T14:54:59.681Z: Successfully updated event: living room temperature = 21.7
2025-05-22T14:54:59.681Z: Successfully updated event: living room humidity = 66.6
2025-05-22T14:55:00.280Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":21.7,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":66.6,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-22T14:55:00.280Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T14:55:00.280Z: Received motion sensor data: {"motionDetected":false}
2025-05-22T14:55:00.280Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T14:55:00.280Z: Successfully updated motion event: living room motion = false
2025-05-22T14:55:00.427Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-22T14:55:01.022Z: AC state is: {"mode":"cool","on":true,"targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-22T14:55:01.828889Z"}}
2025-05-22T14:55:01.023Z: Extracted AC on state: true, target temperature: 20, target mode: cool
2025-05-22T14:55:01.384Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":false},"success":true}
2025-05-22T14:55:01.385Z: Extracted light state: false
2025-05-22T14:55:01.385Z: Creating a combined row with motion=false, temp=21.7, humidity=66.6, light=false, ac_on=true, target_temp=20, target_mode=cool
2025-05-22T14:55:01.386Z: logSensorData called with 7 sensors
2025-05-22T14:55:01.386Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-22T14:55:01.386Z: Setting spaceId column 8 to 41413915
2025-05-22T14:55:01.386Z: Setting column 3 (living room motion) to false
2025-05-22T14:55:01.386Z: Setting column 1 (living room temperature) to 21.7
2025-05-22T14:55:01.386Z: Setting column 2 (living room humidity) to 66.6
2025-05-22T14:55:01.386Z: Setting column 4 (light_state) to false
2025-05-22T14:55:01.386Z: Setting column 5 (ac_state) to true
2025-05-22T14:55:01.386Z: Setting column 6 (targetTemperature) to 20
2025-05-22T14:55:01.386Z: Setting column 7 (targetAcMode) to cool
2025-05-22T14:55:01.386Z: Preparing row: 2025-05-22 14:55:01,21.7,66.6,false,false,true,20,cool,41413915
2025-05-22T14:55:01.386Z: Successfully wrote to log file using writeFileSync
2025-05-22T14:55:01.385Z: Successfully logged combined sensor data in one row with target temperature: 20 and target mode: cool
2025-05-22T14:55:01.389Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T14:55:01.389Z: Polling interval active: true
2025-05-22T14:56:39.685Z: Polling for sensor data... (poll #3)
2025-05-22T14:56:39.686Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T14:56:39.686Z: Received sensor data: {"temperature":21.6,"humidity":66.1}
2025-05-22T14:56:39.686Z: Formatted events: [{"name":"living room temperature","value":21.6,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":66.1,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T14:56:39.686Z: Successfully updated event: living room temperature = 21.6
2025-05-22T14:56:39.686Z: Successfully updated event: living room humidity = 66.1
2025-05-22T14:56:40.272Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":21.6,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":66.1,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-22T14:56:40.273Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T14:56:40.273Z: Received motion sensor data: {"motionDetected":false}
2025-05-22T14:56:40.273Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T14:56:40.273Z: Successfully updated motion event: living room motion = false
2025-05-22T14:56:40.421Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-22T14:56:40.987Z: AC state is: {"mode":"cool","on":true,"targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-22T14:56:41.781606Z"}}
2025-05-22T14:56:40.987Z: Extracted AC on state: true, target temperature: 20, target mode: cool
2025-05-22T14:56:41.338Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":false},"success":true}
2025-05-22T14:56:41.339Z: Extracted light state: false
2025-05-22T14:56:41.340Z: Creating a combined row with motion=false, temp=21.6, humidity=66.1, light=false, ac_on=true, target_temp=20, target_mode=cool
2025-05-22T14:56:41.340Z: logSensorData called with 7 sensors
2025-05-22T14:56:41.340Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-22T14:56:41.340Z: Setting spaceId column 8 to 41413915
2025-05-22T14:56:41.340Z: Setting column 3 (living room motion) to false
2025-05-22T14:56:41.340Z: Setting column 1 (living room temperature) to 21.6
2025-05-22T14:56:41.340Z: Setting column 2 (living room humidity) to 66.1
2025-05-22T14:56:41.340Z: Setting column 4 (light_state) to false
2025-05-22T14:56:41.340Z: Setting column 5 (ac_state) to true
2025-05-22T14:56:41.340Z: Setting column 6 (targetTemperature) to 20
2025-05-22T14:56:41.340Z: Setting column 7 (targetAcMode) to cool
2025-05-22T14:56:41.340Z: Preparing row: 2025-05-22 14:56:41,21.6,66.1,false,false,true,20,cool,41413915
2025-05-22T14:56:41.340Z: Successfully wrote to log file using writeFileSync
2025-05-22T14:56:41.340Z: Successfully logged combined sensor data in one row with target temperature: 20 and target mode: cool
2025-05-22T14:56:41.343Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T14:56:41.344Z: Polling interval active: true
2025-05-22T14:57:22.310Z: Initializing sensor logging service
2025-05-22T14:57:22.312Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-22T14:57:22.314Z: Added light_state column to event names
2025-05-22T14:57:22.315Z: Added ac_state column to event names
2025-05-22T14:57:22.316Z: Added ac_state column to event names
2025-05-22T14:57:22.316Z: Added targetAcMode column to event names
2025-05-22T14:57:22.317Z: Using existing log file
2025-05-22T14:57:22.319Z: Logging enabled
2025-05-22T14:57:22.320Z: No polling was active to stop
2025-05-22T14:57:22.321Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-05-22T14:57:22.321Z: Polling interval set with ID: 930
2025-05-22T14:57:22.322Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T14:57:22.323Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T14:57:22.383Z: Initializing sensor logging service
2025-05-22T14:57:22.384Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-22T14:57:22.384Z: Added light_state column to event names
2025-05-22T14:57:22.385Z: Added ac_state column to event names
2025-05-22T14:57:22.385Z: Added ac_state column to event names
2025-05-22T14:57:22.385Z: Added targetAcMode column to event names
2025-05-22T14:57:22.386Z: Using existing log file
2025-05-22T14:57:22.387Z: Closing existing log stream before creating new one
2025-05-22T14:57:22.387Z: Logging enabled
2025-05-22T14:57:22.388Z: Stopping sensor polling interval: 930
2025-05-22T14:57:22.388Z: Closing logging service
2025-05-22T14:57:22.388Z: Closing sensor logging service
2025-05-22T14:57:22.388Z: Closing log stream
2025-05-22T14:57:22.388Z: Logging stopped at 2025-05-22T14:57:22.388Z
2025-05-22T14:57:22.389Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-05-22T14:57:22.389Z: Polling interval set with ID: 1036
2025-05-22T14:57:22.390Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T14:57:22.390Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T14:57:22.323Z: Received motion sensor data: {"motionDetected":false}
2025-05-22T14:57:22.323Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T14:57:22.323Z: Successfully updated motion event: living room motion = false
2025-05-22T14:57:22.390Z: Received motion sensor data: {"motionDetected":false}
2025-05-22T14:57:22.390Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T14:57:22.390Z: Successfully updated motion event: living room motion = false
2025-05-22T14:57:22.322Z: Received sensor data: {"temperature":21.6,"humidity":66.1}
2025-05-22T14:57:22.322Z: Formatted events: [{"name":"living room temperature","value":21.6,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":66.1,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T14:57:22.322Z: Successfully updated event: living room temperature = 21.6
2025-05-22T14:57:22.322Z: Successfully updated event: living room humidity = 66.1
2025-05-22T14:57:23.137Z: Initial poll - AC on: true, target temp: 20, target mode: cool
2025-05-22T14:57:23.137Z: Creating a combined row with motion=false, temp=21.6, humidity=66.1, light=false, ac_on=true, target_temp=20, target_mode=cool
2025-05-22T14:57:23.137Z: logSensorData called with 7 sensors
2025-05-22T14:57:23.137Z: WARNING - Logging is disabled but logSensorData was called
2025-05-22T14:57:23.137Z: Attempting to re-initialize logging with existing events
2025-05-22T14:57:23.139Z: Initializing sensor logging service
2025-05-22T14:57:23.139Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-22T14:57:23.140Z: Using existing log file
2025-05-22T14:57:23.137Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-22T14:57:23.137Z: Setting spaceId column 8 to 41413915
2025-05-22T14:57:23.137Z: Setting column 3 (living room motion) to false
2025-05-22T14:57:23.137Z: Setting column 1 (living room temperature) to 21.6
2025-05-22T14:57:23.137Z: Setting column 2 (living room humidity) to 66.1
2025-05-22T14:57:23.137Z: Setting column 4 (light_state) to false
2025-05-22T14:57:23.137Z: Setting column 5 (ac_state) to true
2025-05-22T14:57:23.137Z: Setting column 6 (targetTemperature) to 20
2025-05-22T14:57:23.137Z: Setting column 7 (targetAcMode) to cool
2025-05-22T14:57:23.137Z: Preparing row: 2025-05-22 14:57:23,21.6,66.1,false,false,true,20,cool,41413915
2025-05-22T14:57:23.137Z: Successfully wrote to log file using writeFileSync
2025-05-22T14:57:23.137Z: Successfully logged combined sensor data in one row with target temperature: 20 and target mode: cool
2025-05-22T14:57:23.143Z: Initial combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T14:57:23.144Z: Logging enabled
2025-05-22T14:57:23.137Z: Re-initialization result: {"success":true,"message":"Sensor logging initialized to C:\\Users\\amin\\Desktop\\smart-space\\SmartSchool-Server\\logs\\sensor_data.csv","columns":[["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]}
2025-05-22T14:57:22.390Z: Received sensor data: {"temperature":21.6,"humidity":66.1}
2025-05-22T14:57:22.390Z: Formatted events: [{"name":"living room temperature","value":21.6,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":66.1,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T14:57:22.390Z: Successfully updated event: living room temperature = 21.6
2025-05-22T14:57:22.390Z: Successfully updated event: living room humidity = 66.1
2025-05-22T14:57:23.236Z: Initial poll - AC on: true, target temp: 20, target mode: cool
2025-05-22T14:57:23.236Z: Creating a combined row with motion=false, temp=21.6, humidity=66.1, light=false, ac_on=true, target_temp=20, target_mode=cool
2025-05-22T14:57:23.236Z: logSensorData called with 7 sensors
2025-05-22T14:57:23.236Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-22T14:57:23.236Z: Setting spaceId column 8 to 41413915
2025-05-22T14:57:23.236Z: Setting column 3 (living room motion) to false
2025-05-22T14:57:23.236Z: Setting column 1 (living room temperature) to 21.6
2025-05-22T14:57:23.236Z: Setting column 2 (living room humidity) to 66.1
2025-05-22T14:57:23.236Z: Setting column 4 (light_state) to false
2025-05-22T14:57:23.236Z: Setting column 5 (ac_state) to true
2025-05-22T14:57:23.236Z: Setting column 6 (targetTemperature) to 20
2025-05-22T14:57:23.236Z: Setting column 7 (targetAcMode) to cool
2025-05-22T14:57:23.236Z: Preparing row: 2025-05-22 14:57:23,21.6,66.1,false,false,true,20,cool,41413915
2025-05-22T14:57:23.236Z: Successfully wrote to log file using writeFileSync
2025-05-22T14:57:23.236Z: Successfully logged combined sensor data in one row with target temperature: 20 and target mode: cool
2025-05-22T14:57:23.239Z: Initial combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T15:01:09.339Z: Initializing sensor logging service
2025-05-22T15:01:09.339Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-22T15:01:09.340Z: Added light_state column to event names
2025-05-22T15:01:09.341Z: Added ac_state column to event names
2025-05-22T15:01:09.341Z: Added ac_state column to event names
2025-05-22T15:01:09.342Z: Added targetAcMode column to event names
2025-05-22T15:01:09.342Z: Using existing log file
2025-05-22T15:01:09.344Z: Logging enabled
2025-05-22T15:01:09.344Z: No polling was active to stop
2025-05-22T15:01:09.345Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-05-22T15:01:09.345Z: Polling interval set with ID: 1003
2025-05-22T15:01:09.346Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T15:01:09.346Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T15:01:09.401Z: Initializing sensor logging service
2025-05-22T15:01:09.401Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-22T15:01:09.402Z: Added light_state column to event names
2025-05-22T15:01:09.402Z: Added ac_state column to event names
2025-05-22T15:01:09.403Z: Added ac_state column to event names
2025-05-22T15:01:09.403Z: Added targetAcMode column to event names
2025-05-22T15:01:09.403Z: Using existing log file
2025-05-22T15:01:09.405Z: Closing existing log stream before creating new one
2025-05-22T15:01:09.405Z: Logging enabled
2025-05-22T15:01:09.406Z: Stopping sensor polling interval: 1003
2025-05-22T15:01:09.406Z: Closing logging service
2025-05-22T15:01:09.406Z: Closing sensor logging service
2025-05-22T15:01:09.406Z: Closing log stream
2025-05-22T15:01:09.406Z: Logging stopped at 2025-05-22T15:01:09.406Z
2025-05-22T15:01:09.408Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-05-22T15:01:09.408Z: Polling interval set with ID: 1125
2025-05-22T15:01:09.408Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T15:01:09.408Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T15:01:09.346Z: Received motion sensor data: {"motionDetected":false}
2025-05-22T15:01:09.346Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T15:01:09.346Z: Successfully updated motion event: living room motion = false
2025-05-22T15:01:09.408Z: Received motion sensor data: {"motionDetected":false}
2025-05-22T15:01:09.408Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T15:01:09.408Z: Successfully updated motion event: living room motion = false
2025-05-22T15:01:09.346Z: Received sensor data: {"temperature":21.4,"humidity":66.2}
2025-05-22T15:01:09.346Z: Formatted events: [{"name":"living room temperature","value":21.4,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":66.2,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T15:01:09.346Z: Successfully updated event: living room temperature = 21.4
2025-05-22T15:01:09.346Z: Successfully updated event: living room humidity = 66.2
2025-05-22T15:01:10.163Z: Initial poll - AC on: true, target temp: 20, target mode: cool
2025-05-22T15:01:10.164Z: Creating a combined row with motion=false, temp=21.4, humidity=66.2, light=false, ac_on=true, target_temp=20, target_mode=cool
2025-05-22T15:01:10.164Z: logSensorData called with 7 sensors
2025-05-22T15:01:10.164Z: WARNING - Logging is disabled but logSensorData was called
2025-05-22T15:01:10.164Z: Attempting to re-initialize logging with existing events
2025-05-22T15:01:10.165Z: Initializing sensor logging service
2025-05-22T15:01:10.165Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-22T15:01:10.166Z: Using existing log file
2025-05-22T15:01:10.164Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-22T15:01:10.164Z: Setting spaceId column 8 to 41413915
2025-05-22T15:01:10.164Z: Setting column 3 (living room motion) to false
2025-05-22T15:01:10.164Z: Setting column 1 (living room temperature) to 21.4
2025-05-22T15:01:10.164Z: Setting column 2 (living room humidity) to 66.2
2025-05-22T15:01:10.164Z: Setting column 4 (light_state) to false
2025-05-22T15:01:10.164Z: Setting column 5 (ac_state) to true
2025-05-22T15:01:10.164Z: Setting column 6 (targetTemperature) to 20
2025-05-22T15:01:10.164Z: Setting column 7 (targetAcMode) to cool
2025-05-22T15:01:10.164Z: Preparing row: 2025-05-22 15:01:10,21.4,66.2,false,false,true,20,cool,41413915
2025-05-22T15:01:10.164Z: Successfully wrote to log file using writeFileSync
2025-05-22T15:01:10.164Z: Successfully logged combined sensor data in one row with target temperature: 20 and target mode: cool
2025-05-22T15:01:10.170Z: Initial combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T15:01:10.171Z: Logging enabled
2025-05-22T15:01:10.164Z: Re-initialization result: {"success":true,"message":"Sensor logging initialized to C:\\Users\\amin\\Desktop\\smart-space\\SmartSchool-Server\\logs\\sensor_data.csv","columns":[["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]}
2025-05-22T15:01:09.408Z: Received sensor data: {"temperature":21.4,"humidity":66.2}
2025-05-22T15:01:09.408Z: Formatted events: [{"name":"living room temperature","value":21.4,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":66.2,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T15:01:09.408Z: Successfully updated event: living room temperature = 21.4
2025-05-22T15:01:09.408Z: Successfully updated event: living room humidity = 66.2
2025-05-22T15:01:10.533Z: Initial poll - AC on: true, target temp: 20, target mode: cool
2025-05-22T15:01:10.534Z: Creating a combined row with motion=false, temp=21.4, humidity=66.2, light=false, ac_on=true, target_temp=20, target_mode=cool
2025-05-22T15:01:10.534Z: logSensorData called with 7 sensors
2025-05-22T15:01:10.534Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-22T15:01:10.534Z: Setting spaceId column 8 to 41413915
2025-05-22T15:01:10.534Z: Setting column 3 (living room motion) to false
2025-05-22T15:01:10.534Z: Setting column 1 (living room temperature) to 21.4
2025-05-22T15:01:10.534Z: Setting column 2 (living room humidity) to 66.2
2025-05-22T15:01:10.534Z: Setting column 4 (light_state) to false
2025-05-22T15:01:10.534Z: Setting column 5 (ac_state) to true
2025-05-22T15:01:10.534Z: Setting column 6 (targetTemperature) to 20
2025-05-22T15:01:10.534Z: Setting column 7 (targetAcMode) to cool
2025-05-22T15:01:10.534Z: Preparing row: 2025-05-22 15:01:10,21.4,66.2,false,false,true,20,cool,41413915
2025-05-22T15:01:10.534Z: Successfully wrote to log file using writeFileSync
2025-05-22T15:01:10.534Z: Successfully logged combined sensor data in one row with target temperature: 20 and target mode: cool
2025-05-22T15:01:10.536Z: Initial combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T15:02:49.418Z: Polling for sensor data... (poll #1)
2025-05-22T15:02:49.419Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T15:02:49.419Z: Received sensor data: {"temperature":21.4,"humidity":66.5}
2025-05-22T15:02:49.419Z: Formatted events: [{"name":"living room temperature","value":21.4,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":66.5,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T15:02:49.419Z: Successfully updated event: living room temperature = 21.4
2025-05-22T15:02:49.419Z: Successfully updated event: living room humidity = 66.5
2025-05-22T15:02:49.990Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":21.4,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":66.5,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-22T15:02:49.990Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T15:02:49.990Z: Received motion sensor data: {"motionDetected":false}
2025-05-22T15:02:49.990Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T15:02:49.990Z: Successfully updated motion event: living room motion = false
2025-05-22T15:02:50.150Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-22T15:02:50.697Z: AC state is: {"mode":"cool","on":true,"targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-22T15:02:51.296534Z"}}
2025-05-22T15:02:50.698Z: Extracted AC on state: true, target temperature: 20, target mode: cool
2025-05-22T15:02:51.040Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":false},"success":true}
2025-05-22T15:02:51.040Z: Extracted light state: false
2025-05-22T15:02:51.041Z: Creating a combined row with motion=false, temp=21.4, humidity=66.5, light=false, ac_on=true, target_temp=20, target_mode=cool
2025-05-22T15:02:51.041Z: logSensorData called with 7 sensors
2025-05-22T15:02:51.041Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-22T15:02:51.041Z: Setting spaceId column 8 to 41413915
2025-05-22T15:02:51.041Z: Setting column 3 (living room motion) to false
2025-05-22T15:02:51.041Z: Setting column 1 (living room temperature) to 21.4
2025-05-22T15:02:51.041Z: Setting column 2 (living room humidity) to 66.5
2025-05-22T15:02:51.041Z: Setting column 4 (light_state) to false
2025-05-22T15:02:51.041Z: Setting column 5 (ac_state) to true
2025-05-22T15:02:51.041Z: Setting column 6 (targetTemperature) to 20
2025-05-22T15:02:51.041Z: Setting column 7 (targetAcMode) to cool
2025-05-22T15:02:51.041Z: Preparing row: 2025-05-22 15:02:51,21.4,66.5,false,false,true,20,cool,41413915
2025-05-22T15:02:51.041Z: Successfully wrote to log file using writeFileSync
2025-05-22T15:02:51.041Z: Successfully logged combined sensor data in one row with target temperature: 20 and target mode: cool
2025-05-22T15:02:51.044Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T15:02:51.045Z: Polling interval active: true
2025-05-22T15:04:29.423Z: Polling for sensor data... (poll #2)
2025-05-22T15:04:29.424Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T15:04:29.424Z: Received sensor data: {"temperature":21.5,"humidity":65.9}
2025-05-22T15:04:29.424Z: Formatted events: [{"name":"living room temperature","value":21.5,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":65.9,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T15:04:29.424Z: Successfully updated event: living room temperature = 21.5
2025-05-22T15:04:29.424Z: Successfully updated event: living room humidity = 65.9
2025-05-22T15:04:30.032Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":21.5,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":65.9,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-22T15:04:30.033Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T15:04:30.033Z: Received motion sensor data: {"motionDetected":true}
2025-05-22T15:04:30.033Z: Formatted motion sensor events: [{"name":"living room motion","value":true,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T15:04:30.033Z: Successfully updated motion event: living room motion = true
2025-05-22T15:04:30.187Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":true,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-22T15:04:30.734Z: AC state is: {"mode":"cool","on":true,"targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-22T15:04:31.330697Z"}}
2025-05-22T15:04:30.735Z: Extracted AC on state: true, target temperature: 20, target mode: cool
2025-05-22T15:04:31.072Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":false},"success":true}
2025-05-22T15:04:31.072Z: Extracted light state: false
2025-05-22T15:04:31.073Z: Creating a combined row with motion=true, temp=21.5, humidity=65.9, light=false, ac_on=true, target_temp=20, target_mode=cool
2025-05-22T15:04:31.073Z: logSensorData called with 7 sensors
2025-05-22T15:04:31.073Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-22T15:04:31.073Z: Setting spaceId column 8 to 41413915
2025-05-22T15:04:31.073Z: Setting column 3 (living room motion) to true
2025-05-22T15:04:31.073Z: Setting column 1 (living room temperature) to 21.5
2025-05-22T15:04:31.073Z: Setting column 2 (living room humidity) to 65.9
2025-05-22T15:04:31.073Z: Setting column 4 (light_state) to false
2025-05-22T15:04:31.073Z: Setting column 5 (ac_state) to true
2025-05-22T15:04:31.073Z: Setting column 6 (targetTemperature) to 20
2025-05-22T15:04:31.073Z: Setting column 7 (targetAcMode) to cool
2025-05-22T15:04:31.073Z: Preparing row: 2025-05-22 15:04:31,21.5,65.9,true,false,true,20,cool,41413915
2025-05-22T15:04:31.073Z: Successfully wrote to log file using writeFileSync
2025-05-22T15:04:31.073Z: Successfully logged combined sensor data in one row with target temperature: 20 and target mode: cool
2025-05-22T15:04:31.077Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T15:04:31.077Z: Polling interval active: true
2025-05-22T15:10:13.711Z: Initializing sensor logging service
2025-05-22T15:10:13.712Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-22T15:10:13.712Z: Added light_state column to event names
2025-05-22T15:10:13.712Z: Added ac_state column to event names
2025-05-22T15:10:13.713Z: Added ac_state column to event names
2025-05-22T15:10:13.714Z: Added targetAcMode column to event names
2025-05-22T15:10:13.714Z: Using existing log file
2025-05-22T15:10:13.715Z: Removed trailing newline from file
2025-05-22T15:10:13.716Z: Logging enabled
2025-05-22T15:10:13.717Z: No polling was active to stop
2025-05-22T15:10:13.717Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-05-22T15:10:13.717Z: Polling interval set with ID: 928
2025-05-22T15:10:13.718Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T15:10:13.719Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T15:10:13.765Z: Initializing sensor logging service
2025-05-22T15:10:13.765Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-22T15:10:13.766Z: Added light_state column to event names
2025-05-22T15:10:13.766Z: Added ac_state column to event names
2025-05-22T15:10:13.766Z: Added ac_state column to event names
2025-05-22T15:10:13.767Z: Added targetAcMode column to event names
2025-05-22T15:10:13.767Z: Using existing log file
2025-05-22T15:10:13.769Z: Closing existing log stream before creating new one
2025-05-22T15:10:13.769Z: Logging enabled
2025-05-22T15:10:13.770Z: Stopping sensor polling interval: 928
2025-05-22T15:10:13.770Z: Closing logging service
2025-05-22T15:10:13.770Z: Closing sensor logging service
2025-05-22T15:10:13.770Z: Closing log stream
2025-05-22T15:10:13.770Z: Logging stopped at 2025-05-22T15:10:13.770Z
2025-05-22T15:10:13.771Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-05-22T15:10:13.771Z: Polling interval set with ID: 1027
2025-05-22T15:10:13.771Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T15:10:13.772Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T15:10:13.719Z: Received motion sensor data: {"motionDetected":false}
2025-05-22T15:10:13.719Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T15:10:13.719Z: Successfully updated motion event: living room motion = false
2025-05-22T15:10:13.772Z: Received motion sensor data: {"motionDetected":false}
2025-05-22T15:10:13.772Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T15:10:13.772Z: Successfully updated motion event: living room motion = false
2025-05-22T15:10:13.771Z: Received sensor data: {"temperature":21.4,"humidity":66}
2025-05-22T15:10:13.771Z: Formatted events: [{"name":"living room temperature","value":21.4,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":66,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T15:10:13.771Z: Successfully updated event: living room temperature = 21.4
2025-05-22T15:10:13.771Z: Successfully updated event: living room humidity = 66
2025-05-22T15:10:14.598Z: Initial poll - AC on: true, target temp: 20, target mode: cool
2025-05-22T15:10:14.598Z: Creating a combined row with motion=false, temp=21.4, humidity=66, light=false, ac_on=true, target_temp=20, target_mode=cool
2025-05-22T15:10:14.599Z: logSensorData called with 7 sensors
2025-05-22T15:10:14.599Z: WARNING - Logging is disabled but logSensorData was called
2025-05-22T15:10:14.599Z: Attempting to re-initialize logging with existing events
2025-05-22T15:10:14.600Z: Initializing sensor logging service
2025-05-22T15:10:14.600Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-22T15:10:14.601Z: Using existing log file
2025-05-22T15:10:14.599Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-22T15:10:14.599Z: Setting spaceId column 8 to 41413915
2025-05-22T15:10:14.599Z: Setting column 3 (living room motion) to false
2025-05-22T15:10:14.599Z: Setting column 1 (living room temperature) to 21.4
2025-05-22T15:10:14.599Z: Setting column 2 (living room humidity) to 66
2025-05-22T15:10:14.599Z: Setting column 4 (light_state) to false
2025-05-22T15:10:14.599Z: Setting column 5 (ac_state) to true
2025-05-22T15:10:14.599Z: Setting column 6 (targetTemperature) to 20
2025-05-22T15:10:14.599Z: Setting column 7 (targetAcMode) to cool
2025-05-22T15:10:14.599Z: Preparing row: 2025-05-22 15:10:14,21.4,66,false,false,true,20,cool,41413915
2025-05-22T15:10:14.599Z: Successfully wrote to log file using writeFileSync
2025-05-22T15:10:14.598Z: Successfully logged combined sensor data in one row with target temperature: 20 and target mode: cool
2025-05-22T15:10:14.605Z: Initial combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T15:10:14.606Z: Logging enabled
2025-05-22T15:10:14.599Z: Re-initialization result: {"success":true,"message":"Sensor logging initialized to C:\\Users\\amin\\Desktop\\smart-space\\SmartSchool-Server\\logs\\sensor_data.csv","columns":[["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]}
2025-05-22T15:10:13.718Z: Received sensor data: {"temperature":21.4,"humidity":66}
2025-05-22T15:10:13.718Z: Formatted events: [{"name":"living room temperature","value":21.4,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":66,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T15:10:13.718Z: Successfully updated event: living room temperature = 21.4
2025-05-22T15:10:13.718Z: Successfully updated event: living room humidity = 66
2025-05-22T15:10:14.907Z: Initial poll - AC on: true, target temp: 20, target mode: cool
2025-05-22T15:10:14.908Z: Creating a combined row with motion=false, temp=21.4, humidity=66, light=false, ac_on=true, target_temp=20, target_mode=cool
2025-05-22T15:10:14.908Z: logSensorData called with 7 sensors
2025-05-22T15:10:14.908Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-22T15:10:14.908Z: Setting spaceId column 8 to 41413915
2025-05-22T15:10:14.908Z: Setting column 3 (living room motion) to false
2025-05-22T15:10:14.908Z: Setting column 1 (living room temperature) to 21.4
2025-05-22T15:10:14.908Z: Setting column 2 (living room humidity) to 66
2025-05-22T15:10:14.908Z: Setting column 4 (light_state) to false
2025-05-22T15:10:14.908Z: Setting column 5 (ac_state) to true
2025-05-22T15:10:14.908Z: Setting column 6 (targetTemperature) to 20
2025-05-22T15:10:14.908Z: Setting column 7 (targetAcMode) to cool
2025-05-22T15:10:14.908Z: Preparing row: 2025-05-22 15:10:14,21.4,66,false,false,true,20,cool,41413915
2025-05-22T15:10:14.908Z: Successfully wrote to log file using writeFileSync
2025-05-22T15:10:14.908Z: Successfully logged combined sensor data in one row with target temperature: 20 and target mode: cool
2025-05-22T15:10:14.910Z: Initial combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T15:11:37.672Z: Initializing sensor logging service
2025-05-22T15:11:37.672Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-22T15:11:37.673Z: Added light_state column to event names
2025-05-22T15:11:37.673Z: Added ac_state column to event names
2025-05-22T15:11:37.674Z: Added ac_state column to event names
2025-05-22T15:11:37.674Z: Added targetAcMode column to event names
2025-05-22T15:11:37.675Z: Using existing log file
2025-05-22T15:11:37.676Z: Logging enabled
2025-05-22T15:11:37.677Z: No polling was active to stop
2025-05-22T15:11:37.677Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-05-22T15:11:37.677Z: Polling interval set with ID: 1000
2025-05-22T15:11:37.678Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T15:11:37.679Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T15:11:37.758Z: Initializing sensor logging service
2025-05-22T15:11:37.758Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-22T15:11:37.759Z: Added light_state column to event names
2025-05-22T15:11:37.759Z: Added ac_state column to event names
2025-05-22T15:11:37.759Z: Added ac_state column to event names
2025-05-22T15:11:37.760Z: Added targetAcMode column to event names
2025-05-22T15:11:37.760Z: Using existing log file
2025-05-22T15:11:37.768Z: Closing existing log stream before creating new one
2025-05-22T15:11:37.768Z: Logging enabled
2025-05-22T15:11:37.768Z: Stopping sensor polling interval: 1000
2025-05-22T15:11:37.768Z: Closing logging service
2025-05-22T15:11:37.769Z: Closing sensor logging service
2025-05-22T15:11:37.769Z: Closing log stream
2025-05-22T15:11:37.769Z: Logging stopped at 2025-05-22T15:11:37.769Z
2025-05-22T15:11:37.770Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-05-22T15:11:37.770Z: Polling interval set with ID: 1136
2025-05-22T15:11:37.771Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T15:11:37.771Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T15:11:37.679Z: Received motion sensor data: {"motionDetected":false}
2025-05-22T15:11:37.679Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T15:11:37.679Z: Successfully updated motion event: living room motion = false
2025-05-22T15:11:37.771Z: Received motion sensor data: {"motionDetected":false}
2025-05-22T15:11:37.771Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T15:11:37.771Z: Successfully updated motion event: living room motion = false
2025-05-22T15:11:37.678Z: Received sensor data: {"temperature":21.4,"humidity":66.7}
2025-05-22T15:11:37.678Z: Formatted events: [{"name":"living room temperature","value":21.4,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":66.7,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T15:11:37.678Z: Successfully updated event: living room temperature = 21.4
2025-05-22T15:11:37.678Z: Successfully updated event: living room humidity = 66.7
2025-05-22T15:11:38.471Z: Initial poll - AC on: true, target temp: 20, target mode: cool
2025-05-22T15:11:38.472Z: Creating a combined row with motion=false, temp=21.4, humidity=66.7, light=false, ac_on=true, target_temp=20, target_mode=cool
2025-05-22T15:11:38.472Z: logSensorData called with 7 sensors
2025-05-22T15:11:38.472Z: WARNING - Logging is disabled but logSensorData was called
2025-05-22T15:11:38.472Z: Attempting to re-initialize logging with existing events
2025-05-22T15:11:38.473Z: Initializing sensor logging service
2025-05-22T15:11:38.473Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-22T15:11:38.475Z: Using existing log file
2025-05-22T15:11:38.472Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-22T15:11:38.472Z: Setting spaceId column 8 to 41413915
2025-05-22T15:11:38.472Z: Setting column 3 (living room motion) to false
2025-05-22T15:11:38.472Z: Setting column 1 (living room temperature) to 21.4
2025-05-22T15:11:38.472Z: Setting column 2 (living room humidity) to 66.7
2025-05-22T15:11:38.472Z: Setting column 4 (light_state) to false
2025-05-22T15:11:38.472Z: Setting column 5 (ac_state) to true
2025-05-22T15:11:38.472Z: Setting column 6 (targetTemperature) to 20
2025-05-22T15:11:38.472Z: Setting column 7 (targetAcMode) to cool
2025-05-22T15:11:38.472Z: Preparing row: 2025-05-22 15:11:38,21.4,66.7,false,false,true,20,cool,41413915
2025-05-22T15:11:38.472Z: Successfully wrote to log file using writeFileSync
2025-05-22T15:11:38.472Z: Successfully logged combined sensor data in one row with target temperature: 20 and target mode: cool
2025-05-22T15:11:38.478Z: Initial combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T15:11:38.479Z: Logging enabled
2025-05-22T15:11:38.472Z: Re-initialization result: {"success":true,"message":"Sensor logging initialized to C:\\Users\\amin\\Desktop\\smart-space\\SmartSchool-Server\\logs\\sensor_data.csv","columns":[["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]}
2025-05-22T15:11:37.771Z: Received sensor data: {"temperature":21.4,"humidity":66.7}
2025-05-22T15:11:37.771Z: Formatted events: [{"name":"living room temperature","value":21.4,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":66.7,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T15:11:37.771Z: Successfully updated event: living room temperature = 21.4
2025-05-22T15:11:37.771Z: Successfully updated event: living room humidity = 66.7
2025-05-22T15:11:38.546Z: Initial poll - AC on: true, target temp: 20, target mode: cool
2025-05-22T15:11:38.546Z: Creating a combined row with motion=false, temp=21.4, humidity=66.7, light=false, ac_on=true, target_temp=20, target_mode=cool
2025-05-22T15:11:38.546Z: logSensorData called with 7 sensors
2025-05-22T15:11:38.546Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-22T15:11:38.546Z: Setting spaceId column 8 to 41413915
2025-05-22T15:11:38.546Z: Setting column 3 (living room motion) to false
2025-05-22T15:11:38.546Z: Setting column 1 (living room temperature) to 21.4
2025-05-22T15:11:38.546Z: Setting column 2 (living room humidity) to 66.7
2025-05-22T15:11:38.546Z: Setting column 4 (light_state) to false
2025-05-22T15:11:38.546Z: Setting column 5 (ac_state) to true
2025-05-22T15:11:38.546Z: Setting column 6 (targetTemperature) to 20
2025-05-22T15:11:38.546Z: Setting column 7 (targetAcMode) to cool
2025-05-22T15:11:38.546Z: Preparing row: 2025-05-22 15:11:38,21.4,66.7,false,false,true,20,cool,41413915
2025-05-22T15:11:38.546Z: Successfully wrote to log file using writeFileSync
2025-05-22T15:11:38.546Z: Successfully logged combined sensor data in one row with target temperature: 20 and target mode: cool
2025-05-22T15:11:38.549Z: Initial combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T15:13:17.771Z: Polling for sensor data... (poll #1)
2025-05-22T15:13:17.772Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T15:13:17.772Z: Received sensor data: {"temperature":21.4,"humidity":66.4}
2025-05-22T15:13:17.772Z: Formatted events: [{"name":"living room temperature","value":21.4,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":66.4,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T15:13:17.772Z: Successfully updated event: living room temperature = 21.4
2025-05-22T15:13:17.772Z: Successfully updated event: living room humidity = 66.4
2025-05-22T15:13:18.344Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":21.4,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":66.4,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-22T15:13:18.345Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-22T15:13:18.345Z: Received motion sensor data: {"motionDetected":false}
2025-05-22T15:13:18.345Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-22T15:13:18.345Z: Successfully updated motion event: living room motion = false
2025-05-22T15:13:18.493Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-22T15:13:19.095Z: AC state is: {"mode":"cool","on":true,"targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-22T15:13:19.706173Z"}}
2025-05-22T15:13:19.095Z: Extracted AC on state: true, target temperature: 20, target mode: cool
2025-05-22T15:13:19.486Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":false},"success":true}
2025-05-22T15:13:19.487Z: Extracted light state: false
2025-05-22T15:13:19.487Z: Creating a combined row with motion=false, temp=21.4, humidity=66.4, light=false, ac_on=true, target_temp=20, target_mode=cool
2025-05-22T15:13:19.487Z: logSensorData called with 7 sensors
2025-05-22T15:13:19.487Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-22T15:13:19.487Z: Setting spaceId column 8 to 41413915
2025-05-22T15:13:19.487Z: Setting column 3 (living room motion) to false
2025-05-22T15:13:19.487Z: Setting column 1 (living room temperature) to 21.4
2025-05-22T15:13:19.487Z: Setting column 2 (living room humidity) to 66.4
2025-05-22T15:13:19.487Z: Setting column 4 (light_state) to false
2025-05-22T15:13:19.487Z: Setting column 5 (ac_state) to true
2025-05-22T15:13:19.487Z: Setting column 6 (targetTemperature) to 20
2025-05-22T15:13:19.487Z: Setting column 7 (targetAcMode) to cool
2025-05-22T15:13:19.487Z: Preparing row: 2025-05-22 15:13:19,21.4,66.4,false,false,true,20,cool,41413915
2025-05-22T15:13:19.487Z: Successfully wrote to log file using writeFileSync
2025-05-22T15:13:19.487Z: Successfully logged combined sensor data in one row with target temperature: 20 and target mode: cool
2025-05-22T15:13:19.492Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-22T15:13:19.492Z: Polling interval active: true
2025-05-26T18:22:51.643Z: Initializing sensor logging service
2025-05-26T18:22:51.643Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-26T18:22:51.644Z: Added light_state column to event names
2025-05-26T18:22:51.644Z: Added ac_state column to event names
2025-05-26T18:22:51.645Z: Added ac_state column to event names
2025-05-26T18:22:51.646Z: Added targetAcMode column to event names
2025-05-26T18:22:51.646Z: Using existing log file
2025-05-26T18:22:51.648Z: Logging enabled
2025-05-26T18:22:51.648Z: No polling was active to stop
2025-05-26T18:22:51.649Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-05-26T18:22:51.649Z: Polling interval set with ID: 934
2025-05-26T18:22:51.650Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T18:22:51.650Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T18:22:51.693Z: Initializing sensor logging service
2025-05-26T18:22:51.693Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-26T18:22:51.694Z: Added light_state column to event names
2025-05-26T18:22:51.695Z: Added ac_state column to event names
2025-05-26T18:22:51.695Z: Added ac_state column to event names
2025-05-26T18:22:51.695Z: Added targetAcMode column to event names
2025-05-26T18:22:51.696Z: Using existing log file
2025-05-26T18:22:51.697Z: Closing existing log stream before creating new one
2025-05-26T18:22:51.698Z: Logging enabled
2025-05-26T18:22:51.698Z: Stopping sensor polling interval: 934
2025-05-26T18:22:51.698Z: Closing logging service
2025-05-26T18:22:51.699Z: Closing sensor logging service
2025-05-26T18:22:51.699Z: Closing log stream
2025-05-26T18:22:51.699Z: Logging stopped at 2025-05-26T18:22:51.699Z
2025-05-26T18:22:51.701Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-05-26T18:22:51.701Z: Polling interval set with ID: 1055
2025-05-26T18:22:51.701Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T18:22:51.701Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T18:22:51.650Z: Received motion sensor data: {"motionDetected":false}
2025-05-26T18:22:51.650Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T18:22:51.650Z: Successfully updated motion event: living room motion = false
2025-05-26T18:22:51.701Z: Received motion sensor data: {"motionDetected":false}
2025-05-26T18:22:51.701Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T18:22:51.701Z: Successfully updated motion event: living room motion = false
2025-05-26T18:22:51.650Z: Received sensor data: {"temperature":24,"humidity":54}
2025-05-26T18:22:51.650Z: Formatted events: [{"name":"living room temperature","value":24,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":54,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T18:22:51.650Z: Successfully updated event: living room temperature = 24
2025-05-26T18:22:51.650Z: Successfully updated event: living room humidity = 54
2025-05-26T18:22:52.484Z: Initial poll - AC on: true, target temp: 20, target mode: cool
2025-05-26T18:22:52.484Z: Creating a combined row with motion=false, temp=24, humidity=54, light=false, ac_on=true, target_temp=20, target_mode=cool
2025-05-26T18:22:52.485Z: logSensorData called with 7 sensors
2025-05-26T18:22:52.485Z: WARNING - Logging is disabled but logSensorData was called
2025-05-26T18:22:52.485Z: Attempting to re-initialize logging with existing events
2025-05-26T18:22:52.485Z: Initializing sensor logging service
2025-05-26T18:22:52.486Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-26T18:22:52.487Z: Using existing log file
2025-05-26T18:22:52.485Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-26T18:22:52.485Z: Setting spaceId column 8 to 41413915
2025-05-26T18:22:52.485Z: Setting column 3 (living room motion) to false
2025-05-26T18:22:52.485Z: Setting column 1 (living room temperature) to 24
2025-05-26T18:22:52.485Z: Setting column 2 (living room humidity) to 54
2025-05-26T18:22:52.485Z: Setting column 4 (light_state) to false
2025-05-26T18:22:52.485Z: Setting column 5 (ac_state) to true
2025-05-26T18:22:52.485Z: Setting column 6 (targetTemperature) to 20
2025-05-26T18:22:52.485Z: Setting column 7 (targetAcMode) to cool
2025-05-26T18:22:52.485Z: Preparing row: 2025-05-26 18:22:52,24,54,false,false,true,20,cool,41413915
2025-05-26T18:22:52.485Z: Successfully wrote to log file using writeFileSync
2025-05-26T18:22:52.484Z: Successfully logged combined sensor data in one row with target temperature: 20 and target mode: cool
2025-05-26T18:22:52.490Z: Initial combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-26T18:22:52.491Z: Logging enabled
2025-05-26T18:22:52.485Z: Re-initialization result: {"success":true,"message":"Sensor logging initialized to C:\\Users\\amin\\Desktop\\smart-space\\SmartSchool-Server\\logs\\sensor_data.csv","columns":[["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]}
2025-05-26T18:22:51.701Z: Received sensor data: {"temperature":24,"humidity":54}
2025-05-26T18:22:51.701Z: Formatted events: [{"name":"living room temperature","value":24,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":54,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T18:22:51.701Z: Successfully updated event: living room temperature = 24
2025-05-26T18:22:51.701Z: Successfully updated event: living room humidity = 54
2025-05-26T18:22:52.550Z: Initial poll - AC on: true, target temp: 20, target mode: cool
2025-05-26T18:22:52.550Z: Creating a combined row with motion=false, temp=24, humidity=54, light=false, ac_on=true, target_temp=20, target_mode=cool
2025-05-26T18:22:52.551Z: logSensorData called with 7 sensors
2025-05-26T18:22:52.551Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-26T18:22:52.551Z: Setting spaceId column 8 to 41413915
2025-05-26T18:22:52.551Z: Setting column 3 (living room motion) to false
2025-05-26T18:22:52.551Z: Setting column 1 (living room temperature) to 24
2025-05-26T18:22:52.551Z: Setting column 2 (living room humidity) to 54
2025-05-26T18:22:52.551Z: Setting column 4 (light_state) to false
2025-05-26T18:22:52.551Z: Setting column 5 (ac_state) to true
2025-05-26T18:22:52.551Z: Setting column 6 (targetTemperature) to 20
2025-05-26T18:22:52.551Z: Setting column 7 (targetAcMode) to cool
2025-05-26T18:22:52.551Z: Preparing row: 2025-05-26 18:22:52,24,54,false,false,true,20,cool,41413915
2025-05-26T18:22:52.551Z: Successfully wrote to log file using writeFileSync
2025-05-26T18:22:52.550Z: Successfully logged combined sensor data in one row with target temperature: 20 and target mode: cool
2025-05-26T18:22:52.554Z: Initial combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-26T18:24:31.705Z: Polling for sensor data... (poll #1)
2025-05-26T18:24:31.706Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T18:24:31.706Z: Received sensor data: {"temperature":24,"humidity":54}
2025-05-26T18:24:31.706Z: Formatted events: [{"name":"living room temperature","value":24,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":54,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T18:24:31.706Z: Successfully updated event: living room temperature = 24
2025-05-26T18:24:31.706Z: Successfully updated event: living room humidity = 54
2025-05-26T18:24:32.284Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":24,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":54,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-26T18:24:32.285Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T18:24:32.285Z: Received motion sensor data: {"motionDetected":false}
2025-05-26T18:24:32.285Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T18:24:32.285Z: Successfully updated motion event: living room motion = false
2025-05-26T18:24:32.430Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-26T18:24:33.016Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":true,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-26T18:24:31.069344Z"}}
2025-05-26T18:24:33.017Z: Extracted AC on state: true, target temperature: 20, target mode: cool
2025-05-26T18:24:33.345Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":false},"success":true}
2025-05-26T18:24:33.345Z: Extracted light state: false
2025-05-26T18:24:33.345Z: Creating a combined row with motion=false, temp=24, humidity=54, light=false, ac_on=true, target_temp=20, target_mode=cool
2025-05-26T18:24:33.346Z: logSensorData called with 7 sensors
2025-05-26T18:24:33.346Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-26T18:24:33.346Z: Setting spaceId column 8 to 41413915
2025-05-26T18:24:33.346Z: Setting column 3 (living room motion) to false
2025-05-26T18:24:33.346Z: Setting column 1 (living room temperature) to 24
2025-05-26T18:24:33.346Z: Setting column 2 (living room humidity) to 54
2025-05-26T18:24:33.346Z: Setting column 4 (light_state) to false
2025-05-26T18:24:33.346Z: Setting column 5 (ac_state) to true
2025-05-26T18:24:33.346Z: Setting column 6 (targetTemperature) to 20
2025-05-26T18:24:33.346Z: Setting column 7 (targetAcMode) to cool
2025-05-26T18:24:33.346Z: Preparing row: 2025-05-26 18:24:33,24,54,false,false,true,20,cool,41413915
2025-05-26T18:24:33.346Z: Successfully wrote to log file using writeFileSync
2025-05-26T18:24:33.345Z: Successfully logged combined sensor data in one row with target temperature: 20 and target mode: cool
2025-05-26T18:24:33.349Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-26T18:24:33.349Z: Polling interval active: true
2025-05-26T19:06:24.965Z: Initializing sensor logging service
2025-05-26T19:06:24.966Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-26T19:06:24.966Z: Added light_state column to event names
2025-05-26T19:06:24.967Z: Added ac_state column to event names
2025-05-26T19:06:24.967Z: Added ac_state column to event names
2025-05-26T19:06:24.967Z: Added targetAcMode column to event names
2025-05-26T19:06:24.968Z: Using existing log file
2025-05-26T19:06:24.969Z: Logging enabled
2025-05-26T19:06:24.970Z: No polling was active to stop
2025-05-26T19:06:24.971Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-05-26T19:06:24.971Z: Polling interval set with ID: 1034
2025-05-26T19:06:24.971Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T19:06:24.972Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T19:06:25.029Z: Initializing sensor logging service
2025-05-26T19:06:25.029Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-26T19:06:25.030Z: Added light_state column to event names
2025-05-26T19:06:25.030Z: Added ac_state column to event names
2025-05-26T19:06:25.030Z: Added ac_state column to event names
2025-05-26T19:06:25.030Z: Added targetAcMode column to event names
2025-05-26T19:06:25.031Z: Using existing log file
2025-05-26T19:06:25.032Z: Closing existing log stream before creating new one
2025-05-26T19:06:25.033Z: Logging enabled
2025-05-26T19:06:25.033Z: Stopping sensor polling interval: 1034
2025-05-26T19:06:25.033Z: Closing logging service
2025-05-26T19:06:25.034Z: Closing sensor logging service
2025-05-26T19:06:25.034Z: Closing log stream
2025-05-26T19:06:25.034Z: Logging stopped at 2025-05-26T19:06:25.034Z
2025-05-26T19:06:25.035Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-05-26T19:06:25.035Z: Polling interval set with ID: 1158
2025-05-26T19:06:25.036Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T19:06:25.036Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T19:06:24.972Z: Received motion sensor data: {"motionDetected":false}
2025-05-26T19:06:24.972Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T19:06:24.972Z: Successfully updated motion event: living room motion = false
2025-05-26T19:06:25.036Z: Received motion sensor data: {"motionDetected":false}
2025-05-26T19:06:25.036Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T19:06:25.036Z: Successfully updated motion event: living room motion = false
2025-05-26T19:06:24.971Z: Received sensor data: {"temperature":23.5,"humidity":53.9}
2025-05-26T19:06:24.971Z: Formatted events: [{"name":"living room temperature","value":23.5,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":53.9,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T19:06:24.971Z: Successfully updated event: living room temperature = 23.5
2025-05-26T19:06:24.971Z: Successfully updated event: living room humidity = 53.9
2025-05-26T19:06:25.822Z: Initial poll - AC on: false, target temp: N/A, target mode: N/A
2025-05-26T19:06:25.823Z: Creating a combined row with motion=false, temp=23.5, humidity=53.9, light=true, ac_on=false, target_temp=N/A, target_mode=N/A
2025-05-26T19:06:25.823Z: logSensorData called with 7 sensors
2025-05-26T19:06:25.823Z: WARNING - Logging is disabled but logSensorData was called
2025-05-26T19:06:25.823Z: Attempting to re-initialize logging with existing events
2025-05-26T19:06:25.824Z: Initializing sensor logging service
2025-05-26T19:06:25.824Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-26T19:06:25.825Z: Using existing log file
2025-05-26T19:06:25.823Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-26T19:06:25.823Z: Setting spaceId column 8 to 41413915
2025-05-26T19:06:25.823Z: Setting column 3 (living room motion) to false
2025-05-26T19:06:25.823Z: Setting column 1 (living room temperature) to 23.5
2025-05-26T19:06:25.823Z: Setting column 2 (living room humidity) to 53.9
2025-05-26T19:06:25.823Z: Setting column 4 (light_state) to true
2025-05-26T19:06:25.823Z: Setting column 5 (ac_state) to false
2025-05-26T19:06:25.823Z: Setting column 6 (targetTemperature) to N/A
2025-05-26T19:06:25.823Z: Setting column 7 (targetAcMode) to N/A
2025-05-26T19:06:25.823Z: Preparing row: 2025-05-26 19:06:25,23.5,53.9,false,true,false,N/A,N/A,41413915
2025-05-26T19:06:25.823Z: Successfully wrote to log file using writeFileSync
2025-05-26T19:06:25.823Z: Successfully logged combined sensor data in one row with target temperature: N/A and target mode: N/A
2025-05-26T19:06:25.829Z: Initial combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-26T19:06:25.830Z: Logging enabled
2025-05-26T19:06:25.823Z: Re-initialization result: {"success":true,"message":"Sensor logging initialized to C:\\Users\\amin\\Desktop\\smart-space\\SmartSchool-Server\\logs\\sensor_data.csv","columns":[["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]}
2025-05-26T19:06:25.036Z: Received sensor data: {"temperature":23.5,"humidity":53.9}
2025-05-26T19:06:25.036Z: Formatted events: [{"name":"living room temperature","value":23.5,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":53.9,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T19:06:25.036Z: Successfully updated event: living room temperature = 23.5
2025-05-26T19:06:25.036Z: Successfully updated event: living room humidity = 53.9
2025-05-26T19:06:25.927Z: Initial poll - AC on: false, target temp: N/A, target mode: N/A
2025-05-26T19:06:25.927Z: Creating a combined row with motion=false, temp=23.5, humidity=53.9, light=true, ac_on=false, target_temp=N/A, target_mode=N/A
2025-05-26T19:06:25.927Z: logSensorData called with 7 sensors
2025-05-26T19:06:25.927Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-26T19:06:25.927Z: Setting spaceId column 8 to 41413915
2025-05-26T19:06:25.927Z: Setting column 3 (living room motion) to false
2025-05-26T19:06:25.927Z: Setting column 1 (living room temperature) to 23.5
2025-05-26T19:06:25.927Z: Setting column 2 (living room humidity) to 53.9
2025-05-26T19:06:25.927Z: Setting column 4 (light_state) to true
2025-05-26T19:06:25.927Z: Setting column 5 (ac_state) to false
2025-05-26T19:06:25.927Z: Setting column 6 (targetTemperature) to N/A
2025-05-26T19:06:25.927Z: Setting column 7 (targetAcMode) to N/A
2025-05-26T19:06:25.927Z: Preparing row: 2025-05-26 19:06:25,23.5,53.9,false,true,false,N/A,N/A,41413915
2025-05-26T19:06:25.927Z: Successfully wrote to log file using writeFileSync
2025-05-26T19:06:25.927Z: Successfully logged combined sensor data in one row with target temperature: N/A and target mode: N/A
2025-05-26T19:06:25.930Z: Initial combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-26T19:08:05.049Z: Polling for sensor data... (poll #1)
2025-05-26T19:08:05.049Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T19:08:05.049Z: Received sensor data: {"temperature":23.5,"humidity":54.3}
2025-05-26T19:08:05.049Z: Formatted events: [{"name":"living room temperature","value":23.5,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":54.3,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T19:08:05.049Z: Successfully updated event: living room temperature = 23.5
2025-05-26T19:08:05.049Z: Successfully updated event: living room humidity = 54.3
2025-05-26T19:08:05.729Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":23.5,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":54.3,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-26T19:08:05.729Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T19:08:05.729Z: Received motion sensor data: {"motionDetected":true}
2025-05-26T19:08:05.729Z: Formatted motion sensor events: [{"name":"living room motion","value":true,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T19:08:05.729Z: Successfully updated motion event: living room motion = true
2025-05-26T19:08:05.885Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":true,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-26T19:08:06.434Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":false,"swing":"fixedMiddle","targetTemperature":21,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-26T19:08:04.561492Z"}}
2025-05-26T19:08:06.435Z: Extracted AC on state: false, target temperature: N/A, target mode: N/A
2025-05-26T19:08:06.771Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":true},"success":true}
2025-05-26T19:08:06.772Z: Extracted light state: true
2025-05-26T19:08:06.772Z: Creating a combined row with motion=true, temp=23.5, humidity=54.3, light=true, ac_on=false, target_temp=N/A, target_mode=N/A
2025-05-26T19:08:06.772Z: logSensorData called with 7 sensors
2025-05-26T19:08:06.772Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-26T19:08:06.772Z: Setting spaceId column 8 to 41413915
2025-05-26T19:08:06.772Z: Setting column 3 (living room motion) to true
2025-05-26T19:08:06.772Z: Setting column 1 (living room temperature) to 23.5
2025-05-26T19:08:06.772Z: Setting column 2 (living room humidity) to 54.3
2025-05-26T19:08:06.772Z: Setting column 4 (light_state) to true
2025-05-26T19:08:06.772Z: Setting column 5 (ac_state) to false
2025-05-26T19:08:06.772Z: Setting column 6 (targetTemperature) to N/A
2025-05-26T19:08:06.772Z: Setting column 7 (targetAcMode) to N/A
2025-05-26T19:08:06.772Z: Preparing row: 2025-05-26 19:08:06,23.5,54.3,true,true,false,N/A,N/A,41413915
2025-05-26T19:08:06.772Z: Successfully wrote to log file using writeFileSync
2025-05-26T19:08:06.772Z: Successfully logged combined sensor data in one row with target temperature: N/A and target mode: N/A
2025-05-26T19:08:06.776Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-26T19:08:06.777Z: Polling interval active: true
2025-05-26T19:09:45.059Z: Polling for sensor data... (poll #2)
2025-05-26T19:09:45.059Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T19:09:45.059Z: Received sensor data: {"temperature":23.5,"humidity":55.7}
2025-05-26T19:09:45.059Z: Formatted events: [{"name":"living room temperature","value":23.5,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":55.7,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T19:09:45.059Z: Successfully updated event: living room temperature = 23.5
2025-05-26T19:09:45.059Z: Successfully updated event: living room humidity = 55.7
2025-05-26T19:09:45.582Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":23.5,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":55.7,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-26T19:09:45.582Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T19:09:45.582Z: Received motion sensor data: {"motionDetected":false}
2025-05-26T19:09:45.582Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T19:09:45.582Z: Successfully updated motion event: living room motion = false
2025-05-26T19:09:45.729Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-26T19:09:46.323Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":false,"swing":"fixedMiddle","targetTemperature":21,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-26T19:09:44.444886Z"}}
2025-05-26T19:09:46.323Z: Extracted AC on state: false, target temperature: N/A, target mode: N/A
2025-05-26T19:09:46.643Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":true},"success":true}
2025-05-26T19:09:46.644Z: Extracted light state: true
2025-05-26T19:09:46.644Z: Creating a combined row with motion=false, temp=23.5, humidity=55.7, light=true, ac_on=false, target_temp=N/A, target_mode=N/A
2025-05-26T19:09:46.644Z: logSensorData called with 7 sensors
2025-05-26T19:09:46.644Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-26T19:09:46.644Z: Setting spaceId column 8 to 41413915
2025-05-26T19:09:46.644Z: Setting column 3 (living room motion) to false
2025-05-26T19:09:46.644Z: Setting column 1 (living room temperature) to 23.5
2025-05-26T19:09:46.644Z: Setting column 2 (living room humidity) to 55.7
2025-05-26T19:09:46.644Z: Setting column 4 (light_state) to true
2025-05-26T19:09:46.644Z: Setting column 5 (ac_state) to false
2025-05-26T19:09:46.644Z: Setting column 6 (targetTemperature) to N/A
2025-05-26T19:09:46.644Z: Setting column 7 (targetAcMode) to N/A
2025-05-26T19:09:46.644Z: Preparing row: 2025-05-26 19:09:46,23.5,55.7,false,true,false,N/A,N/A,41413915
2025-05-26T19:09:46.644Z: Successfully wrote to log file using writeFileSync
2025-05-26T19:09:46.644Z: Successfully logged combined sensor data in one row with target temperature: N/A and target mode: N/A
2025-05-26T19:09:46.647Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-26T19:09:46.647Z: Polling interval active: true
2025-05-26T19:11:25.067Z: Polling for sensor data... (poll #3)
2025-05-26T19:11:25.068Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T19:11:25.068Z: Received sensor data: {"temperature":23.4,"humidity":56.1}
2025-05-26T19:11:25.068Z: Formatted events: [{"name":"living room temperature","value":23.4,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":56.1,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T19:11:25.068Z: Successfully updated event: living room temperature = 23.4
2025-05-26T19:11:25.068Z: Successfully updated event: living room humidity = 56.1
2025-05-26T19:11:25.608Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":23.4,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":56.1,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-26T19:11:25.609Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T19:11:25.609Z: Received motion sensor data: {"motionDetected":true}
2025-05-26T19:11:25.609Z: Formatted motion sensor events: [{"name":"living room motion","value":true,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T19:11:25.609Z: Successfully updated motion event: living room motion = true
2025-05-26T19:11:25.759Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":true,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-26T19:11:26.383Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":false,"swing":"fixedMiddle","targetTemperature":21,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-26T19:11:24.507326Z"}}
2025-05-26T19:11:26.383Z: Extracted AC on state: false, target temperature: N/A, target mode: N/A
2025-05-26T19:11:26.694Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":true},"success":true}
2025-05-26T19:11:26.695Z: Extracted light state: true
2025-05-26T19:11:26.695Z: Creating a combined row with motion=true, temp=23.4, humidity=56.1, light=true, ac_on=false, target_temp=N/A, target_mode=N/A
2025-05-26T19:11:26.695Z: logSensorData called with 7 sensors
2025-05-26T19:11:26.695Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-26T19:11:26.695Z: Setting spaceId column 8 to 41413915
2025-05-26T19:11:26.695Z: Setting column 3 (living room motion) to true
2025-05-26T19:11:26.695Z: Setting column 1 (living room temperature) to 23.4
2025-05-26T19:11:26.695Z: Setting column 2 (living room humidity) to 56.1
2025-05-26T19:11:26.695Z: Setting column 4 (light_state) to true
2025-05-26T19:11:26.695Z: Setting column 5 (ac_state) to false
2025-05-26T19:11:26.695Z: Setting column 6 (targetTemperature) to N/A
2025-05-26T19:11:26.695Z: Setting column 7 (targetAcMode) to N/A
2025-05-26T19:11:26.695Z: Preparing row: 2025-05-26 19:11:26,23.4,56.1,true,true,false,N/A,N/A,41413915
2025-05-26T19:11:26.695Z: Successfully wrote to log file using writeFileSync
2025-05-26T19:11:26.695Z: Successfully logged combined sensor data in one row with target temperature: N/A and target mode: N/A
2025-05-26T19:11:26.698Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-26T19:11:26.698Z: Polling interval active: true
2025-05-26T19:13:05.074Z: Polling for sensor data... (poll #4)
2025-05-26T19:13:05.075Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T19:13:05.075Z: Received sensor data: {"temperature":23.4,"humidity":56.7}
2025-05-26T19:13:05.075Z: Formatted events: [{"name":"living room temperature","value":23.4,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":56.7,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T19:13:05.075Z: Successfully updated event: living room temperature = 23.4
2025-05-26T19:13:05.075Z: Successfully updated event: living room humidity = 56.7
2025-05-26T19:13:05.658Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":23.4,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":56.7,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-26T19:13:05.658Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T19:13:05.658Z: Received motion sensor data: {"motionDetected":false}
2025-05-26T19:13:05.658Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T19:13:05.658Z: Successfully updated motion event: living room motion = false
2025-05-26T19:13:05.809Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-26T19:13:06.421Z: AC state is: {"mode":"cool","on":true,"targetTemperature":21,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-26T19:13:04.548011Z"}}
2025-05-26T19:13:06.422Z: Extracted AC on state: true, target temperature: 21, target mode: cool
2025-05-26T19:13:06.753Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":true},"success":true}
2025-05-26T19:13:06.754Z: Extracted light state: true
2025-05-26T19:13:06.754Z: Creating a combined row with motion=false, temp=23.4, humidity=56.7, light=true, ac_on=true, target_temp=21, target_mode=cool
2025-05-26T19:13:06.755Z: logSensorData called with 7 sensors
2025-05-26T19:13:06.755Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-26T19:13:06.755Z: Setting spaceId column 8 to 41413915
2025-05-26T19:13:06.755Z: Setting column 3 (living room motion) to false
2025-05-26T19:13:06.755Z: Setting column 1 (living room temperature) to 23.4
2025-05-26T19:13:06.755Z: Setting column 2 (living room humidity) to 56.7
2025-05-26T19:13:06.755Z: Setting column 4 (light_state) to true
2025-05-26T19:13:06.755Z: Setting column 5 (ac_state) to true
2025-05-26T19:13:06.755Z: Setting column 6 (targetTemperature) to 21
2025-05-26T19:13:06.755Z: Setting column 7 (targetAcMode) to cool
2025-05-26T19:13:06.755Z: Preparing row: 2025-05-26 19:13:06,23.4,56.7,false,true,true,21,cool,41413915
2025-05-26T19:13:06.755Z: Successfully wrote to log file using writeFileSync
2025-05-26T19:13:06.754Z: Successfully logged combined sensor data in one row with target temperature: 21 and target mode: cool
2025-05-26T19:13:06.757Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-26T19:13:06.758Z: Polling interval active: true
2025-05-26T19:14:45.084Z: Polling for sensor data... (poll #5)
2025-05-26T19:14:45.084Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T19:14:45.084Z: Received sensor data: {"temperature":23.4,"humidity":54.7}
2025-05-26T19:14:45.084Z: Formatted events: [{"name":"living room temperature","value":23.4,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":54.7,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T19:14:45.084Z: Successfully updated event: living room temperature = 23.4
2025-05-26T19:14:45.084Z: Successfully updated event: living room humidity = 54.7
2025-05-26T19:14:45.654Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":23.4,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":54.7,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-26T19:14:45.655Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T19:14:45.655Z: Received motion sensor data: {"motionDetected":false}
2025-05-26T19:14:45.655Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T19:14:45.655Z: Successfully updated motion event: living room motion = false
2025-05-26T19:14:45.803Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-26T19:14:46.437Z: AC state is: {"mode":"cool","on":true,"targetTemperature":21,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-26T19:14:44.567675Z"}}
2025-05-26T19:14:46.438Z: Extracted AC on state: true, target temperature: 21, target mode: cool
2025-05-26T19:14:46.774Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":true},"success":true}
2025-05-26T19:14:46.774Z: Extracted light state: true
2025-05-26T19:14:46.774Z: Creating a combined row with motion=false, temp=23.4, humidity=54.7, light=true, ac_on=true, target_temp=21, target_mode=cool
2025-05-26T19:14:46.774Z: logSensorData called with 7 sensors
2025-05-26T19:14:46.774Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-26T19:14:46.774Z: Setting spaceId column 8 to 41413915
2025-05-26T19:14:46.774Z: Setting column 3 (living room motion) to false
2025-05-26T19:14:46.774Z: Setting column 1 (living room temperature) to 23.4
2025-05-26T19:14:46.774Z: Setting column 2 (living room humidity) to 54.7
2025-05-26T19:14:46.774Z: Setting column 4 (light_state) to true
2025-05-26T19:14:46.774Z: Setting column 5 (ac_state) to true
2025-05-26T19:14:46.774Z: Setting column 6 (targetTemperature) to 21
2025-05-26T19:14:46.774Z: Setting column 7 (targetAcMode) to cool
2025-05-26T19:14:46.774Z: Preparing row: 2025-05-26 19:14:46,23.4,54.7,false,true,true,21,cool,41413915
2025-05-26T19:14:46.774Z: Successfully wrote to log file using writeFileSync
2025-05-26T19:14:46.774Z: Successfully logged combined sensor data in one row with target temperature: 21 and target mode: cool
2025-05-26T19:14:46.777Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-26T19:14:46.778Z: Polling interval active: true
2025-05-26T19:16:25.093Z: Polling for sensor data... (poll #6)
2025-05-26T19:16:25.094Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T19:16:25.094Z: Received sensor data: {"temperature":23.2,"humidity":53.8}
2025-05-26T19:16:25.094Z: Formatted events: [{"name":"living room temperature","value":23.2,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":53.8,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T19:16:25.094Z: Successfully updated event: living room temperature = 23.2
2025-05-26T19:16:25.094Z: Successfully updated event: living room humidity = 53.8
2025-05-26T19:16:25.667Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":23.2,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":53.8,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-26T19:16:25.667Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T19:16:25.667Z: Received motion sensor data: {"motionDetected":false}
2025-05-26T19:16:25.667Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T19:16:25.667Z: Successfully updated motion event: living room motion = false
2025-05-26T19:16:25.817Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-26T19:16:26.427Z: AC state is: {"mode":"cool","on":true,"targetTemperature":21,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-26T19:16:24.554452Z"}}
2025-05-26T19:16:26.427Z: Extracted AC on state: true, target temperature: 21, target mode: cool
2025-05-26T19:16:26.805Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":true},"success":true}
2025-05-26T19:16:26.806Z: Extracted light state: true
2025-05-26T19:16:26.806Z: Creating a combined row with motion=false, temp=23.2, humidity=53.8, light=true, ac_on=true, target_temp=21, target_mode=cool
2025-05-26T19:16:26.807Z: logSensorData called with 7 sensors
2025-05-26T19:16:26.807Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-26T19:16:26.807Z: Setting spaceId column 8 to 41413915
2025-05-26T19:16:26.807Z: Setting column 3 (living room motion) to false
2025-05-26T19:16:26.807Z: Setting column 1 (living room temperature) to 23.2
2025-05-26T19:16:26.807Z: Setting column 2 (living room humidity) to 53.8
2025-05-26T19:16:26.807Z: Setting column 4 (light_state) to true
2025-05-26T19:16:26.807Z: Setting column 5 (ac_state) to true
2025-05-26T19:16:26.807Z: Setting column 6 (targetTemperature) to 21
2025-05-26T19:16:26.807Z: Setting column 7 (targetAcMode) to cool
2025-05-26T19:16:26.807Z: Preparing row: 2025-05-26 19:16:26,23.2,53.8,false,true,true,21,cool,41413915
2025-05-26T19:16:26.807Z: Successfully wrote to log file using writeFileSync
2025-05-26T19:16:26.806Z: Successfully logged combined sensor data in one row with target temperature: 21 and target mode: cool
2025-05-26T19:16:26.810Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-26T19:16:26.810Z: Polling interval active: true
2025-05-26T19:18:05.102Z: Polling for sensor data... (poll #7)
2025-05-26T19:18:05.103Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T19:18:05.103Z: Received sensor data: {"temperature":23,"humidity":52.8}
2025-05-26T19:18:05.103Z: Formatted events: [{"name":"living room temperature","value":23,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":52.8,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T19:18:05.103Z: Successfully updated event: living room temperature = 23
2025-05-26T19:18:05.103Z: Successfully updated event: living room humidity = 52.8
2025-05-26T19:18:05.620Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":23,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":52.8,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-26T19:18:05.620Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T19:18:05.620Z: Received motion sensor data: {"motionDetected":true}
2025-05-26T19:18:05.620Z: Formatted motion sensor events: [{"name":"living room motion","value":true,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T19:18:05.620Z: Successfully updated motion event: living room motion = true
2025-05-26T19:18:05.841Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":true,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-26T19:18:06.455Z: AC state is: {"mode":"cool","on":true,"targetTemperature":21,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-26T19:18:04.587872Z"}}
2025-05-26T19:18:06.455Z: Extracted AC on state: true, target temperature: 21, target mode: cool
2025-05-26T19:18:06.779Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":true},"success":true}
2025-05-26T19:18:06.780Z: Extracted light state: true
2025-05-26T19:18:06.780Z: Creating a combined row with motion=true, temp=23, humidity=52.8, light=true, ac_on=true, target_temp=21, target_mode=cool
2025-05-26T19:18:06.781Z: logSensorData called with 7 sensors
2025-05-26T19:18:06.781Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-26T19:18:06.781Z: Setting spaceId column 8 to 41413915
2025-05-26T19:18:06.781Z: Setting column 3 (living room motion) to true
2025-05-26T19:18:06.781Z: Setting column 1 (living room temperature) to 23
2025-05-26T19:18:06.781Z: Setting column 2 (living room humidity) to 52.8
2025-05-26T19:18:06.781Z: Setting column 4 (light_state) to true
2025-05-26T19:18:06.781Z: Setting column 5 (ac_state) to true
2025-05-26T19:18:06.781Z: Setting column 6 (targetTemperature) to 21
2025-05-26T19:18:06.781Z: Setting column 7 (targetAcMode) to cool
2025-05-26T19:18:06.781Z: Preparing row: 2025-05-26 19:18:06,23,52.8,true,true,true,21,cool,41413915
2025-05-26T19:18:06.781Z: Successfully wrote to log file using writeFileSync
2025-05-26T19:18:06.780Z: Successfully logged combined sensor data in one row with target temperature: 21 and target mode: cool
2025-05-26T19:18:06.784Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-26T19:18:06.784Z: Polling interval active: true
2025-05-26T19:19:45.109Z: Polling for sensor data... (poll #8)
2025-05-26T19:19:45.110Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T19:19:45.110Z: Received sensor data: {"temperature":22.9,"humidity":51.9}
2025-05-26T19:19:45.110Z: Formatted events: [{"name":"living room temperature","value":22.9,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":51.9,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T19:19:45.110Z: Successfully updated event: living room temperature = 22.9
2025-05-26T19:19:45.110Z: Successfully updated event: living room humidity = 51.9
2025-05-26T19:19:45.710Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":22.9,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":51.9,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-26T19:19:45.710Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T19:19:45.710Z: Received motion sensor data: {"motionDetected":true}
2025-05-26T19:19:45.710Z: Formatted motion sensor events: [{"name":"living room motion","value":true,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T19:19:45.710Z: Successfully updated motion event: living room motion = true
2025-05-26T19:19:45.868Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":true,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-26T19:19:46.430Z: AC state is: {"mode":"cool","on":true,"targetTemperature":21,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-26T19:19:44.576496Z"}}
2025-05-26T19:19:46.430Z: Extracted AC on state: true, target temperature: 21, target mode: cool
2025-05-26T19:19:46.746Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":true},"success":true}
2025-05-26T19:19:46.747Z: Extracted light state: true
2025-05-26T19:19:46.747Z: Creating a combined row with motion=true, temp=22.9, humidity=51.9, light=true, ac_on=true, target_temp=21, target_mode=cool
2025-05-26T19:19:46.748Z: logSensorData called with 7 sensors
2025-05-26T19:19:46.748Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-26T19:19:46.748Z: Setting spaceId column 8 to 41413915
2025-05-26T19:19:46.748Z: Setting column 3 (living room motion) to true
2025-05-26T19:19:46.748Z: Setting column 1 (living room temperature) to 22.9
2025-05-26T19:19:46.748Z: Setting column 2 (living room humidity) to 51.9
2025-05-26T19:19:46.748Z: Setting column 4 (light_state) to true
2025-05-26T19:19:46.748Z: Setting column 5 (ac_state) to true
2025-05-26T19:19:46.748Z: Setting column 6 (targetTemperature) to 21
2025-05-26T19:19:46.748Z: Setting column 7 (targetAcMode) to cool
2025-05-26T19:19:46.748Z: Preparing row: 2025-05-26 19:19:46,22.9,51.9,true,true,true,21,cool,41413915
2025-05-26T19:19:46.748Z: Successfully wrote to log file using writeFileSync
2025-05-26T19:19:46.747Z: Successfully logged combined sensor data in one row with target temperature: 21 and target mode: cool
2025-05-26T19:19:46.751Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-26T19:19:46.751Z: Polling interval active: true
2025-05-26T19:21:25.117Z: Polling for sensor data... (poll #9)
2025-05-26T19:21:25.117Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T19:21:25.117Z: Received sensor data: {"temperature":22.7,"humidity":51.9}
2025-05-26T19:21:25.117Z: Formatted events: [{"name":"living room temperature","value":22.7,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":51.9,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T19:21:25.117Z: Successfully updated event: living room temperature = 22.7
2025-05-26T19:21:25.117Z: Successfully updated event: living room humidity = 51.9
2025-05-26T19:21:25.688Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":22.7,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":51.9,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-26T19:21:25.688Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T19:21:25.688Z: Received motion sensor data: {"motionDetected":true}
2025-05-26T19:21:25.688Z: Formatted motion sensor events: [{"name":"living room motion","value":true,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T19:21:25.688Z: Successfully updated motion event: living room motion = true
2025-05-26T19:21:25.845Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":true,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-26T19:21:26.437Z: AC state is: {"mode":"cool","on":true,"targetTemperature":21,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-26T19:21:24.571711Z"}}
2025-05-26T19:21:26.438Z: Extracted AC on state: true, target temperature: 21, target mode: cool
2025-05-26T19:21:26.750Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":true},"success":true}
2025-05-26T19:21:26.750Z: Extracted light state: true
2025-05-26T19:21:26.750Z: Creating a combined row with motion=true, temp=22.7, humidity=51.9, light=true, ac_on=true, target_temp=21, target_mode=cool
2025-05-26T19:21:26.751Z: logSensorData called with 7 sensors
2025-05-26T19:21:26.751Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-26T19:21:26.751Z: Setting spaceId column 8 to 41413915
2025-05-26T19:21:26.751Z: Setting column 3 (living room motion) to true
2025-05-26T19:21:26.751Z: Setting column 1 (living room temperature) to 22.7
2025-05-26T19:21:26.751Z: Setting column 2 (living room humidity) to 51.9
2025-05-26T19:21:26.751Z: Setting column 4 (light_state) to true
2025-05-26T19:21:26.751Z: Setting column 5 (ac_state) to true
2025-05-26T19:21:26.751Z: Setting column 6 (targetTemperature) to 21
2025-05-26T19:21:26.751Z: Setting column 7 (targetAcMode) to cool
2025-05-26T19:21:26.751Z: Preparing row: 2025-05-26 19:21:26,22.7,51.9,true,true,true,21,cool,41413915
2025-05-26T19:21:26.751Z: Successfully wrote to log file using writeFileSync
2025-05-26T19:21:26.750Z: Successfully logged combined sensor data in one row with target temperature: 21 and target mode: cool
2025-05-26T19:21:26.754Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-26T19:21:26.755Z: Polling interval active: true
2025-05-26T19:23:05.125Z: Polling for sensor data... (poll #10)
2025-05-26T19:23:05.126Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T19:23:05.126Z: Received sensor data: {"temperature":22.7,"humidity":51.3}
2025-05-26T19:23:05.126Z: Formatted events: [{"name":"living room temperature","value":22.7,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":51.3,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T19:23:05.126Z: Successfully updated event: living room temperature = 22.7
2025-05-26T19:23:05.126Z: Successfully updated event: living room humidity = 51.3
2025-05-26T19:23:05.675Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":22.7,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":51.3,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-26T19:23:05.675Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T19:23:05.675Z: Received motion sensor data: {"motionDetected":true}
2025-05-26T19:23:05.675Z: Formatted motion sensor events: [{"name":"living room motion","value":true,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T19:23:05.675Z: Successfully updated motion event: living room motion = true
2025-05-26T19:23:05.842Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":true,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-26T19:23:06.486Z: AC state is: {"mode":"cool","on":true,"targetTemperature":21,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-26T19:23:04.636933Z"}}
2025-05-26T19:23:06.486Z: Extracted AC on state: true, target temperature: 21, target mode: cool
2025-05-26T19:23:06.821Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":true},"success":true}
2025-05-26T19:23:06.821Z: Extracted light state: true
2025-05-26T19:23:06.821Z: Creating a combined row with motion=true, temp=22.7, humidity=51.3, light=true, ac_on=true, target_temp=21, target_mode=cool
2025-05-26T19:23:06.822Z: logSensorData called with 7 sensors
2025-05-26T19:23:06.822Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-26T19:23:06.822Z: Setting spaceId column 8 to 41413915
2025-05-26T19:23:06.822Z: Setting column 3 (living room motion) to true
2025-05-26T19:23:06.822Z: Setting column 1 (living room temperature) to 22.7
2025-05-26T19:23:06.822Z: Setting column 2 (living room humidity) to 51.3
2025-05-26T19:23:06.822Z: Setting column 4 (light_state) to true
2025-05-26T19:23:06.822Z: Setting column 5 (ac_state) to true
2025-05-26T19:23:06.822Z: Setting column 6 (targetTemperature) to 21
2025-05-26T19:23:06.822Z: Setting column 7 (targetAcMode) to cool
2025-05-26T19:23:06.822Z: Preparing row: 2025-05-26 19:23:06,22.7,51.3,true,true,true,21,cool,41413915
2025-05-26T19:23:06.822Z: Successfully wrote to log file using writeFileSync
2025-05-26T19:23:06.821Z: Successfully logged combined sensor data in one row with target temperature: 21 and target mode: cool
2025-05-26T19:23:06.825Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-26T19:23:06.825Z: Polling interval active: true
2025-05-26T19:24:45.125Z: Polling for sensor data... (poll #11)
2025-05-26T19:24:45.126Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T19:24:45.126Z: Received sensor data: {"temperature":22.6,"humidity":50.5}
2025-05-26T19:24:45.126Z: Formatted events: [{"name":"living room temperature","value":22.6,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":50.5,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T19:24:45.126Z: Successfully updated event: living room temperature = 22.6
2025-05-26T19:24:45.126Z: Successfully updated event: living room humidity = 50.5
2025-05-26T19:24:45.736Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":22.6,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":50.5,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-26T19:24:45.736Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T19:24:45.736Z: Received motion sensor data: {"motionDetected":false}
2025-05-26T19:24:45.736Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T19:24:45.736Z: Successfully updated motion event: living room motion = false
2025-05-26T19:24:45.882Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-26T19:24:46.408Z: AC state is: {"mode":"cool","on":true,"targetTemperature":21,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-26T19:24:44.553741Z"}}
2025-05-26T19:24:46.408Z: Extracted AC on state: true, target temperature: 21, target mode: cool
2025-05-26T19:24:46.755Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":true},"success":true}
2025-05-26T19:24:46.756Z: Extracted light state: true
2025-05-26T19:24:46.756Z: Creating a combined row with motion=false, temp=22.6, humidity=50.5, light=true, ac_on=true, target_temp=21, target_mode=cool
2025-05-26T19:24:46.756Z: logSensorData called with 7 sensors
2025-05-26T19:24:46.756Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-26T19:24:46.756Z: Setting spaceId column 8 to 41413915
2025-05-26T19:24:46.756Z: Setting column 3 (living room motion) to false
2025-05-26T19:24:46.756Z: Setting column 1 (living room temperature) to 22.6
2025-05-26T19:24:46.756Z: Setting column 2 (living room humidity) to 50.5
2025-05-26T19:24:46.756Z: Setting column 4 (light_state) to true
2025-05-26T19:24:46.756Z: Setting column 5 (ac_state) to true
2025-05-26T19:24:46.756Z: Setting column 6 (targetTemperature) to 21
2025-05-26T19:24:46.756Z: Setting column 7 (targetAcMode) to cool
2025-05-26T19:24:46.756Z: Preparing row: 2025-05-26 19:24:46,22.6,50.5,false,true,true,21,cool,41413915
2025-05-26T19:24:46.756Z: Successfully wrote to log file using writeFileSync
2025-05-26T19:24:46.756Z: Successfully logged combined sensor data in one row with target temperature: 21 and target mode: cool
2025-05-26T19:24:46.760Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-26T19:24:46.760Z: Polling interval active: true
2025-05-26T19:26:25.135Z: Polling for sensor data... (poll #12)
2025-05-26T19:26:25.136Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T19:26:25.136Z: Received sensor data: {"temperature":22.5,"humidity":50.3}
2025-05-26T19:26:25.136Z: Formatted events: [{"name":"living room temperature","value":22.5,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":50.3,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T19:26:25.136Z: Successfully updated event: living room temperature = 22.5
2025-05-26T19:26:25.136Z: Successfully updated event: living room humidity = 50.3
2025-05-26T19:26:25.770Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":22.5,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":50.3,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-26T19:26:25.771Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T19:26:25.771Z: Received motion sensor data: {"motionDetected":false}
2025-05-26T19:26:25.771Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T19:26:25.771Z: Successfully updated motion event: living room motion = false
2025-05-26T19:26:25.917Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-26T19:26:26.532Z: AC state is: {"mode":"cool","on":true,"targetTemperature":21,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-26T19:26:24.683409Z"}}
2025-05-26T19:26:26.532Z: Extracted AC on state: true, target temperature: 21, target mode: cool
2025-05-26T19:26:26.874Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":true},"success":true}
2025-05-26T19:26:26.874Z: Extracted light state: true
2025-05-26T19:26:26.875Z: Creating a combined row with motion=false, temp=22.5, humidity=50.3, light=true, ac_on=true, target_temp=21, target_mode=cool
2025-05-26T19:26:26.875Z: logSensorData called with 7 sensors
2025-05-26T19:26:26.875Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-26T19:26:26.875Z: Setting spaceId column 8 to 41413915
2025-05-26T19:26:26.875Z: Setting column 3 (living room motion) to false
2025-05-26T19:26:26.875Z: Setting column 1 (living room temperature) to 22.5
2025-05-26T19:26:26.875Z: Setting column 2 (living room humidity) to 50.3
2025-05-26T19:26:26.875Z: Setting column 4 (light_state) to true
2025-05-26T19:26:26.875Z: Setting column 5 (ac_state) to true
2025-05-26T19:26:26.875Z: Setting column 6 (targetTemperature) to 21
2025-05-26T19:26:26.875Z: Setting column 7 (targetAcMode) to cool
2025-05-26T19:26:26.875Z: Preparing row: 2025-05-26 19:26:26,22.5,50.3,false,true,true,21,cool,41413915
2025-05-26T19:26:26.875Z: Successfully wrote to log file using writeFileSync
2025-05-26T19:26:26.875Z: Successfully logged combined sensor data in one row with target temperature: 21 and target mode: cool
2025-05-26T19:26:26.879Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-26T19:26:26.879Z: Polling interval active: true
2025-05-26T19:27:10.268Z: Initializing sensor logging service
2025-05-26T19:27:10.268Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-26T19:27:10.269Z: Added light_state column to event names
2025-05-26T19:27:10.269Z: Added ac_state column to event names
2025-05-26T19:27:10.269Z: Added ac_state column to event names
2025-05-26T19:27:10.270Z: Added targetAcMode column to event names
2025-05-26T19:27:10.270Z: Using existing log file
2025-05-26T19:27:10.273Z: Logging enabled
2025-05-26T19:27:10.274Z: No polling was active to stop
2025-05-26T19:27:10.275Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-05-26T19:27:10.275Z: Polling interval set with ID: 920
2025-05-26T19:27:10.276Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T19:27:10.277Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T19:27:10.340Z: Initializing sensor logging service
2025-05-26T19:27:10.340Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-26T19:27:10.341Z: Added light_state column to event names
2025-05-26T19:27:10.341Z: Added ac_state column to event names
2025-05-26T19:27:10.341Z: Added ac_state column to event names
2025-05-26T19:27:10.342Z: Added targetAcMode column to event names
2025-05-26T19:27:10.342Z: Using existing log file
2025-05-26T19:27:10.344Z: Closing existing log stream before creating new one
2025-05-26T19:27:10.345Z: Logging enabled
2025-05-26T19:27:10.345Z: Stopping sensor polling interval: 920
2025-05-26T19:27:10.345Z: Closing logging service
2025-05-26T19:27:10.346Z: Closing sensor logging service
2025-05-26T19:27:10.346Z: Closing log stream
2025-05-26T19:27:10.346Z: Logging stopped at 2025-05-26T19:27:10.346Z
2025-05-26T19:27:10.347Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-05-26T19:27:10.347Z: Polling interval set with ID: 1026
2025-05-26T19:27:10.347Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T19:27:10.347Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T19:27:10.277Z: Received motion sensor data: {"motionDetected":false}
2025-05-26T19:27:10.277Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T19:27:10.277Z: Successfully updated motion event: living room motion = false
2025-05-26T19:27:10.347Z: Received motion sensor data: {"motionDetected":false}
2025-05-26T19:27:10.347Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T19:27:10.347Z: Successfully updated motion event: living room motion = false
2025-05-26T19:27:10.276Z: Received sensor data: {"temperature":22.4,"humidity":50.4}
2025-05-26T19:27:10.276Z: Formatted events: [{"name":"living room temperature","value":22.4,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":50.4,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T19:27:10.276Z: Successfully updated event: living room temperature = 22.4
2025-05-26T19:27:10.276Z: Successfully updated event: living room humidity = 50.4
2025-05-26T19:27:11.132Z: Initial poll - AC on: true, target temp: 21, target mode: cool
2025-05-26T19:27:11.133Z: Creating a combined row with motion=false, temp=22.4, humidity=50.4, light=true, ac_on=true, target_temp=21, target_mode=cool
2025-05-26T19:27:11.133Z: logSensorData called with 7 sensors
2025-05-26T19:27:11.133Z: WARNING - Logging is disabled but logSensorData was called
2025-05-26T19:27:11.133Z: Attempting to re-initialize logging with existing events
2025-05-26T19:27:11.133Z: Initializing sensor logging service
2025-05-26T19:27:11.134Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-26T19:27:11.134Z: Using existing log file
2025-05-26T19:27:11.133Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-26T19:27:11.133Z: Setting spaceId column 8 to 41413915
2025-05-26T19:27:11.133Z: Setting column 3 (living room motion) to false
2025-05-26T19:27:11.133Z: Setting column 1 (living room temperature) to 22.4
2025-05-26T19:27:11.133Z: Setting column 2 (living room humidity) to 50.4
2025-05-26T19:27:11.133Z: Setting column 4 (light_state) to true
2025-05-26T19:27:11.133Z: Setting column 5 (ac_state) to true
2025-05-26T19:27:11.133Z: Setting column 6 (targetTemperature) to 21
2025-05-26T19:27:11.133Z: Setting column 7 (targetAcMode) to cool
2025-05-26T19:27:11.133Z: Preparing row: 2025-05-26 19:27:11,22.4,50.4,false,true,true,21,cool,41413915
2025-05-26T19:27:11.133Z: Successfully wrote to log file using writeFileSync
2025-05-26T19:27:11.133Z: Successfully logged combined sensor data in one row with target temperature: 21 and target mode: cool
2025-05-26T19:27:11.137Z: Initial combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-26T19:27:11.138Z: Logging enabled
2025-05-26T19:27:11.133Z: Re-initialization result: {"success":true,"message":"Sensor logging initialized to C:\\Users\\amin\\Desktop\\smart-space\\SmartSchool-Server\\logs\\sensor_data.csv","columns":[["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]}
2025-05-26T19:27:10.347Z: Received sensor data: {"temperature":22.4,"humidity":50.4}
2025-05-26T19:27:10.347Z: Formatted events: [{"name":"living room temperature","value":22.4,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":50.4,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T19:27:10.347Z: Successfully updated event: living room temperature = 22.4
2025-05-26T19:27:10.347Z: Successfully updated event: living room humidity = 50.4
2025-05-26T19:27:11.167Z: Initial poll - AC on: true, target temp: 21, target mode: cool
2025-05-26T19:27:11.167Z: Creating a combined row with motion=false, temp=22.4, humidity=50.4, light=true, ac_on=true, target_temp=21, target_mode=cool
2025-05-26T19:27:11.167Z: logSensorData called with 7 sensors
2025-05-26T19:27:11.167Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-26T19:27:11.167Z: Setting spaceId column 8 to 41413915
2025-05-26T19:27:11.167Z: Setting column 3 (living room motion) to false
2025-05-26T19:27:11.167Z: Setting column 1 (living room temperature) to 22.4
2025-05-26T19:27:11.167Z: Setting column 2 (living room humidity) to 50.4
2025-05-26T19:27:11.167Z: Setting column 4 (light_state) to true
2025-05-26T19:27:11.167Z: Setting column 5 (ac_state) to true
2025-05-26T19:27:11.167Z: Setting column 6 (targetTemperature) to 21
2025-05-26T19:27:11.167Z: Setting column 7 (targetAcMode) to cool
2025-05-26T19:27:11.167Z: Preparing row: 2025-05-26 19:27:11,22.4,50.4,false,true,true,21,cool,41413915
2025-05-26T19:27:11.167Z: Successfully wrote to log file using writeFileSync
2025-05-26T19:27:11.167Z: Successfully logged combined sensor data in one row with target temperature: 21 and target mode: cool
2025-05-26T19:27:11.170Z: Initial combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-26T19:35:00.582Z: Initializing sensor logging service
2025-05-26T19:35:00.583Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-26T19:35:00.584Z: Added light_state column to event names
2025-05-26T19:35:00.584Z: Added ac_state column to event names
2025-05-26T19:35:00.584Z: Added ac_state column to event names
2025-05-26T19:35:00.585Z: Added targetAcMode column to event names
2025-05-26T19:35:00.585Z: Using existing log file
2025-05-26T19:35:00.586Z: Logging enabled
2025-05-26T19:35:00.587Z: No polling was active to stop
2025-05-26T19:35:00.591Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-05-26T19:35:00.591Z: Polling interval set with ID: 1049
2025-05-26T19:35:00.592Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T19:35:00.593Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T19:35:00.593Z: Received motion sensor data: {"motionDetected":false}
2025-05-26T19:35:00.593Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T19:35:00.593Z: Successfully updated motion event: living room motion = false
2025-05-26T19:35:00.938Z: Initializing sensor logging service
2025-05-26T19:35:00.939Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-26T19:35:00.939Z: Added light_state column to event names
2025-05-26T19:35:00.940Z: Added ac_state column to event names
2025-05-26T19:35:00.942Z: Added ac_state column to event names
2025-05-26T19:35:00.942Z: Added targetAcMode column to event names
2025-05-26T19:35:00.943Z: Using existing log file
2025-05-26T19:35:00.946Z: Closing existing log stream before creating new one
2025-05-26T19:35:00.946Z: Logging enabled
2025-05-26T19:35:00.946Z: Stopping sensor polling interval: 1049
2025-05-26T19:35:00.946Z: Closing logging service
2025-05-26T19:35:00.947Z: Closing sensor logging service
2025-05-26T19:35:00.947Z: Closing log stream
2025-05-26T19:35:00.947Z: Logging stopped at 2025-05-26T19:35:00.947Z
2025-05-26T19:35:00.949Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-05-26T19:35:00.949Z: Polling interval set with ID: 1220
2025-05-26T19:35:00.949Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T19:35:00.950Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T19:35:00.592Z: Received sensor data: {"temperature":22.3,"humidity":51.2}
2025-05-26T19:35:00.592Z: Formatted events: [{"name":"living room temperature","value":22.3,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":51.2,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T19:35:00.592Z: Successfully updated event: living room temperature = 22.3
2025-05-26T19:35:00.592Z: Successfully updated event: living room humidity = 51.2
2025-05-26T19:35:00.950Z: Received motion sensor data: {"motionDetected":false}
2025-05-26T19:35:00.950Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T19:35:00.950Z: Successfully updated motion event: living room motion = false
2025-05-26T19:35:01.466Z: Initial poll - AC on: true, target temp: 20, target mode: cool
2025-05-26T19:35:01.466Z: Creating a combined row with motion=false, temp=22.3, humidity=51.2, light=true, ac_on=true, target_temp=20, target_mode=cool
2025-05-26T19:35:01.467Z: logSensorData called with 7 sensors
2025-05-26T19:35:01.467Z: WARNING - Logging is disabled but logSensorData was called
2025-05-26T19:35:01.467Z: Attempting to re-initialize logging with existing events
2025-05-26T19:35:01.467Z: Initializing sensor logging service
2025-05-26T19:35:01.468Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-26T19:35:01.469Z: Using existing log file
2025-05-26T19:35:01.467Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-26T19:35:01.467Z: Setting spaceId column 8 to 41413915
2025-05-26T19:35:01.467Z: Setting column 3 (living room motion) to false
2025-05-26T19:35:01.467Z: Setting column 1 (living room temperature) to 22.3
2025-05-26T19:35:01.467Z: Setting column 2 (living room humidity) to 51.2
2025-05-26T19:35:01.467Z: Setting column 4 (light_state) to true
2025-05-26T19:35:01.467Z: Setting column 5 (ac_state) to true
2025-05-26T19:35:01.467Z: Setting column 6 (targetTemperature) to 20
2025-05-26T19:35:01.467Z: Setting column 7 (targetAcMode) to cool
2025-05-26T19:35:01.467Z: Preparing row: 2025-05-26 19:35:01,22.3,51.2,false,true,true,20,cool,41413915
2025-05-26T19:35:01.467Z: Successfully wrote to log file using writeFileSync
2025-05-26T19:35:01.466Z: Successfully logged combined sensor data in one row with target temperature: 20 and target mode: cool
2025-05-26T19:35:01.473Z: Initial combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-26T19:35:01.473Z: Logging enabled
2025-05-26T19:35:01.467Z: Re-initialization result: {"success":true,"message":"Sensor logging initialized to C:\\Users\\amin\\Desktop\\smart-space\\SmartSchool-Server\\logs\\sensor_data.csv","columns":[["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]}
2025-05-26T19:35:00.949Z: Received sensor data: {"temperature":22.3,"humidity":51.2}
2025-05-26T19:35:00.949Z: Formatted events: [{"name":"living room temperature","value":22.3,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":51.2,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T19:35:00.949Z: Successfully updated event: living room temperature = 22.3
2025-05-26T19:35:00.949Z: Successfully updated event: living room humidity = 51.2
2025-05-26T19:35:01.694Z: Initial poll - AC on: true, target temp: 20, target mode: cool
2025-05-26T19:35:01.695Z: Creating a combined row with motion=false, temp=22.3, humidity=51.2, light=true, ac_on=true, target_temp=20, target_mode=cool
2025-05-26T19:35:01.695Z: logSensorData called with 7 sensors
2025-05-26T19:35:01.695Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-26T19:35:01.695Z: Setting spaceId column 8 to 41413915
2025-05-26T19:35:01.695Z: Setting column 3 (living room motion) to false
2025-05-26T19:35:01.695Z: Setting column 1 (living room temperature) to 22.3
2025-05-26T19:35:01.695Z: Setting column 2 (living room humidity) to 51.2
2025-05-26T19:35:01.695Z: Setting column 4 (light_state) to true
2025-05-26T19:35:01.695Z: Setting column 5 (ac_state) to true
2025-05-26T19:35:01.695Z: Setting column 6 (targetTemperature) to 20
2025-05-26T19:35:01.695Z: Setting column 7 (targetAcMode) to cool
2025-05-26T19:35:01.695Z: Preparing row: 2025-05-26 19:35:01,22.3,51.2,false,true,true,20,cool,41413915
2025-05-26T19:35:01.695Z: Successfully wrote to log file using writeFileSync
2025-05-26T19:35:01.695Z: Successfully logged combined sensor data in one row with target temperature: 20 and target mode: cool
2025-05-26T19:35:01.698Z: Initial combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-26T19:59:42.152Z: Initializing sensor logging service
2025-05-26T19:59:42.152Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-26T19:59:42.154Z: Added light_state column to event names
2025-05-26T19:59:42.154Z: Added ac_state column to event names
2025-05-26T19:59:42.154Z: Added ac_state column to event names
2025-05-26T19:59:42.155Z: Added targetAcMode column to event names
2025-05-26T19:59:42.155Z: Using existing log file
2025-05-26T19:59:42.157Z: Logging enabled
2025-05-26T19:59:42.158Z: No polling was active to stop
2025-05-26T19:59:42.159Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-05-26T19:59:42.159Z: Polling interval set with ID: 1019
2025-05-26T19:59:42.160Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T19:59:42.160Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T19:59:42.180Z: Initializing sensor logging service
2025-05-26T19:59:42.181Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-26T19:59:42.182Z: Added light_state column to event names
2025-05-26T19:59:42.182Z: Added ac_state column to event names
2025-05-26T19:59:42.182Z: Added ac_state column to event names
2025-05-26T19:59:42.182Z: Added targetAcMode column to event names
2025-05-26T19:59:42.182Z: Using existing log file
2025-05-26T19:59:42.183Z: Closing existing log stream before creating new one
2025-05-26T19:59:42.184Z: Logging enabled
2025-05-26T19:59:42.184Z: Stopping sensor polling interval: 1019
2025-05-26T19:59:42.184Z: Closing logging service
2025-05-26T19:59:42.184Z: Closing sensor logging service
2025-05-26T19:59:42.184Z: Closing log stream
2025-05-26T19:59:42.184Z: Logging stopped at 2025-05-26T19:59:42.184Z
2025-05-26T19:59:42.185Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-05-26T19:59:42.185Z: Polling interval set with ID: 1125
2025-05-26T19:59:42.186Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T19:59:42.186Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T19:59:42.160Z: Received motion sensor data: {"motionDetected":true}
2025-05-26T19:59:42.160Z: Formatted motion sensor events: [{"name":"living room motion","value":true,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T19:59:42.160Z: Successfully updated motion event: living room motion = true
2025-05-26T19:59:42.186Z: Received motion sensor data: {"motionDetected":true}
2025-05-26T19:59:42.186Z: Formatted motion sensor events: [{"name":"living room motion","value":true,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T19:59:42.186Z: Successfully updated motion event: living room motion = true
2025-05-26T19:59:42.160Z: Received sensor data: {"temperature":23.4,"humidity":52.1}
2025-05-26T19:59:42.160Z: Formatted events: [{"name":"living room temperature","value":23.4,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":52.1,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T19:59:42.160Z: Successfully updated event: living room temperature = 23.4
2025-05-26T19:59:42.160Z: Successfully updated event: living room humidity = 52.1
2025-05-26T19:59:42.969Z: Initial poll - AC on: true, target temp: 20, target mode: cool
2025-05-26T19:59:42.970Z: Creating a combined row with motion=true, temp=23.4, humidity=52.1, light=true, ac_on=true, target_temp=20, target_mode=cool
2025-05-26T19:59:42.970Z: logSensorData called with 7 sensors
2025-05-26T19:59:42.970Z: WARNING - Logging is disabled but logSensorData was called
2025-05-26T19:59:42.970Z: Attempting to re-initialize logging with existing events
2025-05-26T19:59:42.971Z: Initializing sensor logging service
2025-05-26T19:59:42.972Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-26T19:59:42.973Z: Using existing log file
2025-05-26T19:59:42.970Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-26T19:59:42.970Z: Setting spaceId column 8 to 41413915
2025-05-26T19:59:42.970Z: Setting column 3 (living room motion) to true
2025-05-26T19:59:42.970Z: Setting column 1 (living room temperature) to 23.4
2025-05-26T19:59:42.970Z: Setting column 2 (living room humidity) to 52.1
2025-05-26T19:59:42.970Z: Setting column 4 (light_state) to true
2025-05-26T19:59:42.970Z: Setting column 5 (ac_state) to true
2025-05-26T19:59:42.970Z: Setting column 6 (targetTemperature) to 20
2025-05-26T19:59:42.970Z: Setting column 7 (targetAcMode) to cool
2025-05-26T19:59:42.970Z: Preparing row: 2025-05-26 19:59:42,23.4,52.1,true,true,true,20,cool,41413915
2025-05-26T19:59:42.970Z: Successfully wrote to log file using writeFileSync
2025-05-26T19:59:42.970Z: Successfully logged combined sensor data in one row with target temperature: 20 and target mode: cool
2025-05-26T19:59:42.976Z: Initial combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-26T19:59:42.977Z: Logging enabled
2025-05-26T19:59:42.970Z: Re-initialization result: {"success":true,"message":"Sensor logging initialized to C:\\Users\\amin\\Desktop\\smart-space\\SmartSchool-Server\\logs\\sensor_data.csv","columns":[["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]}
2025-05-26T19:59:42.186Z: Received sensor data: {"temperature":23.4,"humidity":52.1}
2025-05-26T19:59:42.186Z: Formatted events: [{"name":"living room temperature","value":23.4,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":52.1,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T19:59:42.186Z: Successfully updated event: living room temperature = 23.4
2025-05-26T19:59:42.186Z: Successfully updated event: living room humidity = 52.1
2025-05-26T19:59:43.194Z: Initial poll - AC on: true, target temp: 20, target mode: cool
2025-05-26T19:59:43.194Z: Creating a combined row with motion=true, temp=23.4, humidity=52.1, light=true, ac_on=true, target_temp=20, target_mode=cool
2025-05-26T19:59:43.195Z: logSensorData called with 7 sensors
2025-05-26T19:59:43.195Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-26T19:59:43.195Z: Setting spaceId column 8 to 41413915
2025-05-26T19:59:43.195Z: Setting column 3 (living room motion) to true
2025-05-26T19:59:43.195Z: Setting column 1 (living room temperature) to 23.4
2025-05-26T19:59:43.195Z: Setting column 2 (living room humidity) to 52.1
2025-05-26T19:59:43.195Z: Setting column 4 (light_state) to true
2025-05-26T19:59:43.195Z: Setting column 5 (ac_state) to true
2025-05-26T19:59:43.195Z: Setting column 6 (targetTemperature) to 20
2025-05-26T19:59:43.195Z: Setting column 7 (targetAcMode) to cool
2025-05-26T19:59:43.195Z: Preparing row: 2025-05-26 19:59:43,23.4,52.1,true,true,true,20,cool,41413915
2025-05-26T19:59:43.195Z: Successfully wrote to log file using writeFileSync
2025-05-26T19:59:43.194Z: Successfully logged combined sensor data in one row with target temperature: 20 and target mode: cool
2025-05-26T19:59:43.198Z: Initial combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-26T20:01:22.197Z: Polling for sensor data... (poll #1)
2025-05-26T20:01:22.198Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T20:01:22.198Z: Received sensor data: {"temperature":23.4,"humidity":52.2}
2025-05-26T20:01:22.198Z: Formatted events: [{"name":"living room temperature","value":23.4,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":52.2,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T20:01:22.198Z: Successfully updated event: living room temperature = 23.4
2025-05-26T20:01:22.198Z: Successfully updated event: living room humidity = 52.2
2025-05-26T20:01:22.738Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":23.4,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":52.2,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-26T20:01:22.739Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T20:01:22.739Z: Received motion sensor data: {"motionDetected":false}
2025-05-26T20:01:22.739Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T20:01:22.739Z: Successfully updated motion event: living room motion = false
2025-05-26T20:01:22.891Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-26T20:01:23.508Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":true,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-26T20:01:21.714662Z"}}
2025-05-26T20:01:23.509Z: Extracted AC on state: true, target temperature: 20, target mode: cool
2025-05-26T20:01:23.852Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":true},"success":true}
2025-05-26T20:01:23.852Z: Extracted light state: true
2025-05-26T20:01:23.853Z: Creating a combined row with motion=false, temp=23.4, humidity=52.2, light=true, ac_on=true, target_temp=20, target_mode=cool
2025-05-26T20:01:23.853Z: logSensorData called with 7 sensors
2025-05-26T20:01:23.853Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-26T20:01:23.853Z: Setting spaceId column 8 to 41413915
2025-05-26T20:01:23.853Z: Setting column 3 (living room motion) to false
2025-05-26T20:01:23.853Z: Setting column 1 (living room temperature) to 23.4
2025-05-26T20:01:23.853Z: Setting column 2 (living room humidity) to 52.2
2025-05-26T20:01:23.853Z: Setting column 4 (light_state) to true
2025-05-26T20:01:23.853Z: Setting column 5 (ac_state) to true
2025-05-26T20:01:23.853Z: Setting column 6 (targetTemperature) to 20
2025-05-26T20:01:23.853Z: Setting column 7 (targetAcMode) to cool
2025-05-26T20:01:23.853Z: Preparing row: 2025-05-26 20:01:23,23.4,52.2,false,true,true,20,cool,41413915
2025-05-26T20:01:23.853Z: Successfully wrote to log file using writeFileSync
2025-05-26T20:01:23.853Z: Successfully logged combined sensor data in one row with target temperature: 20 and target mode: cool
2025-05-26T20:01:23.857Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-26T20:01:23.857Z: Polling interval active: true
2025-05-26T20:03:02.205Z: Polling for sensor data... (poll #2)
2025-05-26T20:03:02.206Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T20:03:02.206Z: Received sensor data: {"temperature":23.4,"humidity":52.2}
2025-05-26T20:03:02.206Z: Formatted events: [{"name":"living room temperature","value":23.4,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":52.2,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T20:03:02.206Z: Successfully updated event: living room temperature = 23.4
2025-05-26T20:03:02.206Z: Successfully updated event: living room humidity = 52.2
2025-05-26T20:03:02.747Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":23.4,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":52.2,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-26T20:03:02.748Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T20:03:02.748Z: Received motion sensor data: {"motionDetected":false}
2025-05-26T20:03:02.748Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T20:03:02.748Z: Successfully updated motion event: living room motion = false
2025-05-26T20:03:02.899Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-26T20:03:03.450Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":true,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-26T20:03:01.654108Z"}}
2025-05-26T20:03:03.451Z: Extracted AC on state: true, target temperature: 20, target mode: cool
2025-05-26T20:03:03.781Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":true},"success":true}
2025-05-26T20:03:03.781Z: Extracted light state: true
2025-05-26T20:03:03.782Z: Creating a combined row with motion=false, temp=23.4, humidity=52.2, light=true, ac_on=true, target_temp=20, target_mode=cool
2025-05-26T20:03:03.782Z: logSensorData called with 7 sensors
2025-05-26T20:03:03.782Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-26T20:03:03.782Z: Setting spaceId column 8 to 41413915
2025-05-26T20:03:03.782Z: Setting column 3 (living room motion) to false
2025-05-26T20:03:03.782Z: Setting column 1 (living room temperature) to 23.4
2025-05-26T20:03:03.782Z: Setting column 2 (living room humidity) to 52.2
2025-05-26T20:03:03.782Z: Setting column 4 (light_state) to true
2025-05-26T20:03:03.782Z: Setting column 5 (ac_state) to true
2025-05-26T20:03:03.782Z: Setting column 6 (targetTemperature) to 20
2025-05-26T20:03:03.782Z: Setting column 7 (targetAcMode) to cool
2025-05-26T20:03:03.782Z: Preparing row: 2025-05-26 20:03:03,23.4,52.2,false,true,true,20,cool,41413915
2025-05-26T20:03:03.782Z: Successfully wrote to log file using writeFileSync
2025-05-26T20:03:03.782Z: Successfully logged combined sensor data in one row with target temperature: 20 and target mode: cool
2025-05-26T20:03:03.784Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-26T20:03:03.785Z: Polling interval active: true
2025-05-26T20:04:42.212Z: Polling for sensor data... (poll #3)
2025-05-26T20:04:42.214Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T20:04:42.214Z: Received sensor data: {"temperature":23.5,"humidity":52.2}
2025-05-26T20:04:42.214Z: Formatted events: [{"name":"living room temperature","value":23.5,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":52.2,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T20:04:42.214Z: Successfully updated event: living room temperature = 23.5
2025-05-26T20:04:42.214Z: Successfully updated event: living room humidity = 52.2
2025-05-26T20:04:42.786Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":23.5,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":52.2,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-26T20:04:42.787Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T20:04:42.787Z: Received motion sensor data: {"motionDetected":false}
2025-05-26T20:04:42.787Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T20:04:42.787Z: Successfully updated motion event: living room motion = false
2025-05-26T20:04:42.940Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-26T20:04:43.482Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":true,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-26T20:04:41.696124Z"}}
2025-05-26T20:04:43.483Z: Extracted AC on state: true, target temperature: 20, target mode: cool
2025-05-26T20:04:43.818Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":true},"success":true}
2025-05-26T20:04:43.819Z: Extracted light state: true
2025-05-26T20:04:43.819Z: Creating a combined row with motion=false, temp=23.5, humidity=52.2, light=true, ac_on=true, target_temp=20, target_mode=cool
2025-05-26T20:04:43.820Z: logSensorData called with 7 sensors
2025-05-26T20:04:43.820Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-26T20:04:43.820Z: Setting spaceId column 8 to 41413915
2025-05-26T20:04:43.820Z: Setting column 3 (living room motion) to false
2025-05-26T20:04:43.820Z: Setting column 1 (living room temperature) to 23.5
2025-05-26T20:04:43.820Z: Setting column 2 (living room humidity) to 52.2
2025-05-26T20:04:43.820Z: Setting column 4 (light_state) to true
2025-05-26T20:04:43.820Z: Setting column 5 (ac_state) to true
2025-05-26T20:04:43.820Z: Setting column 6 (targetTemperature) to 20
2025-05-26T20:04:43.820Z: Setting column 7 (targetAcMode) to cool
2025-05-26T20:04:43.820Z: Preparing row: 2025-05-26 20:04:43,23.5,52.2,false,true,true,20,cool,41413915
2025-05-26T20:04:43.820Z: Successfully wrote to log file using writeFileSync
2025-05-26T20:04:43.819Z: Successfully logged combined sensor data in one row with target temperature: 20 and target mode: cool
2025-05-26T20:04:43.823Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-26T20:04:43.824Z: Polling interval active: true
2025-05-26T20:19:57.404Z: Initializing sensor logging service
2025-05-26T20:19:57.404Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-26T20:19:57.405Z: Added light_state column to event names
2025-05-26T20:19:57.406Z: Added ac_state column to event names
2025-05-26T20:19:57.407Z: Added ac_state column to event names
2025-05-26T20:19:57.407Z: Added targetAcMode column to event names
2025-05-26T20:19:57.407Z: Using existing log file
2025-05-26T20:19:57.408Z: Initializing sensor logging service
2025-05-26T20:19:57.409Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-26T20:19:57.409Z: Added light_state column to event names
2025-05-26T20:19:57.409Z: Added ac_state column to event names
2025-05-26T20:19:57.409Z: Added ac_state column to event names
2025-05-26T20:19:57.410Z: Added targetAcMode column to event names
2025-05-26T20:19:57.410Z: Using existing log file
2025-05-26T20:19:57.411Z: Logging enabled
2025-05-26T20:19:57.412Z: No polling was active to stop
2025-05-26T20:19:57.412Z: Closing existing log stream before creating new one
2025-05-26T20:19:57.412Z: Logging enabled
2025-05-26T20:19:57.413Z: No polling was active to stop
2025-05-26T20:19:57.413Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-05-26T20:19:57.413Z: Polling interval set with ID: 1017
2025-05-26T20:19:57.414Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T20:19:57.415Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T20:19:57.417Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-05-26T20:19:57.417Z: Clearing existing polling interval
2025-05-26T20:19:57.417Z: Polling interval set with ID: 1031
2025-05-26T20:19:57.418Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T20:19:57.418Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T20:19:57.415Z: Received motion sensor data: {"motionDetected":false}
2025-05-26T20:19:57.415Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T20:19:57.415Z: Successfully updated motion event: living room motion = false
2025-05-26T20:19:57.418Z: Received motion sensor data: {"motionDetected":false}
2025-05-26T20:19:57.418Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T20:19:57.418Z: Successfully updated motion event: living room motion = false
2025-05-26T20:19:57.414Z: Received sensor data: {"temperature":23.7,"humidity":50.8}
2025-05-26T20:19:57.414Z: Formatted events: [{"name":"living room temperature","value":23.7,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":50.8,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T20:19:57.414Z: Successfully updated event: living room temperature = 23.7
2025-05-26T20:19:57.414Z: Successfully updated event: living room humidity = 50.8
2025-05-26T20:19:58.168Z: Initial poll - AC on: true, target temp: 20, target mode: cool
2025-05-26T20:19:58.169Z: Creating a combined row with motion=false, temp=23.7, humidity=50.8, light=true, ac_on=true, target_temp=20, target_mode=cool
2025-05-26T20:19:58.169Z: logSensorData called with 7 sensors
2025-05-26T20:19:58.169Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-26T20:19:58.169Z: Setting spaceId column 8 to 41413915
2025-05-26T20:19:58.169Z: Setting column 3 (living room motion) to false
2025-05-26T20:19:58.169Z: Setting column 1 (living room temperature) to 23.7
2025-05-26T20:19:58.169Z: Setting column 2 (living room humidity) to 50.8
2025-05-26T20:19:58.169Z: Setting column 4 (light_state) to true
2025-05-26T20:19:58.169Z: Setting column 5 (ac_state) to true
2025-05-26T20:19:58.169Z: Setting column 6 (targetTemperature) to 20
2025-05-26T20:19:58.169Z: Setting column 7 (targetAcMode) to cool
2025-05-26T20:19:58.169Z: Preparing row: 2025-05-26 20:19:58,23.7,50.8,false,true,true,20,cool,41413915
2025-05-26T20:19:58.169Z: Successfully wrote to log file using writeFileSync
2025-05-26T20:19:58.169Z: Successfully logged combined sensor data in one row with target temperature: 20 and target mode: cool
2025-05-26T20:19:58.173Z: Initial combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-26T20:19:57.418Z: Received sensor data: {"temperature":23.7,"humidity":50.8}
2025-05-26T20:19:57.418Z: Formatted events: [{"name":"living room temperature","value":23.7,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":50.8,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T20:19:57.418Z: Successfully updated event: living room temperature = 23.7
2025-05-26T20:19:57.418Z: Successfully updated event: living room humidity = 50.8
2025-05-26T20:19:58.271Z: Initial poll - AC on: true, target temp: 20, target mode: cool
2025-05-26T20:19:58.271Z: Creating a combined row with motion=false, temp=23.7, humidity=50.8, light=true, ac_on=true, target_temp=20, target_mode=cool
2025-05-26T20:19:58.272Z: logSensorData called with 7 sensors
2025-05-26T20:19:58.272Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-26T20:19:58.272Z: Setting spaceId column 8 to 41413915
2025-05-26T20:19:58.272Z: Setting column 3 (living room motion) to false
2025-05-26T20:19:58.272Z: Setting column 1 (living room temperature) to 23.7
2025-05-26T20:19:58.272Z: Setting column 2 (living room humidity) to 50.8
2025-05-26T20:19:58.272Z: Setting column 4 (light_state) to true
2025-05-26T20:19:58.272Z: Setting column 5 (ac_state) to true
2025-05-26T20:19:58.272Z: Setting column 6 (targetTemperature) to 20
2025-05-26T20:19:58.272Z: Setting column 7 (targetAcMode) to cool
2025-05-26T20:19:58.272Z: Preparing row: 2025-05-26 20:19:58,23.7,50.8,false,true,true,20,cool,41413915
2025-05-26T20:19:58.272Z: Successfully wrote to log file using writeFileSync
2025-05-26T20:19:58.271Z: Successfully logged combined sensor data in one row with target temperature: 20 and target mode: cool
2025-05-26T20:19:58.275Z: Initial combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-26T20:21:10.705Z: Initializing sensor logging service
2025-05-26T20:21:10.706Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-26T20:21:10.707Z: Added light_state column to event names
2025-05-26T20:21:10.707Z: Added ac_state column to event names
2025-05-26T20:21:10.708Z: Added ac_state column to event names
2025-05-26T20:21:10.708Z: Added targetAcMode column to event names
2025-05-26T20:21:10.709Z: Using existing log file
2025-05-26T20:21:10.711Z: Logging enabled
2025-05-26T20:21:10.712Z: No polling was active to stop
2025-05-26T20:21:10.713Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-05-26T20:21:10.713Z: Polling interval set with ID: 996
2025-05-26T20:21:10.714Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T20:21:10.715Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T20:21:10.782Z: Initializing sensor logging service
2025-05-26T20:21:10.782Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-26T20:21:10.783Z: Added light_state column to event names
2025-05-26T20:21:10.784Z: Added ac_state column to event names
2025-05-26T20:21:10.784Z: Added ac_state column to event names
2025-05-26T20:21:10.784Z: Added targetAcMode column to event names
2025-05-26T20:21:10.785Z: Using existing log file
2025-05-26T20:21:10.786Z: Closing existing log stream before creating new one
2025-05-26T20:21:10.786Z: Logging enabled
2025-05-26T20:21:10.787Z: Stopping sensor polling interval: 996
2025-05-26T20:21:10.787Z: Closing logging service
2025-05-26T20:21:10.787Z: Closing sensor logging service
2025-05-26T20:21:10.787Z: Closing log stream
2025-05-26T20:21:10.787Z: Logging stopped at 2025-05-26T20:21:10.787Z
2025-05-26T20:21:10.790Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-05-26T20:21:10.790Z: Polling interval set with ID: 1119
2025-05-26T20:21:10.790Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T20:21:10.791Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T20:21:10.715Z: Received motion sensor data: {"motionDetected":false}
2025-05-26T20:21:10.715Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T20:21:10.715Z: Successfully updated motion event: living room motion = false
2025-05-26T20:21:10.791Z: Received motion sensor data: {"motionDetected":false}
2025-05-26T20:21:10.791Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T20:21:10.791Z: Successfully updated motion event: living room motion = false
2025-05-26T20:21:10.714Z: Received sensor data: {"temperature":23.7,"humidity":50.8}
2025-05-26T20:21:10.714Z: Formatted events: [{"name":"living room temperature","value":23.7,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":50.8,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T20:21:10.714Z: Successfully updated event: living room temperature = 23.7
2025-05-26T20:21:10.714Z: Successfully updated event: living room humidity = 50.8
2025-05-26T20:21:11.519Z: Initial poll - AC on: true, target temp: 20, target mode: cool
2025-05-26T20:21:11.520Z: Creating a combined row with motion=false, temp=23.7, humidity=50.8, light=true, ac_on=true, target_temp=20, target_mode=cool
2025-05-26T20:21:11.522Z: logSensorData called with 7 sensors
2025-05-26T20:21:11.522Z: WARNING - Logging is disabled but logSensorData was called
2025-05-26T20:21:11.522Z: Attempting to re-initialize logging with existing events
2025-05-26T20:21:11.524Z: Initializing sensor logging service
2025-05-26T20:21:11.525Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-26T20:21:11.527Z: Using existing log file
2025-05-26T20:21:11.522Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-26T20:21:11.522Z: Setting spaceId column 8 to 41413915
2025-05-26T20:21:11.522Z: Setting column 3 (living room motion) to false
2025-05-26T20:21:11.522Z: Setting column 1 (living room temperature) to 23.7
2025-05-26T20:21:11.522Z: Setting column 2 (living room humidity) to 50.8
2025-05-26T20:21:11.522Z: Setting column 4 (light_state) to true
2025-05-26T20:21:11.522Z: Setting column 5 (ac_state) to true
2025-05-26T20:21:11.522Z: Setting column 6 (targetTemperature) to 20
2025-05-26T20:21:11.522Z: Setting column 7 (targetAcMode) to cool
2025-05-26T20:21:11.522Z: Preparing row: 2025-05-26 20:21:11,23.7,50.8,false,true,true,20,cool,41413915
2025-05-26T20:21:11.522Z: Successfully wrote to log file using writeFileSync
2025-05-26T20:21:11.520Z: Successfully logged combined sensor data in one row with target temperature: 20 and target mode: cool
2025-05-26T20:21:11.531Z: Initial combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-26T20:21:11.532Z: Logging enabled
2025-05-26T20:21:11.522Z: Re-initialization result: {"success":true,"message":"Sensor logging initialized to C:\\Users\\amin\\Desktop\\smart-space\\SmartSchool-Server\\logs\\sensor_data.csv","columns":[["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]}
2025-05-26T20:21:10.790Z: Received sensor data: {"temperature":23.7,"humidity":50.7}
2025-05-26T20:21:10.790Z: Formatted events: [{"name":"living room temperature","value":23.7,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":50.7,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T20:21:10.790Z: Successfully updated event: living room temperature = 23.7
2025-05-26T20:21:10.790Z: Successfully updated event: living room humidity = 50.7
2025-05-26T20:21:11.625Z: Initial poll - AC on: true, target temp: 20, target mode: cool
2025-05-26T20:21:11.625Z: Creating a combined row with motion=false, temp=23.7, humidity=50.7, light=true, ac_on=true, target_temp=20, target_mode=cool
2025-05-26T20:21:11.625Z: logSensorData called with 7 sensors
2025-05-26T20:21:11.625Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-26T20:21:11.625Z: Setting spaceId column 8 to 41413915
2025-05-26T20:21:11.625Z: Setting column 3 (living room motion) to false
2025-05-26T20:21:11.625Z: Setting column 1 (living room temperature) to 23.7
2025-05-26T20:21:11.625Z: Setting column 2 (living room humidity) to 50.7
2025-05-26T20:21:11.625Z: Setting column 4 (light_state) to true
2025-05-26T20:21:11.625Z: Setting column 5 (ac_state) to true
2025-05-26T20:21:11.625Z: Setting column 6 (targetTemperature) to 20
2025-05-26T20:21:11.625Z: Setting column 7 (targetAcMode) to cool
2025-05-26T20:21:11.625Z: Preparing row: 2025-05-26 20:21:11,23.7,50.7,false,true,true,20,cool,41413915
2025-05-26T20:21:11.625Z: Successfully wrote to log file using writeFileSync
2025-05-26T20:21:11.625Z: Successfully logged combined sensor data in one row with target temperature: 20 and target mode: cool
2025-05-26T20:21:11.627Z: Initial combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-26T20:22:50.796Z: Polling for sensor data... (poll #1)
2025-05-26T20:22:50.798Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T20:22:50.798Z: Received sensor data: {"temperature":23.7,"humidity":50.6}
2025-05-26T20:22:50.798Z: Formatted events: [{"name":"living room temperature","value":23.7,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":50.6,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T20:22:50.798Z: Successfully updated event: living room temperature = 23.7
2025-05-26T20:22:50.798Z: Successfully updated event: living room humidity = 50.6
2025-05-26T20:22:51.389Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":23.7,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":50.6,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-26T20:22:51.389Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T20:22:51.389Z: Received motion sensor data: {"motionDetected":false}
2025-05-26T20:22:51.389Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T20:22:51.389Z: Successfully updated motion event: living room motion = false
2025-05-26T20:22:51.550Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-26T20:22:52.149Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":true,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-26T20:22:50.382775Z"}}
2025-05-26T20:22:52.149Z: Extracted AC on state: true, target temperature: 20, target mode: cool
2025-05-26T20:22:52.511Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":true},"success":true}
2025-05-26T20:22:52.511Z: Extracted light state: true
2025-05-26T20:22:52.512Z: Creating a combined row with motion=false, temp=23.7, humidity=50.6, light=true, ac_on=true, target_temp=20, target_mode=cool
2025-05-26T20:22:52.512Z: logSensorData called with 7 sensors
2025-05-26T20:22:52.512Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-26T20:22:52.512Z: Setting spaceId column 8 to 41413915
2025-05-26T20:22:52.512Z: Setting column 3 (living room motion) to false
2025-05-26T20:22:52.512Z: Setting column 1 (living room temperature) to 23.7
2025-05-26T20:22:52.512Z: Setting column 2 (living room humidity) to 50.6
2025-05-26T20:22:52.512Z: Setting column 4 (light_state) to true
2025-05-26T20:22:52.512Z: Setting column 5 (ac_state) to true
2025-05-26T20:22:52.512Z: Setting column 6 (targetTemperature) to 20
2025-05-26T20:22:52.512Z: Setting column 7 (targetAcMode) to cool
2025-05-26T20:22:52.512Z: Preparing row: 2025-05-26 20:22:52,23.7,50.6,false,true,true,20,cool,41413915
2025-05-26T20:22:52.512Z: Successfully wrote to log file using writeFileSync
2025-05-26T20:22:52.512Z: Successfully logged combined sensor data in one row with target temperature: 20 and target mode: cool
2025-05-26T20:22:52.516Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-26T20:22:52.516Z: Polling interval active: true
2025-05-26T20:24:30.800Z: Polling for sensor data... (poll #2)
2025-05-26T20:24:30.802Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T20:24:30.802Z: Received sensor data: {"temperature":23.8,"humidity":50}
2025-05-26T20:24:30.802Z: Formatted events: [{"name":"living room temperature","value":23.8,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":50,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T20:24:30.802Z: Successfully updated event: living room temperature = 23.8
2025-05-26T20:24:30.802Z: Successfully updated event: living room humidity = 50
2025-05-26T20:24:31.400Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":23.8,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":50,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-26T20:24:31.401Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T20:24:31.401Z: Received motion sensor data: {"motionDetected":false}
2025-05-26T20:24:31.401Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T20:24:31.401Z: Successfully updated motion event: living room motion = false
2025-05-26T20:24:31.550Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-26T20:24:32.107Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":true,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-26T20:24:30.355151Z"}}
2025-05-26T20:24:32.107Z: Extracted AC on state: true, target temperature: 20, target mode: cool
2025-05-26T20:24:32.451Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":true},"success":true}
2025-05-26T20:24:32.451Z: Extracted light state: true
2025-05-26T20:24:32.452Z: Creating a combined row with motion=false, temp=23.8, humidity=50, light=true, ac_on=true, target_temp=20, target_mode=cool
2025-05-26T20:24:32.452Z: logSensorData called with 7 sensors
2025-05-26T20:24:32.452Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-26T20:24:32.452Z: Setting spaceId column 8 to 41413915
2025-05-26T20:24:32.452Z: Setting column 3 (living room motion) to false
2025-05-26T20:24:32.452Z: Setting column 1 (living room temperature) to 23.8
2025-05-26T20:24:32.452Z: Setting column 2 (living room humidity) to 50
2025-05-26T20:24:32.452Z: Setting column 4 (light_state) to true
2025-05-26T20:24:32.452Z: Setting column 5 (ac_state) to true
2025-05-26T20:24:32.452Z: Setting column 6 (targetTemperature) to 20
2025-05-26T20:24:32.452Z: Setting column 7 (targetAcMode) to cool
2025-05-26T20:24:32.452Z: Preparing row: 2025-05-26 20:24:32,23.8,50,false,true,true,20,cool,41413915
2025-05-26T20:24:32.452Z: Successfully wrote to log file using writeFileSync
2025-05-26T20:24:32.452Z: Successfully logged combined sensor data in one row with target temperature: 20 and target mode: cool
2025-05-26T20:24:32.455Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-26T20:24:32.455Z: Polling interval active: true
2025-05-26T20:26:10.805Z: Polling for sensor data... (poll #3)
2025-05-26T20:26:10.806Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T20:26:10.806Z: Received sensor data: {"temperature":23.8,"humidity":50.2}
2025-05-26T20:26:10.806Z: Formatted events: [{"name":"living room temperature","value":23.8,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":50.2,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T20:26:10.806Z: Successfully updated event: living room temperature = 23.8
2025-05-26T20:26:10.806Z: Successfully updated event: living room humidity = 50.2
2025-05-26T20:26:11.367Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":23.8,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":50.2,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-26T20:26:11.367Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T20:26:11.367Z: Received motion sensor data: {"motionDetected":false}
2025-05-26T20:26:11.367Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T20:26:11.367Z: Successfully updated motion event: living room motion = false
2025-05-26T20:26:11.514Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-26T20:26:12.096Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":true,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-26T20:26:10.348152Z"}}
2025-05-26T20:26:12.097Z: Extracted AC on state: true, target temperature: 20, target mode: cool
2025-05-26T20:26:12.419Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":true},"success":true}
2025-05-26T20:26:12.419Z: Extracted light state: true
2025-05-26T20:26:12.420Z: Creating a combined row with motion=false, temp=23.8, humidity=50.2, light=true, ac_on=true, target_temp=20, target_mode=cool
2025-05-26T20:26:12.420Z: logSensorData called with 7 sensors
2025-05-26T20:26:12.420Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-26T20:26:12.420Z: Setting spaceId column 8 to 41413915
2025-05-26T20:26:12.420Z: Setting column 3 (living room motion) to false
2025-05-26T20:26:12.420Z: Setting column 1 (living room temperature) to 23.8
2025-05-26T20:26:12.420Z: Setting column 2 (living room humidity) to 50.2
2025-05-26T20:26:12.420Z: Setting column 4 (light_state) to true
2025-05-26T20:26:12.420Z: Setting column 5 (ac_state) to true
2025-05-26T20:26:12.420Z: Setting column 6 (targetTemperature) to 20
2025-05-26T20:26:12.420Z: Setting column 7 (targetAcMode) to cool
2025-05-26T20:26:12.420Z: Preparing row: 2025-05-26 20:26:12,23.8,50.2,false,true,true,20,cool,41413915
2025-05-26T20:26:12.420Z: Successfully wrote to log file using writeFileSync
2025-05-26T20:26:12.420Z: Successfully logged combined sensor data in one row with target temperature: 20 and target mode: cool
2025-05-26T20:26:12.423Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-26T20:26:12.423Z: Polling interval active: true
2025-05-26T20:27:50.807Z: Polling for sensor data... (poll #4)
2025-05-26T20:27:50.808Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T20:27:50.808Z: Received sensor data: {"temperature":23.8,"humidity":50.3}
2025-05-26T20:27:50.808Z: Formatted events: [{"name":"living room temperature","value":23.8,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":50.3,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T20:27:50.808Z: Successfully updated event: living room temperature = 23.8
2025-05-26T20:27:50.808Z: Successfully updated event: living room humidity = 50.3
2025-05-26T20:27:51.399Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":23.8,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":50.3,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-26T20:27:51.400Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T20:27:51.400Z: Received motion sensor data: {"motionDetected":false}
2025-05-26T20:27:51.400Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T20:27:51.400Z: Successfully updated motion event: living room motion = false
2025-05-26T20:27:51.567Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-26T20:27:52.123Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":true,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-26T20:27:50.367238Z"}}
2025-05-26T20:27:52.123Z: Extracted AC on state: true, target temperature: 20, target mode: cool
2025-05-26T20:27:52.476Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":true},"success":true}
2025-05-26T20:27:52.477Z: Extracted light state: true
2025-05-26T20:27:52.477Z: Creating a combined row with motion=false, temp=23.8, humidity=50.3, light=true, ac_on=true, target_temp=20, target_mode=cool
2025-05-26T20:27:52.478Z: logSensorData called with 7 sensors
2025-05-26T20:27:52.478Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-26T20:27:52.478Z: Setting spaceId column 8 to 41413915
2025-05-26T20:27:52.478Z: Setting column 3 (living room motion) to false
2025-05-26T20:27:52.478Z: Setting column 1 (living room temperature) to 23.8
2025-05-26T20:27:52.478Z: Setting column 2 (living room humidity) to 50.3
2025-05-26T20:27:52.478Z: Setting column 4 (light_state) to true
2025-05-26T20:27:52.478Z: Setting column 5 (ac_state) to true
2025-05-26T20:27:52.478Z: Setting column 6 (targetTemperature) to 20
2025-05-26T20:27:52.478Z: Setting column 7 (targetAcMode) to cool
2025-05-26T20:27:52.478Z: Preparing row: 2025-05-26 20:27:52,23.8,50.3,false,true,true,20,cool,41413915
2025-05-26T20:27:52.478Z: Successfully wrote to log file using writeFileSync
2025-05-26T20:27:52.477Z: Successfully logged combined sensor data in one row with target temperature: 20 and target mode: cool
2025-05-26T20:27:52.482Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-26T20:27:52.482Z: Polling interval active: true
2025-05-26T20:29:30.809Z: Polling for sensor data... (poll #5)
2025-05-26T20:29:30.810Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T20:29:30.810Z: Received sensor data: {"temperature":23.8,"humidity":50.3}
2025-05-26T20:29:30.810Z: Formatted events: [{"name":"living room temperature","value":23.8,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":50.3,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T20:29:30.810Z: Successfully updated event: living room temperature = 23.8
2025-05-26T20:29:30.810Z: Successfully updated event: living room humidity = 50.3
2025-05-26T20:29:31.411Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":23.8,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":50.3,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-26T20:29:31.411Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T20:29:31.411Z: Received motion sensor data: {"motionDetected":false}
2025-05-26T20:29:31.411Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T20:29:31.411Z: Successfully updated motion event: living room motion = false
2025-05-26T20:29:31.560Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-26T20:29:32.154Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":true,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-26T20:29:30.407799Z"}}
2025-05-26T20:29:32.154Z: Extracted AC on state: true, target temperature: 20, target mode: cool
2025-05-26T20:29:32.489Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":true},"success":true}
2025-05-26T20:29:32.490Z: Extracted light state: true
2025-05-26T20:29:32.490Z: Creating a combined row with motion=false, temp=23.8, humidity=50.3, light=true, ac_on=true, target_temp=20, target_mode=cool
2025-05-26T20:29:32.490Z: logSensorData called with 7 sensors
2025-05-26T20:29:32.490Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-26T20:29:32.490Z: Setting spaceId column 8 to 41413915
2025-05-26T20:29:32.490Z: Setting column 3 (living room motion) to false
2025-05-26T20:29:32.490Z: Setting column 1 (living room temperature) to 23.8
2025-05-26T20:29:32.490Z: Setting column 2 (living room humidity) to 50.3
2025-05-26T20:29:32.490Z: Setting column 4 (light_state) to true
2025-05-26T20:29:32.490Z: Setting column 5 (ac_state) to true
2025-05-26T20:29:32.490Z: Setting column 6 (targetTemperature) to 20
2025-05-26T20:29:32.490Z: Setting column 7 (targetAcMode) to cool
2025-05-26T20:29:32.490Z: Preparing row: 2025-05-26 20:29:32,23.8,50.3,false,true,true,20,cool,41413915
2025-05-26T20:29:32.490Z: Successfully wrote to log file using writeFileSync
2025-05-26T20:29:32.490Z: Successfully logged combined sensor data in one row with target temperature: 20 and target mode: cool
2025-05-26T20:29:32.494Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-26T20:29:32.494Z: Polling interval active: true
2025-05-26T20:30:14.626Z: Initializing sensor logging service
2025-05-26T20:30:14.627Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-26T20:30:14.629Z: Added light_state column to event names
2025-05-26T20:30:14.630Z: Added ac_state column to event names
2025-05-26T20:30:14.631Z: Added ac_state column to event names
2025-05-26T20:30:14.632Z: Added targetAcMode column to event names
2025-05-26T20:30:14.632Z: Using existing log file
2025-05-26T20:30:14.634Z: Logging enabled
2025-05-26T20:30:14.635Z: No polling was active to stop
2025-05-26T20:30:14.636Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-05-26T20:30:14.636Z: Polling interval set with ID: 1005
2025-05-26T20:30:14.636Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T20:30:14.637Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T20:30:14.641Z: Initializing sensor logging service
2025-05-26T20:30:14.641Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-26T20:30:14.641Z: Added light_state column to event names
2025-05-26T20:30:14.641Z: Added ac_state column to event names
2025-05-26T20:30:14.642Z: Added ac_state column to event names
2025-05-26T20:30:14.642Z: Added targetAcMode column to event names
2025-05-26T20:30:14.642Z: Using existing log file
2025-05-26T20:30:14.651Z: Closing existing log stream before creating new one
2025-05-26T20:30:14.651Z: Logging enabled
2025-05-26T20:30:14.652Z: Stopping sensor polling interval: 1005
2025-05-26T20:30:14.652Z: Closing logging service
2025-05-26T20:30:14.652Z: Closing sensor logging service
2025-05-26T20:30:14.652Z: Closing log stream
2025-05-26T20:30:14.652Z: Logging stopped at 2025-05-26T20:30:14.652Z
2025-05-26T20:30:14.654Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-05-26T20:30:14.654Z: Polling interval set with ID: 1121
2025-05-26T20:30:14.654Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T20:30:14.655Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T20:30:14.637Z: Received motion sensor data: {"motionDetected":false}
2025-05-26T20:30:14.637Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T20:30:14.637Z: Successfully updated motion event: living room motion = false
2025-05-26T20:30:14.655Z: Received motion sensor data: {"motionDetected":false}
2025-05-26T20:30:14.655Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T20:30:14.655Z: Successfully updated motion event: living room motion = false
2025-05-26T20:30:14.636Z: Received sensor data: {"temperature":23.8,"humidity":50.3}
2025-05-26T20:30:14.636Z: Formatted events: [{"name":"living room temperature","value":23.8,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":50.3,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T20:30:14.636Z: Successfully updated event: living room temperature = 23.8
2025-05-26T20:30:14.636Z: Successfully updated event: living room humidity = 50.3
2025-05-26T20:30:15.413Z: Initial poll - AC on: true, target temp: 20, target mode: cool
2025-05-26T20:30:15.414Z: Creating a combined row with motion=false, temp=23.8, humidity=50.3, light=true, ac_on=true, target_temp=20, target_mode=cool
2025-05-26T20:30:15.415Z: logSensorData called with 7 sensors
2025-05-26T20:30:15.415Z: WARNING - Logging is disabled but logSensorData was called
2025-05-26T20:30:15.415Z: Attempting to re-initialize logging with existing events
2025-05-26T20:30:15.416Z: Initializing sensor logging service
2025-05-26T20:30:15.416Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-26T20:30:15.417Z: Using existing log file
2025-05-26T20:30:15.415Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-26T20:30:15.415Z: Setting spaceId column 8 to 41413915
2025-05-26T20:30:15.415Z: Setting column 3 (living room motion) to false
2025-05-26T20:30:15.415Z: Setting column 1 (living room temperature) to 23.8
2025-05-26T20:30:15.415Z: Setting column 2 (living room humidity) to 50.3
2025-05-26T20:30:15.415Z: Setting column 4 (light_state) to true
2025-05-26T20:30:15.415Z: Setting column 5 (ac_state) to true
2025-05-26T20:30:15.415Z: Setting column 6 (targetTemperature) to 20
2025-05-26T20:30:15.415Z: Setting column 7 (targetAcMode) to cool
2025-05-26T20:30:15.415Z: Preparing row: 2025-05-26 20:30:15,23.8,50.3,false,true,true,20,cool,41413915
2025-05-26T20:30:15.415Z: Successfully wrote to log file using writeFileSync
2025-05-26T20:30:15.414Z: Successfully logged combined sensor data in one row with target temperature: 20 and target mode: cool
2025-05-26T20:30:15.420Z: Initial combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-26T20:30:15.421Z: Logging enabled
2025-05-26T20:30:15.415Z: Re-initialization result: {"success":true,"message":"Sensor logging initialized to C:\\Users\\amin\\Desktop\\smart-space\\SmartSchool-Server\\logs\\sensor_data.csv","columns":[["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]}
2025-05-26T20:30:14.654Z: Received sensor data: {"temperature":23.8,"humidity":50.3}
2025-05-26T20:30:14.654Z: Formatted events: [{"name":"living room temperature","value":23.8,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":50.3,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T20:30:14.654Z: Successfully updated event: living room temperature = 23.8
2025-05-26T20:30:14.654Z: Successfully updated event: living room humidity = 50.3
2025-05-26T20:30:15.489Z: Initial poll - AC on: true, target temp: 20, target mode: cool
2025-05-26T20:30:15.489Z: Creating a combined row with motion=false, temp=23.8, humidity=50.3, light=true, ac_on=true, target_temp=20, target_mode=cool
2025-05-26T20:30:15.489Z: logSensorData called with 7 sensors
2025-05-26T20:30:15.489Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-26T20:30:15.489Z: Setting spaceId column 8 to 41413915
2025-05-26T20:30:15.489Z: Setting column 3 (living room motion) to false
2025-05-26T20:30:15.489Z: Setting column 1 (living room temperature) to 23.8
2025-05-26T20:30:15.489Z: Setting column 2 (living room humidity) to 50.3
2025-05-26T20:30:15.489Z: Setting column 4 (light_state) to true
2025-05-26T20:30:15.489Z: Setting column 5 (ac_state) to true
2025-05-26T20:30:15.489Z: Setting column 6 (targetTemperature) to 20
2025-05-26T20:30:15.489Z: Setting column 7 (targetAcMode) to cool
2025-05-26T20:30:15.489Z: Preparing row: 2025-05-26 20:30:15,23.8,50.3,false,true,true,20,cool,41413915
2025-05-26T20:30:15.489Z: Successfully wrote to log file using writeFileSync
2025-05-26T20:30:15.489Z: Successfully logged combined sensor data in one row with target temperature: 20 and target mode: cool
2025-05-26T20:30:15.493Z: Initial combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-26T20:31:29.665Z: Initializing sensor logging service
2025-05-26T20:31:29.666Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-26T20:31:29.667Z: Added light_state column to event names
2025-05-26T20:31:29.668Z: Added ac_state column to event names
2025-05-26T20:31:29.668Z: Added ac_state column to event names
2025-05-26T20:31:29.669Z: Added targetAcMode column to event names
2025-05-26T20:31:29.669Z: Using existing log file
2025-05-26T20:31:29.672Z: Logging enabled
2025-05-26T20:31:29.672Z: No polling was active to stop
2025-05-26T20:31:29.673Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-05-26T20:31:29.673Z: Polling interval set with ID: 996
2025-05-26T20:31:29.674Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T20:31:29.674Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T20:31:29.674Z: Received motion sensor data: {"motionDetected":false}
2025-05-26T20:31:29.674Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T20:31:29.674Z: Successfully updated motion event: living room motion = false
2025-05-26T20:31:30.140Z: Initializing sensor logging service
2025-05-26T20:31:30.141Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-26T20:31:30.141Z: Added light_state column to event names
2025-05-26T20:31:30.142Z: Added ac_state column to event names
2025-05-26T20:31:30.142Z: Added ac_state column to event names
2025-05-26T20:31:30.142Z: Added targetAcMode column to event names
2025-05-26T20:31:30.143Z: Using existing log file
2025-05-26T20:31:30.144Z: Closing existing log stream before creating new one
2025-05-26T20:31:30.144Z: Logging enabled
2025-05-26T20:31:30.145Z: Stopping sensor polling interval: 996
2025-05-26T20:31:30.145Z: Closing logging service
2025-05-26T20:31:30.145Z: Closing sensor logging service
2025-05-26T20:31:30.145Z: Closing log stream
2025-05-26T20:31:30.145Z: Logging stopped at 2025-05-26T20:31:30.145Z
2025-05-26T20:31:30.147Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-05-26T20:31:30.147Z: Polling interval set with ID: 1232
2025-05-26T20:31:30.147Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T20:31:30.148Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T20:31:29.674Z: Received sensor data: {"temperature":23.8,"humidity":50.5}
2025-05-26T20:31:29.674Z: Formatted events: [{"name":"living room temperature","value":23.8,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":50.5,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T20:31:29.674Z: Successfully updated event: living room temperature = 23.8
2025-05-26T20:31:29.674Z: Successfully updated event: living room humidity = 50.5
2025-05-26T20:31:30.362Z: Initial poll - AC on: true, target temp: 20, target mode: cool
2025-05-26T20:31:30.362Z: Creating a combined row with motion=false, temp=23.8, humidity=50.5, light=true, ac_on=true, target_temp=20, target_mode=cool
2025-05-26T20:31:30.363Z: logSensorData called with 7 sensors
2025-05-26T20:31:30.363Z: WARNING - Logging is disabled but logSensorData was called
2025-05-26T20:31:30.363Z: Attempting to re-initialize logging with existing events
2025-05-26T20:31:30.363Z: Initializing sensor logging service
2025-05-26T20:31:30.363Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-26T20:31:30.364Z: Using existing log file
2025-05-26T20:31:30.363Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-26T20:31:30.363Z: Setting spaceId column 8 to 41413915
2025-05-26T20:31:30.363Z: Setting column 3 (living room motion) to false
2025-05-26T20:31:30.363Z: Setting column 1 (living room temperature) to 23.8
2025-05-26T20:31:30.363Z: Setting column 2 (living room humidity) to 50.5
2025-05-26T20:31:30.363Z: Setting column 4 (light_state) to true
2025-05-26T20:31:30.363Z: Setting column 5 (ac_state) to true
2025-05-26T20:31:30.363Z: Setting column 6 (targetTemperature) to 20
2025-05-26T20:31:30.363Z: Setting column 7 (targetAcMode) to cool
2025-05-26T20:31:30.363Z: Preparing row: 2025-05-26 20:31:30,23.8,50.5,false,true,true,20,cool,41413915
2025-05-26T20:31:30.363Z: Successfully wrote to log file using writeFileSync
2025-05-26T20:31:30.362Z: Successfully logged combined sensor data in one row with target temperature: 20 and target mode: cool
2025-05-26T20:31:30.367Z: Initial combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-26T20:31:30.368Z: Logging enabled
2025-05-26T20:31:30.363Z: Re-initialization result: {"success":true,"message":"Sensor logging initialized to C:\\Users\\amin\\Desktop\\smart-space\\SmartSchool-Server\\logs\\sensor_data.csv","columns":[["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]}
2025-05-26T20:31:32.774Z: Initializing sensor logging service
2025-05-26T20:31:32.775Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-26T20:31:32.776Z: Added light_state column to event names
2025-05-26T20:31:32.776Z: Added ac_state column to event names
2025-05-26T20:31:32.777Z: Added ac_state column to event names
2025-05-26T20:31:32.777Z: Added targetAcMode column to event names
2025-05-26T20:31:32.778Z: Using existing log file
2025-05-26T20:31:32.779Z: Logging enabled
2025-05-26T20:31:32.780Z: No polling was active to stop
2025-05-26T20:31:32.781Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-05-26T20:31:32.781Z: Polling interval set with ID: 1014
2025-05-26T20:31:32.782Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T20:31:32.782Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T20:31:32.816Z: Initializing sensor logging service
2025-05-26T20:31:32.817Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-26T20:31:32.817Z: Added light_state column to event names
2025-05-26T20:31:32.818Z: Added ac_state column to event names
2025-05-26T20:31:32.818Z: Added ac_state column to event names
2025-05-26T20:31:32.819Z: Added targetAcMode column to event names
2025-05-26T20:31:32.819Z: Using existing log file
2025-05-26T20:31:32.820Z: Closing existing log stream before creating new one
2025-05-26T20:31:32.820Z: Logging enabled
2025-05-26T20:31:32.821Z: Stopping sensor polling interval: 1014
2025-05-26T20:31:32.821Z: Closing logging service
2025-05-26T20:31:32.821Z: Closing sensor logging service
2025-05-26T20:31:32.821Z: Closing log stream
2025-05-26T20:31:32.821Z: Logging stopped at 2025-05-26T20:31:32.821Z
2025-05-26T20:31:32.822Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-05-26T20:31:32.822Z: Polling interval set with ID: 1118
2025-05-26T20:31:32.823Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T20:31:32.823Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T20:31:32.782Z: Received motion sensor data: {"motionDetected":false}
2025-05-26T20:31:32.782Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T20:31:32.782Z: Successfully updated motion event: living room motion = false
2025-05-26T20:31:32.823Z: Received motion sensor data: {"motionDetected":false}
2025-05-26T20:31:32.823Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T20:31:32.823Z: Successfully updated motion event: living room motion = false
2025-05-26T20:31:32.782Z: ERROR - No sensor data received from Sensibo
2025-05-26T20:31:33.522Z: Initial poll - AC on: false, target temp: N/A, target mode: N/A
2025-05-26T20:31:33.523Z: Creating a combined row with motion=false, temp=null, humidity=null, light=true, ac_on=false, target_temp=N/A, target_mode=N/A
2025-05-26T20:31:33.523Z: logSensorData called with 7 sensors
2025-05-26T20:31:33.523Z: WARNING - Logging is disabled but logSensorData was called
2025-05-26T20:31:33.523Z: Attempting to re-initialize logging with existing events
2025-05-26T20:31:33.524Z: Initializing sensor logging service
2025-05-26T20:31:33.525Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-26T20:31:33.526Z: Using existing log file
2025-05-26T20:31:33.523Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-26T20:31:33.523Z: Setting spaceId column 8 to 41413915
2025-05-26T20:31:33.523Z: Setting column 3 (living room motion) to false
2025-05-26T20:31:33.523Z: Setting column 1 (living room temperature) to null
2025-05-26T20:31:33.523Z: Setting column 2 (living room humidity) to null
2025-05-26T20:31:33.523Z: Setting column 4 (light_state) to true
2025-05-26T20:31:33.523Z: Setting column 5 (ac_state) to false
2025-05-26T20:31:33.523Z: Setting column 6 (targetTemperature) to N/A
2025-05-26T20:31:33.523Z: Setting column 7 (targetAcMode) to N/A
2025-05-26T20:31:33.523Z: Preparing row: 2025-05-26 20:31:33,,,false,true,false,N/A,N/A,41413915
2025-05-26T20:31:33.523Z: Successfully wrote to log file using writeFileSync
2025-05-26T20:31:33.523Z: Successfully logged combined sensor data in one row with target temperature: N/A and target mode: N/A
2025-05-26T20:31:33.529Z: Initial combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-26T20:31:33.530Z: Logging enabled
2025-05-26T20:31:33.523Z: Re-initialization result: {"success":true,"message":"Sensor logging initialized to C:\\Users\\amin\\Desktop\\smart-space\\SmartSchool-Server\\logs\\sensor_data.csv","columns":[["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]}
2025-05-26T20:31:32.823Z: ERROR - No sensor data received from Sensibo
2025-05-26T20:31:33.632Z: Initial poll - AC on: false, target temp: N/A, target mode: N/A
2025-05-26T20:31:33.632Z: Creating a combined row with motion=false, temp=null, humidity=null, light=true, ac_on=false, target_temp=N/A, target_mode=N/A
2025-05-26T20:31:33.633Z: logSensorData called with 7 sensors
2025-05-26T20:31:33.633Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-26T20:31:33.633Z: Setting spaceId column 8 to 41413915
2025-05-26T20:31:33.633Z: Setting column 3 (living room motion) to false
2025-05-26T20:31:33.633Z: Setting column 1 (living room temperature) to null
2025-05-26T20:31:33.633Z: Setting column 2 (living room humidity) to null
2025-05-26T20:31:33.633Z: Setting column 4 (light_state) to true
2025-05-26T20:31:33.633Z: Setting column 5 (ac_state) to false
2025-05-26T20:31:33.633Z: Setting column 6 (targetTemperature) to N/A
2025-05-26T20:31:33.633Z: Setting column 7 (targetAcMode) to N/A
2025-05-26T20:31:33.633Z: Preparing row: 2025-05-26 20:31:33,,,false,true,false,N/A,N/A,41413915
2025-05-26T20:31:33.633Z: Successfully wrote to log file using writeFileSync
2025-05-26T20:31:33.632Z: Successfully logged combined sensor data in one row with target temperature: N/A and target mode: N/A
2025-05-26T20:31:33.637Z: Initial combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-26T20:31:40.142Z: Initializing sensor logging service
2025-05-26T20:31:40.143Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-26T20:31:40.144Z: Added light_state column to event names
2025-05-26T20:31:40.144Z: Added ac_state column to event names
2025-05-26T20:31:40.144Z: Added ac_state column to event names
2025-05-26T20:31:40.145Z: Added targetAcMode column to event names
2025-05-26T20:31:40.145Z: Using existing log file
2025-05-26T20:31:40.148Z: Logging enabled
2025-05-26T20:31:40.149Z: No polling was active to stop
2025-05-26T20:31:40.150Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-05-26T20:31:40.150Z: Polling interval set with ID: 1014
2025-05-26T20:31:40.152Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T20:31:40.153Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T20:31:40.174Z: Initializing sensor logging service
2025-05-26T20:31:40.174Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-26T20:31:40.174Z: Added light_state column to event names
2025-05-26T20:31:40.175Z: Added ac_state column to event names
2025-05-26T20:31:40.175Z: Added ac_state column to event names
2025-05-26T20:31:40.175Z: Added targetAcMode column to event names
2025-05-26T20:31:40.175Z: Using existing log file
2025-05-26T20:31:40.177Z: Closing existing log stream before creating new one
2025-05-26T20:31:40.177Z: Logging enabled
2025-05-26T20:31:40.177Z: Stopping sensor polling interval: 1014
2025-05-26T20:31:40.177Z: Closing logging service
2025-05-26T20:31:40.178Z: Closing sensor logging service
2025-05-26T20:31:40.178Z: Closing log stream
2025-05-26T20:31:40.178Z: Logging stopped at 2025-05-26T20:31:40.178Z
2025-05-26T20:31:40.179Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-05-26T20:31:40.179Z: Polling interval set with ID: 1129
2025-05-26T20:31:40.179Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T20:31:40.179Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T20:31:40.153Z: Received motion sensor data: {"motionDetected":false}
2025-05-26T20:31:40.153Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T20:31:40.153Z: Successfully updated motion event: living room motion = false
2025-05-26T20:31:40.179Z: Received motion sensor data: {"motionDetected":false}
2025-05-26T20:31:40.179Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T20:31:40.179Z: Successfully updated motion event: living room motion = false
2025-05-26T20:31:40.152Z: Received sensor data: {"temperature":23.8,"humidity":50.5}
2025-05-26T20:31:40.152Z: Formatted events: [{"name":"living room temperature","value":23.8,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":50.5,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T20:31:40.152Z: Successfully updated event: living room temperature = 23.8
2025-05-26T20:31:40.152Z: Successfully updated event: living room humidity = 50.5
2025-05-26T20:31:40.179Z: Received sensor data: {"temperature":23.8,"humidity":50.5}
2025-05-26T20:31:40.179Z: Formatted events: [{"name":"living room temperature","value":23.8,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":50.5,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T20:31:40.179Z: Successfully updated event: living room temperature = 23.8
2025-05-26T20:31:40.179Z: Successfully updated event: living room humidity = 50.5
2025-05-26T20:31:41.003Z: Initial poll - AC on: true, target temp: 20, target mode: cool
2025-05-26T20:31:41.004Z: Creating a combined row with motion=false, temp=23.8, humidity=50.5, light=true, ac_on=true, target_temp=20, target_mode=cool
2025-05-26T20:31:41.004Z: logSensorData called with 7 sensors
2025-05-26T20:31:41.004Z: WARNING - Logging is disabled but logSensorData was called
2025-05-26T20:31:41.004Z: Attempting to re-initialize logging with existing events
2025-05-26T20:31:41.005Z: Initializing sensor logging service
2025-05-26T20:31:41.005Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-26T20:31:41.006Z: Using existing log file
2025-05-26T20:31:41.004Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-26T20:31:41.004Z: Setting spaceId column 8 to 41413915
2025-05-26T20:31:41.004Z: Setting column 3 (living room motion) to false
2025-05-26T20:31:41.004Z: Setting column 1 (living room temperature) to 23.8
2025-05-26T20:31:41.004Z: Setting column 2 (living room humidity) to 50.5
2025-05-26T20:31:41.004Z: Setting column 4 (light_state) to true
2025-05-26T20:31:41.004Z: Setting column 5 (ac_state) to true
2025-05-26T20:31:41.004Z: Setting column 6 (targetTemperature) to 20
2025-05-26T20:31:41.004Z: Setting column 7 (targetAcMode) to cool
2025-05-26T20:31:41.004Z: Preparing row: 2025-05-26 20:31:41,23.8,50.5,false,true,true,20,cool,41413915
2025-05-26T20:31:41.004Z: Successfully wrote to log file using writeFileSync
2025-05-26T20:31:41.004Z: Successfully logged combined sensor data in one row with target temperature: 20 and target mode: cool
2025-05-26T20:31:41.009Z: Initial combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-26T20:31:41.010Z: Logging enabled
2025-05-26T20:31:41.004Z: Re-initialization result: {"success":true,"message":"Sensor logging initialized to C:\\Users\\amin\\Desktop\\smart-space\\SmartSchool-Server\\logs\\sensor_data.csv","columns":[["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]}
2025-05-26T20:31:41.075Z: Initial poll - AC on: true, target temp: 20, target mode: cool
2025-05-26T20:31:41.076Z: Creating a combined row with motion=false, temp=23.8, humidity=50.5, light=true, ac_on=true, target_temp=20, target_mode=cool
2025-05-26T20:31:41.076Z: logSensorData called with 7 sensors
2025-05-26T20:31:41.076Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-26T20:31:41.076Z: Setting spaceId column 8 to 41413915
2025-05-26T20:31:41.076Z: Setting column 3 (living room motion) to false
2025-05-26T20:31:41.076Z: Setting column 1 (living room temperature) to 23.8
2025-05-26T20:31:41.076Z: Setting column 2 (living room humidity) to 50.5
2025-05-26T20:31:41.076Z: Setting column 4 (light_state) to true
2025-05-26T20:31:41.076Z: Setting column 5 (ac_state) to true
2025-05-26T20:31:41.076Z: Setting column 6 (targetTemperature) to 20
2025-05-26T20:31:41.076Z: Setting column 7 (targetAcMode) to cool
2025-05-26T20:31:41.076Z: Preparing row: 2025-05-26 20:31:41,23.8,50.5,false,true,true,20,cool,41413915
2025-05-26T20:31:41.076Z: Successfully wrote to log file using writeFileSync
2025-05-26T20:31:41.076Z: Successfully logged combined sensor data in one row with target temperature: 20 and target mode: cool
2025-05-26T20:31:41.081Z: Initial combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-26T20:31:43.686Z: Initializing sensor logging service
2025-05-26T20:31:43.687Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-26T20:31:43.688Z: Added light_state column to event names
2025-05-26T20:31:43.688Z: Added ac_state column to event names
2025-05-26T20:31:43.688Z: Added ac_state column to event names
2025-05-26T20:31:43.689Z: Added targetAcMode column to event names
2025-05-26T20:31:43.689Z: Using existing log file
2025-05-26T20:31:43.691Z: Logging enabled
2025-05-26T20:31:43.692Z: No polling was active to stop
2025-05-26T20:31:43.694Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-05-26T20:31:43.694Z: Polling interval set with ID: 998
2025-05-26T20:31:43.695Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T20:31:43.696Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T20:31:43.727Z: Initializing sensor logging service
2025-05-26T20:31:43.727Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-26T20:31:43.728Z: Added light_state column to event names
2025-05-26T20:31:43.728Z: Added ac_state column to event names
2025-05-26T20:31:43.729Z: Added ac_state column to event names
2025-05-26T20:31:43.729Z: Added targetAcMode column to event names
2025-05-26T20:31:43.730Z: Using existing log file
2025-05-26T20:31:43.732Z: Closing existing log stream before creating new one
2025-05-26T20:31:43.732Z: Logging enabled
2025-05-26T20:31:43.733Z: Stopping sensor polling interval: 998
2025-05-26T20:31:43.733Z: Closing logging service
2025-05-26T20:31:43.734Z: Closing sensor logging service
2025-05-26T20:31:43.734Z: Closing log stream
2025-05-26T20:31:43.734Z: Logging stopped at 2025-05-26T20:31:43.734Z
2025-05-26T20:31:43.735Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-05-26T20:31:43.735Z: Polling interval set with ID: 1124
2025-05-26T20:31:43.736Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T20:31:43.736Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T20:31:43.696Z: Received motion sensor data: {"motionDetected":false}
2025-05-26T20:31:43.696Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T20:31:43.696Z: Successfully updated motion event: living room motion = false
2025-05-26T20:31:43.736Z: Received motion sensor data: {"motionDetected":false}
2025-05-26T20:31:43.736Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T20:31:43.736Z: Successfully updated motion event: living room motion = false
2025-05-26T20:31:43.695Z: Received sensor data: {"temperature":23.8,"humidity":50.5}
2025-05-26T20:31:43.695Z: Formatted events: [{"name":"living room temperature","value":23.8,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":50.5,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T20:31:43.695Z: Successfully updated event: living room temperature = 23.8
2025-05-26T20:31:43.695Z: Successfully updated event: living room humidity = 50.5
2025-05-26T20:31:44.499Z: Initial poll - AC on: true, target temp: 20, target mode: cool
2025-05-26T20:31:44.499Z: Creating a combined row with motion=false, temp=23.8, humidity=50.5, light=true, ac_on=true, target_temp=20, target_mode=cool
2025-05-26T20:31:44.500Z: logSensorData called with 7 sensors
2025-05-26T20:31:44.500Z: WARNING - Logging is disabled but logSensorData was called
2025-05-26T20:31:44.500Z: Attempting to re-initialize logging with existing events
2025-05-26T20:31:44.501Z: Initializing sensor logging service
2025-05-26T20:31:44.501Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-26T20:31:44.502Z: Using existing log file
2025-05-26T20:31:44.500Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-26T20:31:44.500Z: Setting spaceId column 8 to 41413915
2025-05-26T20:31:44.500Z: Setting column 3 (living room motion) to false
2025-05-26T20:31:44.500Z: Setting column 1 (living room temperature) to 23.8
2025-05-26T20:31:44.500Z: Setting column 2 (living room humidity) to 50.5
2025-05-26T20:31:44.500Z: Setting column 4 (light_state) to true
2025-05-26T20:31:44.500Z: Setting column 5 (ac_state) to true
2025-05-26T20:31:44.500Z: Setting column 6 (targetTemperature) to 20
2025-05-26T20:31:44.500Z: Setting column 7 (targetAcMode) to cool
2025-05-26T20:31:44.500Z: Preparing row: 2025-05-26 20:31:44,23.8,50.5,false,true,true,20,cool,41413915
2025-05-26T20:31:44.500Z: Successfully wrote to log file using writeFileSync
2025-05-26T20:31:44.499Z: Successfully logged combined sensor data in one row with target temperature: 20 and target mode: cool
2025-05-26T20:31:44.505Z: Initial combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-26T20:31:44.507Z: Logging enabled
2025-05-26T20:31:44.500Z: Re-initialization result: {"success":true,"message":"Sensor logging initialized to C:\\Users\\amin\\Desktop\\smart-space\\SmartSchool-Server\\logs\\sensor_data.csv","columns":[["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]}
2025-05-26T20:31:43.736Z: ERROR - No sensor data received from Sensibo
2025-05-26T20:31:44.591Z: Initial poll - AC on: false, target temp: N/A, target mode: N/A
2025-05-26T20:31:44.592Z: Creating a combined row with motion=false, temp=23.8, humidity=50.5, light=true, ac_on=false, target_temp=N/A, target_mode=N/A
2025-05-26T20:31:44.592Z: logSensorData called with 7 sensors
2025-05-26T20:31:44.592Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-26T20:31:44.592Z: Setting spaceId column 8 to 41413915
2025-05-26T20:31:44.592Z: Setting column 3 (living room motion) to false
2025-05-26T20:31:44.592Z: Setting column 1 (living room temperature) to 23.8
2025-05-26T20:31:44.592Z: Setting column 2 (living room humidity) to 50.5
2025-05-26T20:31:44.592Z: Setting column 4 (light_state) to true
2025-05-26T20:31:44.592Z: Setting column 5 (ac_state) to false
2025-05-26T20:31:44.592Z: Setting column 6 (targetTemperature) to N/A
2025-05-26T20:31:44.592Z: Setting column 7 (targetAcMode) to N/A
2025-05-26T20:31:44.592Z: Preparing row: 2025-05-26 20:31:44,23.8,50.5,false,true,false,N/A,N/A,41413915
2025-05-26T20:31:44.592Z: Successfully wrote to log file using writeFileSync
2025-05-26T20:31:44.592Z: Successfully logged combined sensor data in one row with target temperature: N/A and target mode: N/A
2025-05-26T20:31:44.602Z: Initial combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-26T20:33:23.739Z: Polling for sensor data... (poll #1)
2025-05-26T20:33:23.739Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T20:33:23.739Z: Received sensor data: {"temperature":23.8,"humidity":50.4}
2025-05-26T20:33:23.739Z: Formatted events: [{"name":"living room temperature","value":23.8,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":50.4,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T20:33:23.739Z: Successfully updated event: living room temperature = 23.8
2025-05-26T20:33:23.739Z: Successfully updated event: living room humidity = 50.4
2025-05-26T20:33:24.362Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":23.8,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":50.4,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-26T20:33:24.362Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T20:33:24.362Z: Received motion sensor data: {"motionDetected":false}
2025-05-26T20:33:24.362Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T20:33:24.362Z: Successfully updated motion event: living room motion = false
2025-05-26T20:33:24.517Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-26T20:33:25.053Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":true,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-26T20:33:23.317497Z"}}
2025-05-26T20:33:25.053Z: Extracted AC on state: true, target temperature: 20, target mode: cool
2025-05-26T20:33:25.364Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":true},"success":true}
2025-05-26T20:33:25.364Z: Extracted light state: true
2025-05-26T20:33:25.365Z: Creating a combined row with motion=false, temp=23.8, humidity=50.4, light=true, ac_on=true, target_temp=20, target_mode=cool
2025-05-26T20:33:25.365Z: logSensorData called with 7 sensors
2025-05-26T20:33:25.365Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-26T20:33:25.365Z: Setting spaceId column 8 to 41413915
2025-05-26T20:33:25.365Z: Setting column 3 (living room motion) to false
2025-05-26T20:33:25.365Z: Setting column 1 (living room temperature) to 23.8
2025-05-26T20:33:25.365Z: Setting column 2 (living room humidity) to 50.4
2025-05-26T20:33:25.365Z: Setting column 4 (light_state) to true
2025-05-26T20:33:25.365Z: Setting column 5 (ac_state) to true
2025-05-26T20:33:25.365Z: Setting column 6 (targetTemperature) to 20
2025-05-26T20:33:25.365Z: Setting column 7 (targetAcMode) to cool
2025-05-26T20:33:25.365Z: Preparing row: 2025-05-26 20:33:25,23.8,50.4,false,true,true,20,cool,41413915
2025-05-26T20:33:25.365Z: Successfully wrote to log file using writeFileSync
2025-05-26T20:33:25.365Z: Successfully logged combined sensor data in one row with target temperature: 20 and target mode: cool
2025-05-26T20:33:25.368Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-26T20:33:25.369Z: Polling interval active: true
2025-05-26T20:35:03.743Z: Polling for sensor data... (poll #2)
2025-05-26T20:35:03.744Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T20:35:03.744Z: Received sensor data: {"temperature":23.9,"humidity":50.3}
2025-05-26T20:35:03.744Z: Formatted events: [{"name":"living room temperature","value":23.9,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":50.3,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T20:35:03.744Z: Successfully updated event: living room temperature = 23.9
2025-05-26T20:35:03.744Z: Successfully updated event: living room humidity = 50.3
2025-05-26T20:35:04.424Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":23.9,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":50.3,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-26T20:35:04.424Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T20:35:04.424Z: Received motion sensor data: {"motionDetected":false}
2025-05-26T20:35:04.424Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T20:35:04.424Z: Successfully updated motion event: living room motion = false
2025-05-26T20:35:04.565Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-26T20:35:05.117Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":true,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-26T20:35:03.383795Z"}}
2025-05-26T20:35:05.117Z: Extracted AC on state: true, target temperature: 20, target mode: cool
2025-05-26T20:35:05.438Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":true},"success":true}
2025-05-26T20:35:05.439Z: Extracted light state: true
2025-05-26T20:35:05.439Z: Creating a combined row with motion=false, temp=23.9, humidity=50.3, light=true, ac_on=true, target_temp=20, target_mode=cool
2025-05-26T20:35:05.439Z: logSensorData called with 7 sensors
2025-05-26T20:35:05.439Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-26T20:35:05.439Z: Setting spaceId column 8 to 41413915
2025-05-26T20:35:05.439Z: Setting column 3 (living room motion) to false
2025-05-26T20:35:05.439Z: Setting column 1 (living room temperature) to 23.9
2025-05-26T20:35:05.439Z: Setting column 2 (living room humidity) to 50.3
2025-05-26T20:35:05.439Z: Setting column 4 (light_state) to true
2025-05-26T20:35:05.439Z: Setting column 5 (ac_state) to true
2025-05-26T20:35:05.439Z: Setting column 6 (targetTemperature) to 20
2025-05-26T20:35:05.439Z: Setting column 7 (targetAcMode) to cool
2025-05-26T20:35:05.439Z: Preparing row: 2025-05-26 20:35:05,23.9,50.3,false,true,true,20,cool,41413915
2025-05-26T20:35:05.439Z: Successfully wrote to log file using writeFileSync
2025-05-26T20:35:05.439Z: Successfully logged combined sensor data in one row with target temperature: 20 and target mode: cool
2025-05-26T20:35:05.443Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-26T20:35:05.443Z: Polling interval active: true
2025-05-26T20:36:43.758Z: Polling for sensor data... (poll #3)
2025-05-26T20:36:43.759Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T20:36:43.759Z: Received sensor data: {"temperature":23.9,"humidity":50.3}
2025-05-26T20:36:43.759Z: Formatted events: [{"name":"living room temperature","value":23.9,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":50.3,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T20:36:43.759Z: Successfully updated event: living room temperature = 23.9
2025-05-26T20:36:43.759Z: Successfully updated event: living room humidity = 50.3
2025-05-26T20:36:44.411Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":23.9,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":50.3,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-26T20:36:44.411Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T20:36:44.411Z: Received motion sensor data: {"motionDetected":false}
2025-05-26T20:36:44.411Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T20:36:44.411Z: Successfully updated motion event: living room motion = false
2025-05-26T20:36:44.561Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-26T20:36:45.123Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":true,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-26T20:36:43.381557Z"}}
2025-05-26T20:36:45.123Z: Extracted AC on state: true, target temperature: 20, target mode: cool
2025-05-26T20:36:45.453Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":true},"success":true}
2025-05-26T20:36:45.454Z: Extracted light state: true
2025-05-26T20:36:45.454Z: Creating a combined row with motion=false, temp=23.9, humidity=50.3, light=true, ac_on=true, target_temp=20, target_mode=cool
2025-05-26T20:36:45.454Z: logSensorData called with 7 sensors
2025-05-26T20:36:45.454Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-26T20:36:45.454Z: Setting spaceId column 8 to 41413915
2025-05-26T20:36:45.454Z: Setting column 3 (living room motion) to false
2025-05-26T20:36:45.454Z: Setting column 1 (living room temperature) to 23.9
2025-05-26T20:36:45.454Z: Setting column 2 (living room humidity) to 50.3
2025-05-26T20:36:45.454Z: Setting column 4 (light_state) to true
2025-05-26T20:36:45.454Z: Setting column 5 (ac_state) to true
2025-05-26T20:36:45.454Z: Setting column 6 (targetTemperature) to 20
2025-05-26T20:36:45.454Z: Setting column 7 (targetAcMode) to cool
2025-05-26T20:36:45.454Z: Preparing row: 2025-05-26 20:36:45,23.9,50.3,false,true,true,20,cool,41413915
2025-05-26T20:36:45.454Z: Successfully wrote to log file using writeFileSync
2025-05-26T20:36:45.454Z: Successfully logged combined sensor data in one row with target temperature: 20 and target mode: cool
2025-05-26T20:36:45.458Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-26T20:36:45.458Z: Polling interval active: true
2025-05-26T20:40:30.686Z: Initializing sensor logging service
2025-05-26T20:40:30.686Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-26T20:40:30.687Z: Added light_state column to event names
2025-05-26T20:40:30.688Z: Added ac_state column to event names
2025-05-26T20:40:30.688Z: Added ac_state column to event names
2025-05-26T20:40:30.689Z: Added targetAcMode column to event names
2025-05-26T20:40:30.689Z: Using existing log file
2025-05-26T20:40:30.691Z: Logging enabled
2025-05-26T20:40:30.691Z: No polling was active to stop
2025-05-26T20:40:30.692Z: Initializing sensor logging service
2025-05-26T20:40:30.693Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-26T20:40:30.693Z: Added light_state column to event names
2025-05-26T20:40:30.693Z: Added ac_state column to event names
2025-05-26T20:40:30.693Z: Added ac_state column to event names
2025-05-26T20:40:30.694Z: Added targetAcMode column to event names
2025-05-26T20:40:30.694Z: Using existing log file
2025-05-26T20:40:30.695Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-05-26T20:40:30.695Z: Polling interval set with ID: 1021
2025-05-26T20:40:30.695Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T20:40:30.696Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T20:40:30.702Z: Closing existing log stream before creating new one
2025-05-26T20:40:30.702Z: Logging enabled
2025-05-26T20:40:30.703Z: Stopping sensor polling interval: 1021
2025-05-26T20:40:30.703Z: Closing logging service
2025-05-26T20:40:30.703Z: Closing sensor logging service
2025-05-26T20:40:30.703Z: Closing log stream
2025-05-26T20:40:30.703Z: Logging stopped at 2025-05-26T20:40:30.703Z
2025-05-26T20:40:30.710Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-05-26T20:40:30.710Z: Polling interval set with ID: 1119
2025-05-26T20:40:30.711Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T20:40:30.711Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T20:40:30.696Z: Received motion sensor data: {"motionDetected":true}
2025-05-26T20:40:30.696Z: Formatted motion sensor events: [{"name":"living room motion","value":true,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T20:40:30.696Z: Successfully updated motion event: living room motion = true
2025-05-26T20:40:30.711Z: Received motion sensor data: {"motionDetected":true}
2025-05-26T20:40:30.711Z: Formatted motion sensor events: [{"name":"living room motion","value":true,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T20:40:30.711Z: Successfully updated motion event: living room motion = true
2025-05-26T20:40:30.695Z: Received sensor data: {"temperature":23.9,"humidity":50.2}
2025-05-26T20:40:30.695Z: Formatted events: [{"name":"living room temperature","value":23.9,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":50.2,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T20:40:30.695Z: Successfully updated event: living room temperature = 23.9
2025-05-26T20:40:30.695Z: Successfully updated event: living room humidity = 50.2
2025-05-26T20:40:31.441Z: Initial poll - AC on: true, target temp: 20, target mode: cool
2025-05-26T20:40:31.441Z: Creating a combined row with motion=true, temp=23.9, humidity=50.2, light=true, ac_on=true, target_temp=20, target_mode=cool
2025-05-26T20:40:31.442Z: logSensorData called with 7 sensors
2025-05-26T20:40:31.442Z: WARNING - Logging is disabled but logSensorData was called
2025-05-26T20:40:31.442Z: Attempting to re-initialize logging with existing events
2025-05-26T20:40:31.442Z: Initializing sensor logging service
2025-05-26T20:40:31.443Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-26T20:40:31.444Z: Using existing log file
2025-05-26T20:40:31.442Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-26T20:40:31.442Z: Setting spaceId column 8 to 41413915
2025-05-26T20:40:31.442Z: Setting column 3 (living room motion) to true
2025-05-26T20:40:31.442Z: Setting column 1 (living room temperature) to 23.9
2025-05-26T20:40:31.442Z: Setting column 2 (living room humidity) to 50.2
2025-05-26T20:40:31.442Z: Setting column 4 (light_state) to true
2025-05-26T20:40:31.442Z: Setting column 5 (ac_state) to true
2025-05-26T20:40:31.442Z: Setting column 6 (targetTemperature) to 20
2025-05-26T20:40:31.442Z: Setting column 7 (targetAcMode) to cool
2025-05-26T20:40:31.442Z: Preparing row: 2025-05-26 20:40:31,23.9,50.2,true,true,true,20,cool,41413915
2025-05-26T20:40:31.442Z: Successfully wrote to log file using writeFileSync
2025-05-26T20:40:31.441Z: Successfully logged combined sensor data in one row with target temperature: 20 and target mode: cool
2025-05-26T20:40:31.447Z: Initial combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-26T20:40:31.448Z: Logging enabled
2025-05-26T20:40:31.442Z: Re-initialization result: {"success":true,"message":"Sensor logging initialized to C:\\Users\\amin\\Desktop\\smart-space\\SmartSchool-Server\\logs\\sensor_data.csv","columns":[["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]}
2025-05-26T20:40:30.711Z: Received sensor data: {"temperature":23.9,"humidity":50.2}
2025-05-26T20:40:30.711Z: Formatted events: [{"name":"living room temperature","value":23.9,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":50.2,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T20:40:30.711Z: Successfully updated event: living room temperature = 23.9
2025-05-26T20:40:30.711Z: Successfully updated event: living room humidity = 50.2
2025-05-26T20:40:31.559Z: Initial poll - AC on: true, target temp: 20, target mode: cool
2025-05-26T20:40:31.559Z: Creating a combined row with motion=true, temp=23.9, humidity=50.2, light=true, ac_on=true, target_temp=20, target_mode=cool
2025-05-26T20:40:31.559Z: logSensorData called with 7 sensors
2025-05-26T20:40:31.559Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-26T20:40:31.559Z: Setting spaceId column 8 to 41413915
2025-05-26T20:40:31.559Z: Setting column 3 (living room motion) to true
2025-05-26T20:40:31.559Z: Setting column 1 (living room temperature) to 23.9
2025-05-26T20:40:31.559Z: Setting column 2 (living room humidity) to 50.2
2025-05-26T20:40:31.559Z: Setting column 4 (light_state) to true
2025-05-26T20:40:31.559Z: Setting column 5 (ac_state) to true
2025-05-26T20:40:31.559Z: Setting column 6 (targetTemperature) to 20
2025-05-26T20:40:31.559Z: Setting column 7 (targetAcMode) to cool
2025-05-26T20:40:31.559Z: Preparing row: 2025-05-26 20:40:31,23.9,50.2,true,true,true,20,cool,41413915
2025-05-26T20:40:31.559Z: Successfully wrote to log file using writeFileSync
2025-05-26T20:40:31.559Z: Successfully logged combined sensor data in one row with target temperature: 20 and target mode: cool
2025-05-26T20:40:31.562Z: Initial combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-26T20:41:59.935Z: Initializing sensor logging service
2025-05-26T20:41:59.936Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-26T20:41:59.936Z: Added light_state column to event names
2025-05-26T20:41:59.937Z: Added ac_state column to event names
2025-05-26T20:41:59.937Z: Added ac_state column to event names
2025-05-26T20:41:59.937Z: Added targetAcMode column to event names
2025-05-26T20:41:59.938Z: Using existing log file
2025-05-26T20:41:59.939Z: Logging enabled
2025-05-26T20:41:59.940Z: No polling was active to stop
2025-05-26T20:41:59.941Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-05-26T20:41:59.941Z: Polling interval set with ID: 998
2025-05-26T20:41:59.941Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T20:41:59.942Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T20:41:59.953Z: Initializing sensor logging service
2025-05-26T20:41:59.954Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-26T20:41:59.954Z: Added light_state column to event names
2025-05-26T20:41:59.954Z: Added ac_state column to event names
2025-05-26T20:41:59.955Z: Added ac_state column to event names
2025-05-26T20:41:59.955Z: Added targetAcMode column to event names
2025-05-26T20:41:59.955Z: Using existing log file
2025-05-26T20:41:59.958Z: Closing existing log stream before creating new one
2025-05-26T20:41:59.958Z: Logging enabled
2025-05-26T20:41:59.959Z: Stopping sensor polling interval: 998
2025-05-26T20:41:59.959Z: Closing logging service
2025-05-26T20:41:59.959Z: Closing sensor logging service
2025-05-26T20:41:59.959Z: Closing log stream
2025-05-26T20:41:59.959Z: Logging stopped at 2025-05-26T20:41:59.959Z
2025-05-26T20:41:59.961Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-05-26T20:41:59.961Z: Polling interval set with ID: 1114
2025-05-26T20:41:59.961Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T20:41:59.961Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T20:41:59.942Z: Received motion sensor data: {"motionDetected":false}
2025-05-26T20:41:59.942Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T20:41:59.942Z: Successfully updated motion event: living room motion = false
2025-05-26T20:41:59.961Z: Received motion sensor data: {"motionDetected":false}
2025-05-26T20:41:59.961Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T20:41:59.961Z: Successfully updated motion event: living room motion = false
2025-05-26T20:41:59.941Z: Received sensor data: {"temperature":23.9,"humidity":50.3}
2025-05-26T20:41:59.941Z: Formatted events: [{"name":"living room temperature","value":23.9,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":50.3,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T20:41:59.941Z: Successfully updated event: living room temperature = 23.9
2025-05-26T20:41:59.941Z: Successfully updated event: living room humidity = 50.3
2025-05-26T20:42:00.807Z: Initial poll - AC on: true, target temp: 20, target mode: cool
2025-05-26T20:42:00.807Z: Creating a combined row with motion=false, temp=23.9, humidity=50.3, light=true, ac_on=true, target_temp=20, target_mode=cool
2025-05-26T20:42:00.808Z: logSensorData called with 7 sensors
2025-05-26T20:42:00.808Z: WARNING - Logging is disabled but logSensorData was called
2025-05-26T20:42:00.808Z: Attempting to re-initialize logging with existing events
2025-05-26T20:42:00.810Z: Initializing sensor logging service
2025-05-26T20:42:00.810Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-26T20:42:00.811Z: Using existing log file
2025-05-26T20:42:00.808Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-26T20:42:00.808Z: Setting spaceId column 8 to 41413915
2025-05-26T20:42:00.808Z: Setting column 3 (living room motion) to false
2025-05-26T20:42:00.808Z: Setting column 1 (living room temperature) to 23.9
2025-05-26T20:42:00.808Z: Setting column 2 (living room humidity) to 50.3
2025-05-26T20:42:00.808Z: Setting column 4 (light_state) to true
2025-05-26T20:42:00.808Z: Setting column 5 (ac_state) to true
2025-05-26T20:42:00.808Z: Setting column 6 (targetTemperature) to 20
2025-05-26T20:42:00.808Z: Setting column 7 (targetAcMode) to cool
2025-05-26T20:42:00.808Z: Preparing row: 2025-05-26 20:42:00,23.9,50.3,false,true,true,20,cool,41413915
2025-05-26T20:42:00.808Z: Successfully wrote to log file using writeFileSync
2025-05-26T20:42:00.807Z: Successfully logged combined sensor data in one row with target temperature: 20 and target mode: cool
2025-05-26T20:42:00.814Z: Initial combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-26T20:42:00.815Z: Logging enabled
2025-05-26T20:42:00.808Z: Re-initialization result: {"success":true,"message":"Sensor logging initialized to C:\\Users\\amin\\Desktop\\smart-space\\SmartSchool-Server\\logs\\sensor_data.csv","columns":[["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]}
2025-05-26T20:41:59.961Z: Received sensor data: {"temperature":23.9,"humidity":50.3}
2025-05-26T20:41:59.961Z: Formatted events: [{"name":"living room temperature","value":23.9,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":50.3,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T20:41:59.961Z: Successfully updated event: living room temperature = 23.9
2025-05-26T20:41:59.961Z: Successfully updated event: living room humidity = 50.3
2025-05-26T20:42:00.883Z: Initial poll - AC on: true, target temp: 20, target mode: cool
2025-05-26T20:42:00.883Z: Creating a combined row with motion=false, temp=23.9, humidity=50.3, light=true, ac_on=true, target_temp=20, target_mode=cool
2025-05-26T20:42:00.884Z: logSensorData called with 7 sensors
2025-05-26T20:42:00.884Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-26T20:42:00.884Z: Setting spaceId column 8 to 41413915
2025-05-26T20:42:00.884Z: Setting column 3 (living room motion) to false
2025-05-26T20:42:00.884Z: Setting column 1 (living room temperature) to 23.9
2025-05-26T20:42:00.884Z: Setting column 2 (living room humidity) to 50.3
2025-05-26T20:42:00.884Z: Setting column 4 (light_state) to true
2025-05-26T20:42:00.884Z: Setting column 5 (ac_state) to true
2025-05-26T20:42:00.884Z: Setting column 6 (targetTemperature) to 20
2025-05-26T20:42:00.884Z: Setting column 7 (targetAcMode) to cool
2025-05-26T20:42:00.884Z: Preparing row: 2025-05-26 20:42:00,23.9,50.3,false,true,true,20,cool,41413915
2025-05-26T20:42:00.884Z: Successfully wrote to log file using writeFileSync
2025-05-26T20:42:00.883Z: Successfully logged combined sensor data in one row with target temperature: 20 and target mode: cool
2025-05-26T20:42:00.887Z: Initial combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-26T20:43:39.975Z: Polling for sensor data... (poll #1)
2025-05-26T20:43:39.975Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T20:43:39.975Z: Received sensor data: {"temperature":24,"humidity":50.4}
2025-05-26T20:43:39.975Z: Formatted events: [{"name":"living room temperature","value":24,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":50.4,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T20:43:39.975Z: Successfully updated event: living room temperature = 24
2025-05-26T20:43:39.975Z: Successfully updated event: living room humidity = 50.4
2025-05-26T20:43:40.653Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":24,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":50.4,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-26T20:43:40.653Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T20:43:40.653Z: Received motion sensor data: {"motionDetected":false}
2025-05-26T20:43:40.653Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T20:43:40.653Z: Successfully updated motion event: living room motion = false
2025-05-26T20:43:40.800Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-26T20:43:41.346Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":true,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-26T20:43:39.628840Z"}}
2025-05-26T20:43:41.347Z: Extracted AC on state: true, target temperature: 20, target mode: cool
2025-05-26T20:43:41.659Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":true},"success":true}
2025-05-26T20:43:41.660Z: Extracted light state: true
2025-05-26T20:43:41.660Z: Creating a combined row with motion=false, temp=24, humidity=50.4, light=true, ac_on=true, target_temp=20, target_mode=cool
2025-05-26T20:43:41.661Z: logSensorData called with 7 sensors
2025-05-26T20:43:41.661Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-26T20:43:41.661Z: Setting spaceId column 8 to 41413915
2025-05-26T20:43:41.661Z: Setting column 3 (living room motion) to false
2025-05-26T20:43:41.661Z: Setting column 1 (living room temperature) to 24
2025-05-26T20:43:41.661Z: Setting column 2 (living room humidity) to 50.4
2025-05-26T20:43:41.661Z: Setting column 4 (light_state) to true
2025-05-26T20:43:41.661Z: Setting column 5 (ac_state) to true
2025-05-26T20:43:41.661Z: Setting column 6 (targetTemperature) to 20
2025-05-26T20:43:41.661Z: Setting column 7 (targetAcMode) to cool
2025-05-26T20:43:41.661Z: Preparing row: 2025-05-26 20:43:41,24,50.4,false,true,true,20,cool,41413915
2025-05-26T20:43:41.661Z: Successfully wrote to log file using writeFileSync
2025-05-26T20:43:41.660Z: Successfully logged combined sensor data in one row with target temperature: 20 and target mode: cool
2025-05-26T20:43:41.664Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-26T20:43:41.664Z: Polling interval active: true
2025-05-26T20:45:19.976Z: Polling for sensor data... (poll #2)
2025-05-26T20:45:19.978Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T20:45:19.978Z: Received sensor data: {"temperature":24,"humidity":50.3}
2025-05-26T20:45:19.978Z: Formatted events: [{"name":"living room temperature","value":24,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":50.3,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T20:45:19.978Z: Successfully updated event: living room temperature = 24
2025-05-26T20:45:19.978Z: Successfully updated event: living room humidity = 50.3
2025-05-26T20:45:20.553Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":24,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":50.3,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-26T20:45:20.553Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T20:45:20.553Z: Received motion sensor data: {"motionDetected":false}
2025-05-26T20:45:20.553Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T20:45:20.553Z: Successfully updated motion event: living room motion = false
2025-05-26T20:45:20.712Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-26T20:45:21.298Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":true,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-26T20:45:19.571559Z"}}
2025-05-26T20:45:21.298Z: Extracted AC on state: true, target temperature: 20, target mode: cool
2025-05-26T20:45:21.633Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":true},"success":true}
2025-05-26T20:45:21.633Z: Extracted light state: true
2025-05-26T20:45:21.633Z: Creating a combined row with motion=false, temp=24, humidity=50.3, light=true, ac_on=true, target_temp=20, target_mode=cool
2025-05-26T20:45:21.634Z: logSensorData called with 7 sensors
2025-05-26T20:45:21.634Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-26T20:45:21.634Z: Setting spaceId column 8 to 41413915
2025-05-26T20:45:21.634Z: Setting column 3 (living room motion) to false
2025-05-26T20:45:21.634Z: Setting column 1 (living room temperature) to 24
2025-05-26T20:45:21.634Z: Setting column 2 (living room humidity) to 50.3
2025-05-26T20:45:21.634Z: Setting column 4 (light_state) to true
2025-05-26T20:45:21.634Z: Setting column 5 (ac_state) to true
2025-05-26T20:45:21.634Z: Setting column 6 (targetTemperature) to 20
2025-05-26T20:45:21.634Z: Setting column 7 (targetAcMode) to cool
2025-05-26T20:45:21.634Z: Preparing row: 2025-05-26 20:45:21,24,50.3,false,true,true,20,cool,41413915
2025-05-26T20:45:21.634Z: Successfully wrote to log file using writeFileSync
2025-05-26T20:45:21.633Z: Successfully logged combined sensor data in one row with target temperature: 20 and target mode: cool
2025-05-26T20:45:21.637Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-26T20:45:21.637Z: Polling interval active: true
2025-05-26T20:46:59.984Z: Polling for sensor data... (poll #3)
2025-05-26T20:46:59.985Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T20:46:59.985Z: Received sensor data: {"temperature":24,"humidity":49.9}
2025-05-26T20:46:59.985Z: Formatted events: [{"name":"living room temperature","value":24,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":49.9,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T20:46:59.985Z: Successfully updated event: living room temperature = 24
2025-05-26T20:46:59.985Z: Successfully updated event: living room humidity = 49.9
2025-05-26T20:47:00.600Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":24,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":49.9,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-26T20:47:00.600Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T20:47:00.600Z: Received motion sensor data: {"motionDetected":false}
2025-05-26T20:47:00.600Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T20:47:00.600Z: Successfully updated motion event: living room motion = false
2025-05-26T20:47:00.753Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-26T20:47:01.307Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":true,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-26T20:46:59.584691Z"}}
2025-05-26T20:47:01.307Z: Extracted AC on state: true, target temperature: 20, target mode: cool
2025-05-26T20:47:01.643Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":true},"success":true}
2025-05-26T20:47:01.644Z: Extracted light state: true
2025-05-26T20:47:01.644Z: Creating a combined row with motion=false, temp=24, humidity=49.9, light=true, ac_on=true, target_temp=20, target_mode=cool
2025-05-26T20:47:01.644Z: logSensorData called with 7 sensors
2025-05-26T20:47:01.644Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-26T20:47:01.644Z: Setting spaceId column 8 to 41413915
2025-05-26T20:47:01.644Z: Setting column 3 (living room motion) to false
2025-05-26T20:47:01.644Z: Setting column 1 (living room temperature) to 24
2025-05-26T20:47:01.644Z: Setting column 2 (living room humidity) to 49.9
2025-05-26T20:47:01.644Z: Setting column 4 (light_state) to true
2025-05-26T20:47:01.644Z: Setting column 5 (ac_state) to true
2025-05-26T20:47:01.644Z: Setting column 6 (targetTemperature) to 20
2025-05-26T20:47:01.644Z: Setting column 7 (targetAcMode) to cool
2025-05-26T20:47:01.644Z: Preparing row: 2025-05-26 20:47:01,24,49.9,false,true,true,20,cool,41413915
2025-05-26T20:47:01.644Z: Successfully wrote to log file using writeFileSync
2025-05-26T20:47:01.644Z: Successfully logged combined sensor data in one row with target temperature: 20 and target mode: cool
2025-05-26T20:47:01.648Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-26T20:47:01.649Z: Polling interval active: true
2025-05-26T20:48:39.989Z: Polling for sensor data... (poll #4)
2025-05-26T20:48:39.990Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T20:48:39.990Z: Received sensor data: {"temperature":24,"humidity":50.3}
2025-05-26T20:48:39.990Z: Formatted events: [{"name":"living room temperature","value":24,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":50.3,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T20:48:39.990Z: Successfully updated event: living room temperature = 24
2025-05-26T20:48:39.990Z: Successfully updated event: living room humidity = 50.3
2025-05-26T20:48:40.537Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":24,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":50.3,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-26T20:48:40.537Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T20:48:40.537Z: Received motion sensor data: {"motionDetected":false}
2025-05-26T20:48:40.537Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T20:48:40.537Z: Successfully updated motion event: living room motion = false
2025-05-26T20:48:40.680Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-26T20:48:41.244Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":true,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-26T20:48:39.529824Z"}}
2025-05-26T20:48:41.245Z: Extracted AC on state: true, target temperature: 20, target mode: cool
2025-05-26T20:48:41.563Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":true},"success":true}
2025-05-26T20:48:41.564Z: Extracted light state: true
2025-05-26T20:48:41.564Z: Creating a combined row with motion=false, temp=24, humidity=50.3, light=true, ac_on=true, target_temp=20, target_mode=cool
2025-05-26T20:48:41.565Z: logSensorData called with 7 sensors
2025-05-26T20:48:41.565Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-26T20:48:41.565Z: Setting spaceId column 8 to 41413915
2025-05-26T20:48:41.565Z: Setting column 3 (living room motion) to false
2025-05-26T20:48:41.565Z: Setting column 1 (living room temperature) to 24
2025-05-26T20:48:41.565Z: Setting column 2 (living room humidity) to 50.3
2025-05-26T20:48:41.565Z: Setting column 4 (light_state) to true
2025-05-26T20:48:41.565Z: Setting column 5 (ac_state) to true
2025-05-26T20:48:41.565Z: Setting column 6 (targetTemperature) to 20
2025-05-26T20:48:41.565Z: Setting column 7 (targetAcMode) to cool
2025-05-26T20:48:41.565Z: Preparing row: 2025-05-26 20:48:41,24,50.3,false,true,true,20,cool,41413915
2025-05-26T20:48:41.565Z: Successfully wrote to log file using writeFileSync
2025-05-26T20:48:41.564Z: Successfully logged combined sensor data in one row with target temperature: 20 and target mode: cool
2025-05-26T20:48:41.569Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-26T20:48:41.569Z: Polling interval active: true
2025-05-26T20:50:19.997Z: Polling for sensor data... (poll #5)
2025-05-26T20:50:19.997Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T20:50:19.997Z: Received sensor data: {"temperature":24,"humidity":50}
2025-05-26T20:50:19.997Z: Formatted events: [{"name":"living room temperature","value":24,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":50,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T20:50:19.997Z: Successfully updated event: living room temperature = 24
2025-05-26T20:50:19.997Z: Successfully updated event: living room humidity = 50
2025-05-26T20:50:20.544Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":24,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":50,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-26T20:50:20.544Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T20:50:20.544Z: Received motion sensor data: {"motionDetected":false}
2025-05-26T20:50:20.544Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T20:50:20.544Z: Successfully updated motion event: living room motion = false
2025-05-26T20:50:20.694Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-26T20:50:21.257Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":true,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-26T20:50:19.532713Z"}}
2025-05-26T20:50:21.257Z: Extracted AC on state: true, target temperature: 20, target mode: cool
2025-05-26T20:50:21.586Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":true},"success":true}
2025-05-26T20:50:21.586Z: Extracted light state: true
2025-05-26T20:50:21.587Z: Creating a combined row with motion=false, temp=24, humidity=50, light=true, ac_on=true, target_temp=20, target_mode=cool
2025-05-26T20:50:21.588Z: logSensorData called with 7 sensors
2025-05-26T20:50:21.588Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-26T20:50:21.588Z: Setting spaceId column 8 to 41413915
2025-05-26T20:50:21.588Z: Setting column 3 (living room motion) to false
2025-05-26T20:50:21.588Z: Setting column 1 (living room temperature) to 24
2025-05-26T20:50:21.588Z: Setting column 2 (living room humidity) to 50
2025-05-26T20:50:21.588Z: Setting column 4 (light_state) to true
2025-05-26T20:50:21.588Z: Setting column 5 (ac_state) to true
2025-05-26T20:50:21.588Z: Setting column 6 (targetTemperature) to 20
2025-05-26T20:50:21.588Z: Setting column 7 (targetAcMode) to cool
2025-05-26T20:50:21.588Z: Preparing row: 2025-05-26 20:50:21,24,50,false,true,true,20,cool,41413915
2025-05-26T20:50:21.588Z: Successfully wrote to log file using writeFileSync
2025-05-26T20:50:21.587Z: Successfully logged combined sensor data in one row with target temperature: 20 and target mode: cool
2025-05-26T20:50:21.590Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-26T20:50:21.590Z: Polling interval active: true
2025-05-26T20:52:00.002Z: Polling for sensor data... (poll #6)
2025-05-26T20:52:00.003Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T20:52:00.003Z: Received sensor data: {"temperature":24,"humidity":49.6}
2025-05-26T20:52:00.003Z: Formatted events: [{"name":"living room temperature","value":24,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":49.6,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T20:52:00.003Z: Successfully updated event: living room temperature = 24
2025-05-26T20:52:00.003Z: Successfully updated event: living room humidity = 49.6
2025-05-26T20:52:00.607Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":24,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":49.6,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-26T20:52:00.608Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T20:52:00.608Z: Received motion sensor data: {"motionDetected":false}
2025-05-26T20:52:00.608Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T20:52:00.608Z: Successfully updated motion event: living room motion = false
2025-05-26T20:52:00.753Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-26T20:52:01.389Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":true,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-26T20:51:59.682544Z"}}
2025-05-26T20:52:01.389Z: Extracted AC on state: true, target temperature: 20, target mode: cool
2025-05-26T20:52:01.716Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":true},"success":true}
2025-05-26T20:52:01.716Z: Extracted light state: true
2025-05-26T20:52:01.716Z: Creating a combined row with motion=false, temp=24, humidity=49.6, light=true, ac_on=true, target_temp=20, target_mode=cool
2025-05-26T20:52:01.717Z: logSensorData called with 7 sensors
2025-05-26T20:52:01.717Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-26T20:52:01.717Z: Setting spaceId column 8 to 41413915
2025-05-26T20:52:01.717Z: Setting column 3 (living room motion) to false
2025-05-26T20:52:01.717Z: Setting column 1 (living room temperature) to 24
2025-05-26T20:52:01.717Z: Setting column 2 (living room humidity) to 49.6
2025-05-26T20:52:01.717Z: Setting column 4 (light_state) to true
2025-05-26T20:52:01.717Z: Setting column 5 (ac_state) to true
2025-05-26T20:52:01.717Z: Setting column 6 (targetTemperature) to 20
2025-05-26T20:52:01.717Z: Setting column 7 (targetAcMode) to cool
2025-05-26T20:52:01.717Z: Preparing row: 2025-05-26 20:52:01,24,49.6,false,true,true,20,cool,41413915
2025-05-26T20:52:01.717Z: Successfully wrote to log file using writeFileSync
2025-05-26T20:52:01.716Z: Successfully logged combined sensor data in one row with target temperature: 20 and target mode: cool
2025-05-26T20:52:01.720Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-26T20:52:01.721Z: Polling interval active: true
2025-05-26T20:53:40.014Z: Polling for sensor data... (poll #7)
2025-05-26T20:53:40.015Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T20:53:40.015Z: Received sensor data: {"temperature":24,"humidity":49.4}
2025-05-26T20:53:40.015Z: Formatted events: [{"name":"living room temperature","value":24,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":49.4,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T20:53:40.015Z: Successfully updated event: living room temperature = 24
2025-05-26T20:53:40.015Z: Successfully updated event: living room humidity = 49.4
2025-05-26T20:53:40.625Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":24,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":49.4,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-26T20:53:40.625Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T20:53:40.625Z: Received motion sensor data: {"motionDetected":false}
2025-05-26T20:53:40.625Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T20:53:40.625Z: Successfully updated motion event: living room motion = false
2025-05-26T20:53:40.776Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-26T20:53:41.367Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":true,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-26T20:53:39.661415Z"}}
2025-05-26T20:53:41.368Z: Extracted AC on state: true, target temperature: 20, target mode: cool
2025-05-26T20:53:41.719Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":true},"success":true}
2025-05-26T20:53:41.719Z: Extracted light state: true
2025-05-26T20:53:41.720Z: Creating a combined row with motion=false, temp=24, humidity=49.4, light=true, ac_on=true, target_temp=20, target_mode=cool
2025-05-26T20:53:41.720Z: logSensorData called with 7 sensors
2025-05-26T20:53:41.720Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-26T20:53:41.720Z: Setting spaceId column 8 to 41413915
2025-05-26T20:53:41.720Z: Setting column 3 (living room motion) to false
2025-05-26T20:53:41.720Z: Setting column 1 (living room temperature) to 24
2025-05-26T20:53:41.720Z: Setting column 2 (living room humidity) to 49.4
2025-05-26T20:53:41.720Z: Setting column 4 (light_state) to true
2025-05-26T20:53:41.720Z: Setting column 5 (ac_state) to true
2025-05-26T20:53:41.720Z: Setting column 6 (targetTemperature) to 20
2025-05-26T20:53:41.720Z: Setting column 7 (targetAcMode) to cool
2025-05-26T20:53:41.720Z: Preparing row: 2025-05-26 20:53:41,24,49.4,false,true,true,20,cool,41413915
2025-05-26T20:53:41.720Z: Successfully wrote to log file using writeFileSync
2025-05-26T20:53:41.720Z: Successfully logged combined sensor data in one row with target temperature: 20 and target mode: cool
2025-05-26T20:53:41.724Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-26T20:53:41.724Z: Polling interval active: true
2025-05-26T20:55:20.015Z: Polling for sensor data... (poll #8)
2025-05-26T20:55:20.016Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T20:55:20.016Z: Received sensor data: {"temperature":24,"humidity":49.6}
2025-05-26T20:55:20.016Z: Formatted events: [{"name":"living room temperature","value":24,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":49.6,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T20:55:20.016Z: Successfully updated event: living room temperature = 24
2025-05-26T20:55:20.016Z: Successfully updated event: living room humidity = 49.6
2025-05-26T20:55:20.552Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":24,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":49.6,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-26T20:55:20.553Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T20:55:20.553Z: Received motion sensor data: {"motionDetected":false}
2025-05-26T20:55:20.553Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T20:55:20.553Z: Successfully updated motion event: living room motion = false
2025-05-26T20:55:21.109Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-26T20:55:21.715Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":true,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":-1,"time":"2025-05-26T20:55:20.010552Z"}}
2025-05-26T20:55:21.715Z: Extracted AC on state: true, target temperature: 20, target mode: cool
2025-05-26T20:55:22.042Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":true},"success":true}
2025-05-26T20:55:22.042Z: Extracted light state: true
2025-05-26T20:55:22.043Z: Creating a combined row with motion=false, temp=24, humidity=49.6, light=true, ac_on=true, target_temp=20, target_mode=cool
2025-05-26T20:55:22.043Z: logSensorData called with 7 sensors
2025-05-26T20:55:22.043Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-26T20:55:22.043Z: Setting spaceId column 8 to 41413915
2025-05-26T20:55:22.043Z: Setting column 3 (living room motion) to false
2025-05-26T20:55:22.043Z: Setting column 1 (living room temperature) to 24
2025-05-26T20:55:22.043Z: Setting column 2 (living room humidity) to 49.6
2025-05-26T20:55:22.043Z: Setting column 4 (light_state) to true
2025-05-26T20:55:22.043Z: Setting column 5 (ac_state) to true
2025-05-26T20:55:22.043Z: Setting column 6 (targetTemperature) to 20
2025-05-26T20:55:22.043Z: Setting column 7 (targetAcMode) to cool
2025-05-26T20:55:22.043Z: Preparing row: 2025-05-26 20:55:22,24,49.6,false,true,true,20,cool,41413915
2025-05-26T20:55:22.043Z: Successfully wrote to log file using writeFileSync
2025-05-26T20:55:22.043Z: Successfully logged combined sensor data in one row with target temperature: 20 and target mode: cool
2025-05-26T20:55:22.046Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-26T20:55:22.047Z: Polling interval active: true
2025-05-26T21:13:09.311Z: Polling for sensor data... (poll #9)
2025-05-26T21:13:09.314Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T21:13:09.314Z: Received sensor data: {"temperature":24,"humidity":49.4}
2025-05-26T21:13:09.314Z: Formatted events: [{"name":"living room temperature","value":24,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":49.4,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T21:13:09.314Z: Successfully updated event: living room temperature = 24
2025-05-26T21:13:09.314Z: Successfully updated event: living room humidity = 49.4
2025-05-26T21:13:10.136Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":24,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":49.4,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-26T21:13:10.137Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T21:13:10.137Z: Received motion sensor data: {"motionDetected":true}
2025-05-26T21:13:10.137Z: Formatted motion sensor events: [{"name":"living room motion","value":true,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T21:13:10.137Z: Successfully updated motion event: living room motion = true
2025-05-26T21:13:10.371Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":true,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-26T21:13:11.007Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":true,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-26T21:13:09.322732Z"}}
2025-05-26T21:13:11.007Z: Extracted AC on state: true, target temperature: 20, target mode: cool
2025-05-26T21:13:11.350Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":true},"success":true}
2025-05-26T21:13:11.352Z: Extracted light state: true
2025-05-26T21:13:11.352Z: Creating a combined row with motion=true, temp=24, humidity=49.4, light=true, ac_on=true, target_temp=20, target_mode=cool
2025-05-26T21:13:11.353Z: logSensorData called with 7 sensors
2025-05-26T21:13:11.353Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-26T21:13:11.353Z: Setting spaceId column 8 to 41413915
2025-05-26T21:13:11.353Z: Setting column 3 (living room motion) to true
2025-05-26T21:13:11.353Z: Setting column 1 (living room temperature) to 24
2025-05-26T21:13:11.353Z: Setting column 2 (living room humidity) to 49.4
2025-05-26T21:13:11.353Z: Setting column 4 (light_state) to true
2025-05-26T21:13:11.353Z: Setting column 5 (ac_state) to true
2025-05-26T21:13:11.353Z: Setting column 6 (targetTemperature) to 20
2025-05-26T21:13:11.353Z: Setting column 7 (targetAcMode) to cool
2025-05-26T21:13:11.353Z: Preparing row: 2025-05-26 21:13:11,24,49.4,true,true,true,20,cool,41413915
2025-05-26T21:13:11.353Z: Successfully wrote to log file using writeFileSync
2025-05-26T21:13:11.352Z: Successfully logged combined sensor data in one row with target temperature: 20 and target mode: cool
2025-05-26T21:13:11.357Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-26T21:13:11.357Z: Polling interval active: true
2025-05-26T21:14:49.313Z: Polling for sensor data... (poll #10)
2025-05-26T21:14:49.314Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T21:14:49.314Z: Received sensor data: {"temperature":23.9,"humidity":49.3}
2025-05-26T21:14:49.314Z: Formatted events: [{"name":"living room temperature","value":23.9,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":49.3,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T21:14:49.314Z: Successfully updated event: living room temperature = 23.9
2025-05-26T21:14:49.314Z: Successfully updated event: living room humidity = 49.3
2025-05-26T21:14:50.215Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":23.9,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":49.3,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-26T21:14:50.215Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T21:14:50.215Z: Received motion sensor data: {"motionDetected":false}
2025-05-26T21:14:50.215Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T21:14:50.215Z: Successfully updated motion event: living room motion = false
2025-05-26T21:14:50.367Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-26T21:14:50.941Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":true,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-26T21:14:49.253332Z"}}
2025-05-26T21:14:50.941Z: Extracted AC on state: true, target temperature: 20, target mode: cool
2025-05-26T21:14:51.280Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":true},"success":true}
2025-05-26T21:14:51.280Z: Extracted light state: true
2025-05-26T21:14:51.281Z: Creating a combined row with motion=false, temp=23.9, humidity=49.3, light=true, ac_on=true, target_temp=20, target_mode=cool
2025-05-26T21:14:51.281Z: logSensorData called with 7 sensors
2025-05-26T21:14:51.281Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-26T21:14:51.281Z: Setting spaceId column 8 to 41413915
2025-05-26T21:14:51.281Z: Setting column 3 (living room motion) to false
2025-05-26T21:14:51.281Z: Setting column 1 (living room temperature) to 23.9
2025-05-26T21:14:51.281Z: Setting column 2 (living room humidity) to 49.3
2025-05-26T21:14:51.281Z: Setting column 4 (light_state) to true
2025-05-26T21:14:51.281Z: Setting column 5 (ac_state) to true
2025-05-26T21:14:51.281Z: Setting column 6 (targetTemperature) to 20
2025-05-26T21:14:51.281Z: Setting column 7 (targetAcMode) to cool
2025-05-26T21:14:51.281Z: Preparing row: 2025-05-26 21:14:51,23.9,49.3,false,true,true,20,cool,41413915
2025-05-26T21:14:51.281Z: Successfully wrote to log file using writeFileSync
2025-05-26T21:14:51.281Z: Successfully logged combined sensor data in one row with target temperature: 20 and target mode: cool
2025-05-26T21:14:51.284Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-26T21:14:51.284Z: Polling interval active: true
2025-05-26T21:16:29.324Z: Polling for sensor data... (poll #11)
2025-05-26T21:16:29.325Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T21:16:29.325Z: Received sensor data: {"temperature":23.9,"humidity":49.6}
2025-05-26T21:16:29.325Z: Formatted events: [{"name":"living room temperature","value":23.9,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":49.6,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T21:16:29.325Z: Successfully updated event: living room temperature = 23.9
2025-05-26T21:16:29.325Z: Successfully updated event: living room humidity = 49.6
2025-05-26T21:16:30.136Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":23.9,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":49.6,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-26T21:16:30.136Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T21:16:30.136Z: Received motion sensor data: {"motionDetected":true}
2025-05-26T21:16:30.136Z: Formatted motion sensor events: [{"name":"living room motion","value":true,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T21:16:30.136Z: Successfully updated motion event: living room motion = true
2025-05-26T21:16:30.279Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":true,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-26T21:16:30.876Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":true,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-26T21:16:29.207538Z"}}
2025-05-26T21:16:30.876Z: Extracted AC on state: true, target temperature: 20, target mode: cool
2025-05-26T21:16:31.210Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":true},"success":true}
2025-05-26T21:16:31.211Z: Extracted light state: true
2025-05-26T21:16:31.211Z: Creating a combined row with motion=true, temp=23.9, humidity=49.6, light=true, ac_on=true, target_temp=20, target_mode=cool
2025-05-26T21:16:31.212Z: logSensorData called with 7 sensors
2025-05-26T21:16:31.212Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-26T21:16:31.212Z: Setting spaceId column 8 to 41413915
2025-05-26T21:16:31.212Z: Setting column 3 (living room motion) to true
2025-05-26T21:16:31.212Z: Setting column 1 (living room temperature) to 23.9
2025-05-26T21:16:31.212Z: Setting column 2 (living room humidity) to 49.6
2025-05-26T21:16:31.212Z: Setting column 4 (light_state) to true
2025-05-26T21:16:31.212Z: Setting column 5 (ac_state) to true
2025-05-26T21:16:31.212Z: Setting column 6 (targetTemperature) to 20
2025-05-26T21:16:31.212Z: Setting column 7 (targetAcMode) to cool
2025-05-26T21:16:31.212Z: Preparing row: 2025-05-26 21:16:31,23.9,49.6,true,true,true,20,cool,41413915
2025-05-26T21:16:31.212Z: Successfully wrote to log file using writeFileSync
2025-05-26T21:16:31.211Z: Successfully logged combined sensor data in one row with target temperature: 20 and target mode: cool
2025-05-26T21:16:31.215Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-26T21:16:31.215Z: Polling interval active: true
2025-05-26T21:18:09.334Z: Polling for sensor data... (poll #12)
2025-05-26T21:18:09.334Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T21:18:09.334Z: Received sensor data: {"temperature":23.9,"humidity":49.4}
2025-05-26T21:18:09.334Z: Formatted events: [{"name":"living room temperature","value":23.9,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":49.4,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T21:18:09.334Z: Successfully updated event: living room temperature = 23.9
2025-05-26T21:18:09.334Z: Successfully updated event: living room humidity = 49.4
2025-05-26T21:18:10.206Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":23.9,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":49.4,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-26T21:18:10.207Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T21:18:10.207Z: Received motion sensor data: {"motionDetected":false}
2025-05-26T21:18:10.207Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T21:18:10.207Z: Successfully updated motion event: living room motion = false
2025-05-26T21:18:10.356Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-26T21:18:10.890Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":true,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-26T21:18:09.213382Z"}}
2025-05-26T21:18:10.891Z: Extracted AC on state: true, target temperature: 20, target mode: cool
2025-05-26T21:18:11.225Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":true},"success":true}
2025-05-26T21:18:11.225Z: Extracted light state: true
2025-05-26T21:18:11.225Z: Creating a combined row with motion=false, temp=23.9, humidity=49.4, light=true, ac_on=true, target_temp=20, target_mode=cool
2025-05-26T21:18:11.226Z: logSensorData called with 7 sensors
2025-05-26T21:18:11.226Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-26T21:18:11.226Z: Setting spaceId column 8 to 41413915
2025-05-26T21:18:11.226Z: Setting column 3 (living room motion) to false
2025-05-26T21:18:11.226Z: Setting column 1 (living room temperature) to 23.9
2025-05-26T21:18:11.226Z: Setting column 2 (living room humidity) to 49.4
2025-05-26T21:18:11.226Z: Setting column 4 (light_state) to true
2025-05-26T21:18:11.226Z: Setting column 5 (ac_state) to true
2025-05-26T21:18:11.226Z: Setting column 6 (targetTemperature) to 20
2025-05-26T21:18:11.226Z: Setting column 7 (targetAcMode) to cool
2025-05-26T21:18:11.226Z: Preparing row: 2025-05-26 21:18:11,23.9,49.4,false,true,true,20,cool,41413915
2025-05-26T21:18:11.226Z: Successfully wrote to log file using writeFileSync
2025-05-26T21:18:11.225Z: Successfully logged combined sensor data in one row with target temperature: 20 and target mode: cool
2025-05-26T21:18:11.229Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-26T21:18:11.229Z: Polling interval active: true
2025-05-26T21:19:49.343Z: Polling for sensor data... (poll #13)
2025-05-26T21:19:49.344Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T21:19:49.344Z: Received sensor data: {"temperature":23.8,"humidity":49.4}
2025-05-26T21:19:49.344Z: Formatted events: [{"name":"living room temperature","value":23.8,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":49.4,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T21:19:49.344Z: Successfully updated event: living room temperature = 23.8
2025-05-26T21:19:49.344Z: Successfully updated event: living room humidity = 49.4
2025-05-26T21:19:50.188Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":23.8,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":49.4,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-26T21:19:50.188Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T21:19:50.188Z: Received motion sensor data: {"motionDetected":false}
2025-05-26T21:19:50.188Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T21:19:50.188Z: Successfully updated motion event: living room motion = false
2025-05-26T21:19:50.333Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-26T21:19:50.969Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":true,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-26T21:19:49.286041Z"}}
2025-05-26T21:19:50.970Z: Extracted AC on state: true, target temperature: 20, target mode: cool
2025-05-26T21:19:51.347Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":true},"success":true}
2025-05-26T21:19:51.347Z: Extracted light state: true
2025-05-26T21:19:51.347Z: Creating a combined row with motion=false, temp=23.8, humidity=49.4, light=true, ac_on=true, target_temp=20, target_mode=cool
2025-05-26T21:19:51.348Z: logSensorData called with 7 sensors
2025-05-26T21:19:51.348Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-26T21:19:51.348Z: Setting spaceId column 8 to 41413915
2025-05-26T21:19:51.348Z: Setting column 3 (living room motion) to false
2025-05-26T21:19:51.348Z: Setting column 1 (living room temperature) to 23.8
2025-05-26T21:19:51.348Z: Setting column 2 (living room humidity) to 49.4
2025-05-26T21:19:51.348Z: Setting column 4 (light_state) to true
2025-05-26T21:19:51.348Z: Setting column 5 (ac_state) to true
2025-05-26T21:19:51.348Z: Setting column 6 (targetTemperature) to 20
2025-05-26T21:19:51.348Z: Setting column 7 (targetAcMode) to cool
2025-05-26T21:19:51.348Z: Preparing row: 2025-05-26 21:19:51,23.8,49.4,false,true,true,20,cool,41413915
2025-05-26T21:19:51.348Z: Successfully wrote to log file using writeFileSync
2025-05-26T21:19:51.347Z: Successfully logged combined sensor data in one row with target temperature: 20 and target mode: cool
2025-05-26T21:19:51.352Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-26T21:19:51.352Z: Polling interval active: true
2025-05-26T21:21:29.347Z: Polling for sensor data... (poll #14)
2025-05-26T21:21:29.348Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T21:21:29.348Z: Received sensor data: {"temperature":23.9,"humidity":49.9}
2025-05-26T21:21:29.348Z: Formatted events: [{"name":"living room temperature","value":23.9,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":49.9,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T21:21:29.348Z: Successfully updated event: living room temperature = 23.9
2025-05-26T21:21:29.348Z: Successfully updated event: living room humidity = 49.9
2025-05-26T21:21:30.163Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":23.9,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":49.9,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-26T21:21:30.163Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T21:21:30.163Z: Received motion sensor data: {"motionDetected":false}
2025-05-26T21:21:30.163Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T21:21:30.163Z: Successfully updated motion event: living room motion = false
2025-05-26T21:21:30.380Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-26T21:21:30.929Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":true,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-26T21:21:29.259878Z"}}
2025-05-26T21:21:30.930Z: Extracted AC on state: true, target temperature: 20, target mode: cool
2025-05-26T21:21:31.259Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":true},"success":true}
2025-05-26T21:21:31.260Z: Extracted light state: true
2025-05-26T21:21:31.260Z: Creating a combined row with motion=false, temp=23.9, humidity=49.9, light=true, ac_on=true, target_temp=20, target_mode=cool
2025-05-26T21:21:31.261Z: logSensorData called with 7 sensors
2025-05-26T21:21:31.261Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-26T21:21:31.261Z: Setting spaceId column 8 to 41413915
2025-05-26T21:21:31.261Z: Setting column 3 (living room motion) to false
2025-05-26T21:21:31.261Z: Setting column 1 (living room temperature) to 23.9
2025-05-26T21:21:31.261Z: Setting column 2 (living room humidity) to 49.9
2025-05-26T21:21:31.261Z: Setting column 4 (light_state) to true
2025-05-26T21:21:31.261Z: Setting column 5 (ac_state) to true
2025-05-26T21:21:31.261Z: Setting column 6 (targetTemperature) to 20
2025-05-26T21:21:31.261Z: Setting column 7 (targetAcMode) to cool
2025-05-26T21:21:31.261Z: Preparing row: 2025-05-26 21:21:31,23.9,49.9,false,true,true,20,cool,41413915
2025-05-26T21:21:31.261Z: Successfully wrote to log file using writeFileSync
2025-05-26T21:21:31.260Z: Successfully logged combined sensor data in one row with target temperature: 20 and target mode: cool
2025-05-26T21:21:31.264Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-26T21:21:31.264Z: Polling interval active: true
2025-05-26T21:23:09.360Z: Polling for sensor data... (poll #15)
2025-05-26T21:23:09.361Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T21:23:09.361Z: Received sensor data: {"temperature":23.9,"humidity":50}
2025-05-26T21:23:09.361Z: Formatted events: [{"name":"living room temperature","value":23.9,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":50,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T21:23:09.361Z: Successfully updated event: living room temperature = 23.9
2025-05-26T21:23:09.361Z: Successfully updated event: living room humidity = 50
2025-05-26T21:23:10.300Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":23.9,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":50,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-26T21:23:10.301Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T21:23:10.301Z: Received motion sensor data: {"motionDetected":true}
2025-05-26T21:23:10.301Z: Formatted motion sensor events: [{"name":"living room motion","value":true,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T21:23:10.301Z: Successfully updated motion event: living room motion = true
2025-05-26T21:23:10.454Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":true,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-26T21:23:11.035Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":true,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-26T21:23:09.377318Z"}}
2025-05-26T21:23:11.035Z: Extracted AC on state: true, target temperature: 20, target mode: cool
2025-05-26T21:23:11.445Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":true},"success":true}
2025-05-26T21:23:11.446Z: Extracted light state: true
2025-05-26T21:23:11.446Z: Creating a combined row with motion=true, temp=23.9, humidity=50, light=true, ac_on=true, target_temp=20, target_mode=cool
2025-05-26T21:23:11.446Z: logSensorData called with 7 sensors
2025-05-26T21:23:11.446Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-26T21:23:11.446Z: Setting spaceId column 8 to 41413915
2025-05-26T21:23:11.446Z: Setting column 3 (living room motion) to true
2025-05-26T21:23:11.446Z: Setting column 1 (living room temperature) to 23.9
2025-05-26T21:23:11.446Z: Setting column 2 (living room humidity) to 50
2025-05-26T21:23:11.446Z: Setting column 4 (light_state) to true
2025-05-26T21:23:11.446Z: Setting column 5 (ac_state) to true
2025-05-26T21:23:11.446Z: Setting column 6 (targetTemperature) to 20
2025-05-26T21:23:11.446Z: Setting column 7 (targetAcMode) to cool
2025-05-26T21:23:11.446Z: Preparing row: 2025-05-26 21:23:11,23.9,50,true,true,true,20,cool,41413915
2025-05-26T21:23:11.446Z: Successfully wrote to log file using writeFileSync
2025-05-26T21:23:11.446Z: Successfully logged combined sensor data in one row with target temperature: 20 and target mode: cool
2025-05-26T21:23:11.449Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-26T21:23:11.449Z: Polling interval active: true
2025-05-26T21:42:21.392Z: Initializing sensor logging service
2025-05-26T21:42:21.392Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-26T21:42:21.393Z: Added light_state column to event names
2025-05-26T21:42:21.394Z: Added ac_state column to event names
2025-05-26T21:42:21.394Z: Added ac_state column to event names
2025-05-26T21:42:21.394Z: Added targetAcMode column to event names
2025-05-26T21:42:21.395Z: Using existing log file
2025-05-26T21:42:21.396Z: Logging enabled
2025-05-26T21:42:21.397Z: No polling was active to stop
2025-05-26T21:42:21.399Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-05-26T21:42:21.399Z: Polling interval set with ID: 920
2025-05-26T21:42:21.400Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T21:42:21.401Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T21:42:21.410Z: Initializing sensor logging service
2025-05-26T21:42:21.411Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-26T21:42:21.411Z: Added light_state column to event names
2025-05-26T21:42:21.411Z: Added ac_state column to event names
2025-05-26T21:42:21.412Z: Added ac_state column to event names
2025-05-26T21:42:21.412Z: Added targetAcMode column to event names
2025-05-26T21:42:21.413Z: Using existing log file
2025-05-26T21:42:21.423Z: Closing existing log stream before creating new one
2025-05-26T21:42:21.424Z: Logging enabled
2025-05-26T21:42:21.424Z: Stopping sensor polling interval: 920
2025-05-26T21:42:21.424Z: Closing logging service
2025-05-26T21:42:21.425Z: Closing sensor logging service
2025-05-26T21:42:21.425Z: Closing log stream
2025-05-26T21:42:21.425Z: Logging stopped at 2025-05-26T21:42:21.425Z
2025-05-26T21:42:21.429Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-05-26T21:42:21.429Z: Polling interval set with ID: 1025
2025-05-26T21:42:21.430Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T21:42:21.431Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T21:42:21.401Z: Received motion sensor data: {"motionDetected":true}
2025-05-26T21:42:21.401Z: Formatted motion sensor events: [{"name":"living room motion","value":true,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T21:42:21.401Z: Successfully updated motion event: living room motion = true
2025-05-26T21:42:21.431Z: Received motion sensor data: {"motionDetected":true}
2025-05-26T21:42:21.431Z: Formatted motion sensor events: [{"name":"living room motion","value":true,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T21:42:21.431Z: Successfully updated motion event: living room motion = true
2025-05-26T21:42:21.400Z: Received sensor data: {"temperature":24.1,"humidity":51.3}
2025-05-26T21:42:21.400Z: Formatted events: [{"name":"living room temperature","value":24.1,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":51.3,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T21:42:21.400Z: Successfully updated event: living room temperature = 24.1
2025-05-26T21:42:21.400Z: Successfully updated event: living room humidity = 51.3
2025-05-26T21:42:22.169Z: Initial poll - AC on: true, target temp: 20, target mode: cool
2025-05-26T21:42:22.170Z: Creating a combined row with motion=true, temp=24.1, humidity=51.3, light=true, ac_on=true, target_temp=20, target_mode=cool
2025-05-26T21:42:22.170Z: logSensorData called with 7 sensors
2025-05-26T21:42:22.170Z: WARNING - Logging is disabled but logSensorData was called
2025-05-26T21:42:22.170Z: Attempting to re-initialize logging with existing events
2025-05-26T21:42:22.171Z: Initializing sensor logging service
2025-05-26T21:42:22.171Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-26T21:42:22.172Z: Using existing log file
2025-05-26T21:42:22.170Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-26T21:42:22.170Z: Setting spaceId column 8 to 41413915
2025-05-26T21:42:22.170Z: Setting column 3 (living room motion) to true
2025-05-26T21:42:22.170Z: Setting column 1 (living room temperature) to 24.1
2025-05-26T21:42:22.170Z: Setting column 2 (living room humidity) to 51.3
2025-05-26T21:42:22.170Z: Setting column 4 (light_state) to true
2025-05-26T21:42:22.170Z: Setting column 5 (ac_state) to true
2025-05-26T21:42:22.170Z: Setting column 6 (targetTemperature) to 20
2025-05-26T21:42:22.170Z: Setting column 7 (targetAcMode) to cool
2025-05-26T21:42:22.170Z: Preparing row: 2025-05-26 21:42:22,24.1,51.3,true,true,true,20,cool,41413915
2025-05-26T21:42:22.170Z: Successfully wrote to log file using writeFileSync
2025-05-26T21:42:22.170Z: Successfully logged combined sensor data in one row with target temperature: 20 and target mode: cool
2025-05-26T21:42:22.176Z: Initial combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-26T21:42:22.177Z: Logging enabled
2025-05-26T21:42:22.170Z: Re-initialization result: {"success":true,"message":"Sensor logging initialized to C:\\Users\\amin\\Desktop\\smart-space\\SmartSchool-Server\\logs\\sensor_data.csv","columns":[["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]}
2025-05-26T21:42:21.430Z: Received sensor data: {"temperature":24.1,"humidity":51.3}
2025-05-26T21:42:21.430Z: Formatted events: [{"name":"living room temperature","value":24.1,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":51.3,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T21:42:21.430Z: Successfully updated event: living room temperature = 24.1
2025-05-26T21:42:21.430Z: Successfully updated event: living room humidity = 51.3
2025-05-26T21:42:22.253Z: Initial poll - AC on: true, target temp: 20, target mode: cool
2025-05-26T21:42:22.253Z: Creating a combined row with motion=true, temp=24.1, humidity=51.3, light=true, ac_on=true, target_temp=20, target_mode=cool
2025-05-26T21:42:22.253Z: logSensorData called with 7 sensors
2025-05-26T21:42:22.253Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-26T21:42:22.253Z: Setting spaceId column 8 to 41413915
2025-05-26T21:42:22.253Z: Setting column 3 (living room motion) to true
2025-05-26T21:42:22.253Z: Setting column 1 (living room temperature) to 24.1
2025-05-26T21:42:22.253Z: Setting column 2 (living room humidity) to 51.3
2025-05-26T21:42:22.253Z: Setting column 4 (light_state) to true
2025-05-26T21:42:22.253Z: Setting column 5 (ac_state) to true
2025-05-26T21:42:22.253Z: Setting column 6 (targetTemperature) to 20
2025-05-26T21:42:22.253Z: Setting column 7 (targetAcMode) to cool
2025-05-26T21:42:22.253Z: Preparing row: 2025-05-26 21:42:22,24.1,51.3,true,true,true,20,cool,41413915
2025-05-26T21:42:22.253Z: Successfully wrote to log file using writeFileSync
2025-05-26T21:42:22.253Z: Successfully logged combined sensor data in one row with target temperature: 20 and target mode: cool
2025-05-26T21:42:22.257Z: Initial combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-26T21:44:01.444Z: Polling for sensor data... (poll #1)
2025-05-26T21:44:01.444Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T21:44:01.444Z: Received sensor data: {"temperature":24.1,"humidity":51.3}
2025-05-26T21:44:01.444Z: Formatted events: [{"name":"living room temperature","value":24.1,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":51.3,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T21:44:01.444Z: Successfully updated event: living room temperature = 24.1
2025-05-26T21:44:01.444Z: Successfully updated event: living room humidity = 51.3
2025-05-26T21:44:02.494Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":24.1,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":51.3,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-26T21:44:02.494Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T21:44:02.494Z: Received motion sensor data: {"motionDetected":false}
2025-05-26T21:44:02.494Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T21:44:02.494Z: Successfully updated motion event: living room motion = false
2025-05-26T21:44:02.648Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-26T21:44:03.213Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":true,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-26T21:44:01.576331Z"}}
2025-05-26T21:44:03.213Z: Extracted AC on state: true, target temperature: 20, target mode: cool
2025-05-26T21:44:03.563Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":true},"success":true}
2025-05-26T21:44:03.564Z: Extracted light state: true
2025-05-26T21:44:03.564Z: Creating a combined row with motion=false, temp=24.1, humidity=51.3, light=true, ac_on=true, target_temp=20, target_mode=cool
2025-05-26T21:44:03.564Z: logSensorData called with 7 sensors
2025-05-26T21:44:03.564Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-26T21:44:03.564Z: Setting spaceId column 8 to 41413915
2025-05-26T21:44:03.564Z: Setting column 3 (living room motion) to false
2025-05-26T21:44:03.564Z: Setting column 1 (living room temperature) to 24.1
2025-05-26T21:44:03.564Z: Setting column 2 (living room humidity) to 51.3
2025-05-26T21:44:03.564Z: Setting column 4 (light_state) to true
2025-05-26T21:44:03.564Z: Setting column 5 (ac_state) to true
2025-05-26T21:44:03.564Z: Setting column 6 (targetTemperature) to 20
2025-05-26T21:44:03.564Z: Setting column 7 (targetAcMode) to cool
2025-05-26T21:44:03.564Z: Preparing row: 2025-05-26 21:44:03,24.1,51.3,false,true,true,20,cool,41413915
2025-05-26T21:44:03.564Z: Successfully wrote to log file using writeFileSync
2025-05-26T21:44:03.564Z: Successfully logged combined sensor data in one row with target temperature: 20 and target mode: cool
2025-05-26T21:44:03.567Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-26T21:44:03.567Z: Polling interval active: true
2025-05-26T21:45:41.447Z: Polling for sensor data... (poll #2)
2025-05-26T21:45:41.448Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T21:45:41.448Z: Received sensor data: {"temperature":24.1,"humidity":51.7}
2025-05-26T21:45:41.448Z: Formatted events: [{"name":"living room temperature","value":24.1,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":51.7,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T21:45:41.448Z: Successfully updated event: living room temperature = 24.1
2025-05-26T21:45:41.448Z: Successfully updated event: living room humidity = 51.7
2025-05-26T21:45:42.504Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":24.1,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":51.7,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-26T21:45:42.504Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T21:45:42.504Z: Received motion sensor data: {"motionDetected":false}
2025-05-26T21:45:42.504Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T21:45:42.504Z: Successfully updated motion event: living room motion = false
2025-05-26T21:45:42.656Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-26T21:45:43.220Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":true,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-26T21:45:41.595142Z"}}
2025-05-26T21:45:43.221Z: Extracted AC on state: true, target temperature: 20, target mode: cool
2025-05-26T21:45:43.537Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":true},"success":true}
2025-05-26T21:45:43.538Z: Extracted light state: true
2025-05-26T21:45:43.539Z: Creating a combined row with motion=false, temp=24.1, humidity=51.7, light=true, ac_on=true, target_temp=20, target_mode=cool
2025-05-26T21:45:43.539Z: logSensorData called with 7 sensors
2025-05-26T21:45:43.539Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-26T21:45:43.539Z: Setting spaceId column 8 to 41413915
2025-05-26T21:45:43.539Z: Setting column 3 (living room motion) to false
2025-05-26T21:45:43.539Z: Setting column 1 (living room temperature) to 24.1
2025-05-26T21:45:43.539Z: Setting column 2 (living room humidity) to 51.7
2025-05-26T21:45:43.539Z: Setting column 4 (light_state) to true
2025-05-26T21:45:43.539Z: Setting column 5 (ac_state) to true
2025-05-26T21:45:43.539Z: Setting column 6 (targetTemperature) to 20
2025-05-26T21:45:43.539Z: Setting column 7 (targetAcMode) to cool
2025-05-26T21:45:43.539Z: Preparing row: 2025-05-26 21:45:43,24.1,51.7,false,true,true,20,cool,41413915
2025-05-26T21:45:43.539Z: Successfully wrote to log file using writeFileSync
2025-05-26T21:45:43.539Z: Successfully logged combined sensor data in one row with target temperature: 20 and target mode: cool
2025-05-26T21:45:43.543Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-26T21:45:43.543Z: Polling interval active: true
2025-05-26T21:47:21.447Z: Polling for sensor data... (poll #3)
2025-05-26T21:47:21.448Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T21:47:21.448Z: Received sensor data: {"temperature":24.1,"humidity":51.5}
2025-05-26T21:47:21.448Z: Formatted events: [{"name":"living room temperature","value":24.1,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":51.5,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T21:47:21.448Z: Successfully updated event: living room temperature = 24.1
2025-05-26T21:47:21.448Z: Successfully updated event: living room humidity = 51.5
2025-05-26T21:47:21.994Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":24.1,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":51.5,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-26T21:47:21.995Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T21:47:21.995Z: Received motion sensor data: {"motionDetected":false}
2025-05-26T21:47:21.995Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T21:47:21.995Z: Successfully updated motion event: living room motion = false
2025-05-26T21:47:22.143Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-26T21:47:22.702Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":true,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-26T21:47:21.081304Z"}}
2025-05-26T21:47:22.702Z: Extracted AC on state: true, target temperature: 20, target mode: cool
2025-05-26T21:47:23.019Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":false},"success":true}
2025-05-26T21:47:23.019Z: Extracted light state: false
2025-05-26T21:47:23.020Z: Creating a combined row with motion=false, temp=24.1, humidity=51.5, light=false, ac_on=true, target_temp=20, target_mode=cool
2025-05-26T21:47:23.020Z: logSensorData called with 7 sensors
2025-05-26T21:47:23.020Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-26T21:47:23.020Z: Setting spaceId column 8 to 41413915
2025-05-26T21:47:23.020Z: Setting column 3 (living room motion) to false
2025-05-26T21:47:23.020Z: Setting column 1 (living room temperature) to 24.1
2025-05-26T21:47:23.020Z: Setting column 2 (living room humidity) to 51.5
2025-05-26T21:47:23.020Z: Setting column 4 (light_state) to false
2025-05-26T21:47:23.020Z: Setting column 5 (ac_state) to true
2025-05-26T21:47:23.020Z: Setting column 6 (targetTemperature) to 20
2025-05-26T21:47:23.020Z: Setting column 7 (targetAcMode) to cool
2025-05-26T21:47:23.020Z: Preparing row: 2025-05-26 21:47:23,24.1,51.5,false,false,true,20,cool,41413915
2025-05-26T21:47:23.020Z: Successfully wrote to log file using writeFileSync
2025-05-26T21:47:23.020Z: Successfully logged combined sensor data in one row with target temperature: 20 and target mode: cool
2025-05-26T21:47:23.023Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-26T21:47:23.024Z: Polling interval active: true
2025-05-26T21:50:08.852Z: Initializing sensor logging service
2025-05-26T21:50:08.852Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-26T21:50:08.853Z: Added light_state column to event names
2025-05-26T21:50:08.853Z: Added ac_state column to event names
2025-05-26T21:50:08.853Z: Added ac_state column to event names
2025-05-26T21:50:08.854Z: Added targetAcMode column to event names
2025-05-26T21:50:08.854Z: Using existing log file
2025-05-26T21:50:08.856Z: Initializing sensor logging service
2025-05-26T21:50:08.856Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-26T21:50:08.856Z: Added light_state column to event names
2025-05-26T21:50:08.857Z: Added ac_state column to event names
2025-05-26T21:50:08.857Z: Added ac_state column to event names
2025-05-26T21:50:08.857Z: Added targetAcMode column to event names
2025-05-26T21:50:08.858Z: Using existing log file
2025-05-26T21:50:08.859Z: Logging enabled
2025-05-26T21:50:08.860Z: No polling was active to stop
2025-05-26T21:50:08.860Z: Closing existing log stream before creating new one
2025-05-26T21:50:08.861Z: Logging enabled
2025-05-26T21:50:08.861Z: No polling was active to stop
2025-05-26T21:50:08.862Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-05-26T21:50:08.862Z: Polling interval set with ID: 1414
2025-05-26T21:50:08.863Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T21:50:08.863Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T21:50:08.867Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-05-26T21:50:08.867Z: Clearing existing polling interval
2025-05-26T21:50:08.867Z: Polling interval set with ID: 1428
2025-05-26T21:50:08.868Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T21:50:08.869Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T21:50:08.863Z: Received motion sensor data: {"motionDetected":false}
2025-05-26T21:50:08.863Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T21:50:08.863Z: Successfully updated motion event: living room motion = false
2025-05-26T21:50:08.869Z: Received motion sensor data: {"motionDetected":false}
2025-05-26T21:50:08.869Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T21:50:08.869Z: Successfully updated motion event: living room motion = false
2025-05-26T21:50:08.863Z: Received sensor data: {"temperature":24.1,"humidity":51.4}
2025-05-26T21:50:08.863Z: Formatted events: [{"name":"living room temperature","value":24.1,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":51.4,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T21:50:08.863Z: Successfully updated event: living room temperature = 24.1
2025-05-26T21:50:08.863Z: Successfully updated event: living room humidity = 51.4
2025-05-26T21:50:08.868Z: Received sensor data: {"temperature":24.1,"humidity":51.4}
2025-05-26T21:50:08.868Z: Formatted events: [{"name":"living room temperature","value":24.1,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":51.4,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T21:50:08.868Z: Successfully updated event: living room temperature = 24.1
2025-05-26T21:50:08.868Z: Successfully updated event: living room humidity = 51.4
2025-05-26T21:50:09.663Z: Initial poll - AC on: true, target temp: 20, target mode: cool
2025-05-26T21:50:09.663Z: Creating a combined row with motion=false, temp=24.1, humidity=51.4, light=false, ac_on=true, target_temp=20, target_mode=cool
2025-05-26T21:50:09.664Z: logSensorData called with 7 sensors
2025-05-26T21:50:09.664Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-26T21:50:09.664Z: Setting spaceId column 8 to 41413915
2025-05-26T21:50:09.664Z: Setting column 3 (living room motion) to false
2025-05-26T21:50:09.664Z: Setting column 1 (living room temperature) to 24.1
2025-05-26T21:50:09.664Z: Setting column 2 (living room humidity) to 51.4
2025-05-26T21:50:09.664Z: Setting column 4 (light_state) to false
2025-05-26T21:50:09.664Z: Setting column 5 (ac_state) to true
2025-05-26T21:50:09.664Z: Setting column 6 (targetTemperature) to 20
2025-05-26T21:50:09.664Z: Setting column 7 (targetAcMode) to cool
2025-05-26T21:50:09.664Z: Preparing row: 2025-05-26 21:50:09,24.1,51.4,false,false,true,20,cool,41413915
2025-05-26T21:50:09.664Z: Successfully wrote to log file using writeFileSync
2025-05-26T21:50:09.663Z: Successfully logged combined sensor data in one row with target temperature: 20 and target mode: cool
2025-05-26T21:50:09.667Z: Initial combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-26T21:50:09.675Z: Initial poll - AC on: true, target temp: 20, target mode: cool
2025-05-26T21:50:09.675Z: Creating a combined row with motion=false, temp=24.1, humidity=51.4, light=false, ac_on=true, target_temp=20, target_mode=cool
2025-05-26T21:50:09.676Z: logSensorData called with 7 sensors
2025-05-26T21:50:09.676Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-26T21:50:09.676Z: Setting spaceId column 8 to 41413915
2025-05-26T21:50:09.676Z: Setting column 3 (living room motion) to false
2025-05-26T21:50:09.676Z: Setting column 1 (living room temperature) to 24.1
2025-05-26T21:50:09.676Z: Setting column 2 (living room humidity) to 51.4
2025-05-26T21:50:09.676Z: Setting column 4 (light_state) to false
2025-05-26T21:50:09.676Z: Setting column 5 (ac_state) to true
2025-05-26T21:50:09.676Z: Setting column 6 (targetTemperature) to 20
2025-05-26T21:50:09.676Z: Setting column 7 (targetAcMode) to cool
2025-05-26T21:50:09.676Z: Preparing row: 2025-05-26 21:50:09,24.1,51.4,false,false,true,20,cool,41413915
2025-05-26T21:50:09.676Z: Successfully wrote to log file using writeFileSync
2025-05-26T21:50:09.675Z: Successfully logged combined sensor data in one row with target temperature: 20 and target mode: cool
2025-05-26T21:50:09.679Z: Initial combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-26T21:51:48.872Z: Polling for sensor data... (poll #1)
2025-05-26T21:51:48.872Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T21:51:48.872Z: Received sensor data: {"temperature":24.1,"humidity":51.5}
2025-05-26T21:51:48.872Z: Formatted events: [{"name":"living room temperature","value":24.1,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":51.5,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T21:51:48.872Z: Successfully updated event: living room temperature = 24.1
2025-05-26T21:51:48.872Z: Successfully updated event: living room humidity = 51.5
2025-05-26T21:51:49.524Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":24.1,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":51.5,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-26T21:51:49.524Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T21:51:49.524Z: Received motion sensor data: {"motionDetected":false}
2025-05-26T21:51:49.524Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T21:51:49.524Z: Successfully updated motion event: living room motion = false
2025-05-26T21:51:49.687Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-26T21:51:50.316Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":true,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-26T21:51:48.683579Z"}}
2025-05-26T21:51:50.316Z: Extracted AC on state: true, target temperature: 20, target mode: cool
2025-05-26T21:51:50.651Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":true},"success":true}
2025-05-26T21:51:50.652Z: Extracted light state: true
2025-05-26T21:51:50.652Z: Creating a combined row with motion=false, temp=24.1, humidity=51.5, light=true, ac_on=true, target_temp=20, target_mode=cool
2025-05-26T21:51:50.652Z: logSensorData called with 7 sensors
2025-05-26T21:51:50.652Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-26T21:51:50.652Z: Setting spaceId column 8 to 41413915
2025-05-26T21:51:50.652Z: Setting column 3 (living room motion) to false
2025-05-26T21:51:50.652Z: Setting column 1 (living room temperature) to 24.1
2025-05-26T21:51:50.652Z: Setting column 2 (living room humidity) to 51.5
2025-05-26T21:51:50.652Z: Setting column 4 (light_state) to true
2025-05-26T21:51:50.652Z: Setting column 5 (ac_state) to true
2025-05-26T21:51:50.652Z: Setting column 6 (targetTemperature) to 20
2025-05-26T21:51:50.652Z: Setting column 7 (targetAcMode) to cool
2025-05-26T21:51:50.652Z: Preparing row: 2025-05-26 21:51:50,24.1,51.5,false,true,true,20,cool,41413915
2025-05-26T21:51:50.652Z: Successfully wrote to log file using writeFileSync
2025-05-26T21:51:50.652Z: Successfully logged combined sensor data in one row with target temperature: 20 and target mode: cool
2025-05-26T21:51:50.655Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-26T21:51:50.656Z: Polling interval active: true
2025-05-26T21:53:28.886Z: Polling for sensor data... (poll #2)
2025-05-26T21:53:28.887Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T21:53:28.887Z: Received sensor data: {"temperature":24.1,"humidity":51.5}
2025-05-26T21:53:28.887Z: Formatted events: [{"name":"living room temperature","value":24.1,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":51.5,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T21:53:28.887Z: Successfully updated event: living room temperature = 24.1
2025-05-26T21:53:28.887Z: Successfully updated event: living room humidity = 51.5
2025-05-26T21:53:29.466Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":24.1,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":51.5,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-26T21:53:29.466Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T21:53:29.466Z: Received motion sensor data: {"motionDetected":true}
2025-05-26T21:53:29.466Z: Formatted motion sensor events: [{"name":"living room motion","value":true,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T21:53:29.466Z: Successfully updated motion event: living room motion = true
2025-05-26T21:53:29.638Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":true,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-26T21:53:30.222Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":true,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-26T21:53:28.590301Z"}}
2025-05-26T21:53:30.223Z: Extracted AC on state: true, target temperature: 20, target mode: cool
2025-05-26T21:53:30.668Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":true},"success":true}
2025-05-26T21:53:30.668Z: Extracted light state: true
2025-05-26T21:53:30.669Z: Creating a combined row with motion=true, temp=24.1, humidity=51.5, light=true, ac_on=true, target_temp=20, target_mode=cool
2025-05-26T21:53:30.669Z: logSensorData called with 7 sensors
2025-05-26T21:53:30.669Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-26T21:53:30.669Z: Setting spaceId column 8 to 41413915
2025-05-26T21:53:30.669Z: Setting column 3 (living room motion) to true
2025-05-26T21:53:30.669Z: Setting column 1 (living room temperature) to 24.1
2025-05-26T21:53:30.669Z: Setting column 2 (living room humidity) to 51.5
2025-05-26T21:53:30.669Z: Setting column 4 (light_state) to true
2025-05-26T21:53:30.669Z: Setting column 5 (ac_state) to true
2025-05-26T21:53:30.669Z: Setting column 6 (targetTemperature) to 20
2025-05-26T21:53:30.669Z: Setting column 7 (targetAcMode) to cool
2025-05-26T21:53:30.669Z: Preparing row: 2025-05-26 21:53:30,24.1,51.5,true,true,true,20,cool,41413915
2025-05-26T21:53:30.669Z: Successfully wrote to log file using writeFileSync
2025-05-26T21:53:30.669Z: Successfully logged combined sensor data in one row with target temperature: 20 and target mode: cool
2025-05-26T21:53:30.673Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-26T21:53:30.673Z: Polling interval active: true
2025-05-26T21:55:08.892Z: Polling for sensor data... (poll #3)
2025-05-26T21:55:08.893Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T21:55:08.893Z: Received sensor data: {"temperature":24.1,"humidity":51.7}
2025-05-26T21:55:08.893Z: Formatted events: [{"name":"living room temperature","value":24.1,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":51.7,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T21:55:08.893Z: Successfully updated event: living room temperature = 24.1
2025-05-26T21:55:08.893Z: Successfully updated event: living room humidity = 51.7
2025-05-26T21:55:09.509Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":24.1,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":51.7,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-26T21:55:09.510Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T21:55:09.510Z: Received motion sensor data: {"motionDetected":false}
2025-05-26T21:55:09.510Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T21:55:09.510Z: Successfully updated motion event: living room motion = false
2025-05-26T21:55:09.666Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-26T21:55:10.258Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":true,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-26T21:55:08.635401Z"}}
2025-05-26T21:55:10.258Z: Extracted AC on state: true, target temperature: 20, target mode: cool
2025-05-26T21:55:10.586Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":true},"success":true}
2025-05-26T21:55:10.587Z: Extracted light state: true
2025-05-26T21:55:10.587Z: Creating a combined row with motion=false, temp=24.1, humidity=51.7, light=true, ac_on=true, target_temp=20, target_mode=cool
2025-05-26T21:55:10.587Z: logSensorData called with 7 sensors
2025-05-26T21:55:10.587Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-26T21:55:10.587Z: Setting spaceId column 8 to 41413915
2025-05-26T21:55:10.587Z: Setting column 3 (living room motion) to false
2025-05-26T21:55:10.587Z: Setting column 1 (living room temperature) to 24.1
2025-05-26T21:55:10.587Z: Setting column 2 (living room humidity) to 51.7
2025-05-26T21:55:10.587Z: Setting column 4 (light_state) to true
2025-05-26T21:55:10.587Z: Setting column 5 (ac_state) to true
2025-05-26T21:55:10.587Z: Setting column 6 (targetTemperature) to 20
2025-05-26T21:55:10.587Z: Setting column 7 (targetAcMode) to cool
2025-05-26T21:55:10.587Z: Preparing row: 2025-05-26 21:55:10,24.1,51.7,false,true,true,20,cool,41413915
2025-05-26T21:55:10.587Z: Successfully wrote to log file using writeFileSync
2025-05-26T21:55:10.587Z: Successfully logged combined sensor data in one row with target temperature: 20 and target mode: cool
2025-05-26T21:55:10.590Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-26T21:55:10.590Z: Polling interval active: true
2025-05-26T21:56:48.902Z: Polling for sensor data... (poll #4)
2025-05-26T21:56:48.903Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T21:56:48.903Z: Received sensor data: {"temperature":24.1,"humidity":51.7}
2025-05-26T21:56:48.903Z: Formatted events: [{"name":"living room temperature","value":24.1,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":51.7,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T21:56:48.903Z: Successfully updated event: living room temperature = 24.1
2025-05-26T21:56:48.903Z: Successfully updated event: living room humidity = 51.7
2025-05-26T21:56:49.564Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":24.1,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":51.7,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-26T21:56:49.565Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T21:56:49.565Z: Received motion sensor data: {"motionDetected":false}
2025-05-26T21:56:49.565Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T21:56:49.565Z: Successfully updated motion event: living room motion = false
2025-05-26T21:56:49.716Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-26T21:56:50.435Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":true,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-26T21:56:48.815129Z"}}
2025-05-26T21:56:50.435Z: Extracted AC on state: true, target temperature: 20, target mode: cool
2025-05-26T21:56:50.766Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":true},"success":true}
2025-05-26T21:56:50.767Z: Extracted light state: true
2025-05-26T21:56:50.767Z: Creating a combined row with motion=false, temp=24.1, humidity=51.7, light=true, ac_on=true, target_temp=20, target_mode=cool
2025-05-26T21:56:50.768Z: logSensorData called with 7 sensors
2025-05-26T21:56:50.768Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-26T21:56:50.768Z: Setting spaceId column 8 to 41413915
2025-05-26T21:56:50.768Z: Setting column 3 (living room motion) to false
2025-05-26T21:56:50.768Z: Setting column 1 (living room temperature) to 24.1
2025-05-26T21:56:50.768Z: Setting column 2 (living room humidity) to 51.7
2025-05-26T21:56:50.768Z: Setting column 4 (light_state) to true
2025-05-26T21:56:50.768Z: Setting column 5 (ac_state) to true
2025-05-26T21:56:50.768Z: Setting column 6 (targetTemperature) to 20
2025-05-26T21:56:50.768Z: Setting column 7 (targetAcMode) to cool
2025-05-26T21:56:50.768Z: Preparing row: 2025-05-26 21:56:50,24.1,51.7,false,true,true,20,cool,41413915
2025-05-26T21:56:50.768Z: Successfully wrote to log file using writeFileSync
2025-05-26T21:56:50.767Z: Successfully logged combined sensor data in one row with target temperature: 20 and target mode: cool
2025-05-26T21:56:50.771Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-26T21:56:50.771Z: Polling interval active: true
2025-05-26T21:58:28.902Z: Polling for sensor data... (poll #5)
2025-05-26T21:58:28.903Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T21:58:28.903Z: Received sensor data: {"temperature":24.1,"humidity":51.8}
2025-05-26T21:58:28.903Z: Formatted events: [{"name":"living room temperature","value":24.1,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":51.8,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T21:58:28.903Z: Successfully updated event: living room temperature = 24.1
2025-05-26T21:58:28.903Z: Successfully updated event: living room humidity = 51.8
2025-05-26T21:58:29.456Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":24.1,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":51.8,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-26T21:58:29.456Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T21:58:29.456Z: Received motion sensor data: {"motionDetected":false}
2025-05-26T21:58:29.456Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T21:58:29.456Z: Successfully updated motion event: living room motion = false
2025-05-26T21:58:29.612Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-26T21:58:30.156Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":true,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-26T21:58:28.541171Z"}}
2025-05-26T21:58:30.157Z: Extracted AC on state: true, target temperature: 20, target mode: cool
2025-05-26T21:58:30.477Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":true},"success":true}
2025-05-26T21:58:30.478Z: Extracted light state: true
2025-05-26T21:58:30.479Z: Creating a combined row with motion=false, temp=24.1, humidity=51.8, light=true, ac_on=true, target_temp=20, target_mode=cool
2025-05-26T21:58:30.479Z: logSensorData called with 7 sensors
2025-05-26T21:58:30.479Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-26T21:58:30.479Z: Setting spaceId column 8 to 41413915
2025-05-26T21:58:30.479Z: Setting column 3 (living room motion) to false
2025-05-26T21:58:30.479Z: Setting column 1 (living room temperature) to 24.1
2025-05-26T21:58:30.479Z: Setting column 2 (living room humidity) to 51.8
2025-05-26T21:58:30.479Z: Setting column 4 (light_state) to true
2025-05-26T21:58:30.479Z: Setting column 5 (ac_state) to true
2025-05-26T21:58:30.479Z: Setting column 6 (targetTemperature) to 20
2025-05-26T21:58:30.479Z: Setting column 7 (targetAcMode) to cool
2025-05-26T21:58:30.479Z: Preparing row: 2025-05-26 21:58:30,24.1,51.8,false,true,true,20,cool,41413915
2025-05-26T21:58:30.479Z: Successfully wrote to log file using writeFileSync
2025-05-26T21:58:30.479Z: Successfully logged combined sensor data in one row with target temperature: 20 and target mode: cool
2025-05-26T21:58:30.483Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-26T21:58:30.483Z: Polling interval active: true
2025-05-26T22:00:08.910Z: Polling for sensor data... (poll #6)
2025-05-26T22:00:08.911Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T22:00:08.911Z: Received sensor data: {"temperature":24.1,"humidity":51.8}
2025-05-26T22:00:08.911Z: Formatted events: [{"name":"living room temperature","value":24.1,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":51.8,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T22:00:08.911Z: Successfully updated event: living room temperature = 24.1
2025-05-26T22:00:08.911Z: Successfully updated event: living room humidity = 51.8
2025-05-26T22:00:09.445Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":24.1,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":51.8,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-26T22:00:09.445Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T22:00:09.445Z: Received motion sensor data: {"motionDetected":false}
2025-05-26T22:00:09.445Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T22:00:09.445Z: Successfully updated motion event: living room motion = false
2025-05-26T22:00:09.593Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-26T22:00:10.124Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":true,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-26T22:00:08.521243Z"}}
2025-05-26T22:00:10.124Z: Extracted AC on state: true, target temperature: 20, target mode: cool
2025-05-26T22:00:10.505Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":true},"success":true}
2025-05-26T22:00:10.506Z: Extracted light state: true
2025-05-26T22:00:10.506Z: Creating a combined row with motion=false, temp=24.1, humidity=51.8, light=true, ac_on=true, target_temp=20, target_mode=cool
2025-05-26T22:00:10.506Z: logSensorData called with 7 sensors
2025-05-26T22:00:10.506Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-26T22:00:10.506Z: Setting spaceId column 8 to 41413915
2025-05-26T22:00:10.506Z: Setting column 3 (living room motion) to false
2025-05-26T22:00:10.506Z: Setting column 1 (living room temperature) to 24.1
2025-05-26T22:00:10.506Z: Setting column 2 (living room humidity) to 51.8
2025-05-26T22:00:10.506Z: Setting column 4 (light_state) to true
2025-05-26T22:00:10.506Z: Setting column 5 (ac_state) to true
2025-05-26T22:00:10.506Z: Setting column 6 (targetTemperature) to 20
2025-05-26T22:00:10.506Z: Setting column 7 (targetAcMode) to cool
2025-05-26T22:00:10.506Z: Preparing row: 2025-05-26 22:00:10,24.1,51.8,false,true,true,20,cool,41413915
2025-05-26T22:00:10.506Z: Successfully wrote to log file using writeFileSync
2025-05-26T22:00:10.506Z: Successfully logged combined sensor data in one row with target temperature: 20 and target mode: cool
2025-05-26T22:00:10.511Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-26T22:00:10.512Z: Polling interval active: true
2025-05-26T22:01:48.911Z: Polling for sensor data... (poll #7)
2025-05-26T22:01:48.912Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T22:01:48.912Z: Received sensor data: {"temperature":24.1,"humidity":51.5}
2025-05-26T22:01:48.912Z: Formatted events: [{"name":"living room temperature","value":24.1,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":51.5,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T22:01:48.912Z: Successfully updated event: living room temperature = 24.1
2025-05-26T22:01:48.912Z: Successfully updated event: living room humidity = 51.5
2025-05-26T22:01:49.525Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":24.1,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":51.5,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-26T22:01:49.525Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T22:01:49.525Z: Received motion sensor data: {"motionDetected":false}
2025-05-26T22:01:49.525Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T22:01:49.525Z: Successfully updated motion event: living room motion = false
2025-05-26T22:01:49.671Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-26T22:01:50.267Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":true,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-26T22:01:48.661964Z"}}
2025-05-26T22:01:50.267Z: Extracted AC on state: true, target temperature: 20, target mode: cool
2025-05-26T22:01:50.577Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":true},"success":true}
2025-05-26T22:01:50.578Z: Extracted light state: true
2025-05-26T22:01:50.578Z: Creating a combined row with motion=false, temp=24.1, humidity=51.5, light=true, ac_on=true, target_temp=20, target_mode=cool
2025-05-26T22:01:50.579Z: logSensorData called with 7 sensors
2025-05-26T22:01:50.579Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-26T22:01:50.579Z: Setting spaceId column 8 to 41413915
2025-05-26T22:01:50.579Z: Setting column 3 (living room motion) to false
2025-05-26T22:01:50.579Z: Setting column 1 (living room temperature) to 24.1
2025-05-26T22:01:50.579Z: Setting column 2 (living room humidity) to 51.5
2025-05-26T22:01:50.579Z: Setting column 4 (light_state) to true
2025-05-26T22:01:50.579Z: Setting column 5 (ac_state) to true
2025-05-26T22:01:50.579Z: Setting column 6 (targetTemperature) to 20
2025-05-26T22:01:50.579Z: Setting column 7 (targetAcMode) to cool
2025-05-26T22:01:50.579Z: Preparing row: 2025-05-26 22:01:50,24.1,51.5,false,true,true,20,cool,41413915
2025-05-26T22:01:50.579Z: Successfully wrote to log file using writeFileSync
2025-05-26T22:01:50.578Z: Successfully logged combined sensor data in one row with target temperature: 20 and target mode: cool
2025-05-26T22:01:50.581Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-26T22:01:50.582Z: Polling interval active: true
2025-05-26T22:03:28.914Z: Polling for sensor data... (poll #8)
2025-05-26T22:03:28.915Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T22:03:28.915Z: Received sensor data: {"temperature":24.1,"humidity":51.5}
2025-05-26T22:03:28.915Z: Formatted events: [{"name":"living room temperature","value":24.1,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":51.5,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T22:03:28.915Z: Successfully updated event: living room temperature = 24.1
2025-05-26T22:03:28.915Z: Successfully updated event: living room humidity = 51.5
2025-05-26T22:03:29.740Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":24.1,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":51.5,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-26T22:03:29.740Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T22:03:29.740Z: Received motion sensor data: {"motionDetected":false}
2025-05-26T22:03:29.740Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T22:03:29.740Z: Successfully updated motion event: living room motion = false
2025-05-26T22:03:29.913Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-26T22:03:30.479Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":true,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-26T22:03:28.882179Z"}}
2025-05-26T22:03:30.480Z: Extracted AC on state: true, target temperature: 20, target mode: cool
2025-05-26T22:03:30.829Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":true},"success":true}
2025-05-26T22:03:30.830Z: Extracted light state: true
2025-05-26T22:03:30.830Z: Creating a combined row with motion=false, temp=24.1, humidity=51.5, light=true, ac_on=true, target_temp=20, target_mode=cool
2025-05-26T22:03:30.830Z: logSensorData called with 7 sensors
2025-05-26T22:03:30.830Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-26T22:03:30.830Z: Setting spaceId column 8 to 41413915
2025-05-26T22:03:30.830Z: Setting column 3 (living room motion) to false
2025-05-26T22:03:30.830Z: Setting column 1 (living room temperature) to 24.1
2025-05-26T22:03:30.830Z: Setting column 2 (living room humidity) to 51.5
2025-05-26T22:03:30.830Z: Setting column 4 (light_state) to true
2025-05-26T22:03:30.830Z: Setting column 5 (ac_state) to true
2025-05-26T22:03:30.830Z: Setting column 6 (targetTemperature) to 20
2025-05-26T22:03:30.830Z: Setting column 7 (targetAcMode) to cool
2025-05-26T22:03:30.830Z: Preparing row: 2025-05-26 22:03:30,24.1,51.5,false,true,true,20,cool,41413915
2025-05-26T22:03:30.830Z: Successfully wrote to log file using writeFileSync
2025-05-26T22:03:30.830Z: Successfully logged combined sensor data in one row with target temperature: 20 and target mode: cool
2025-05-26T22:03:30.834Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-26T22:03:30.835Z: Polling interval active: true
2025-05-26T22:04:37.373Z: Initializing sensor logging service
2025-05-26T22:04:37.373Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-26T22:04:37.374Z: Added light_state column to event names
2025-05-26T22:04:37.375Z: Added ac_state column to event names
2025-05-26T22:04:37.375Z: Added ac_state column to event names
2025-05-26T22:04:37.375Z: Added targetAcMode column to event names
2025-05-26T22:04:37.376Z: Using existing log file
2025-05-26T22:04:37.379Z: Logging enabled
2025-05-26T22:04:37.380Z: No polling was active to stop
2025-05-26T22:04:37.381Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-05-26T22:04:37.381Z: Polling interval set with ID: 1748
2025-05-26T22:04:37.383Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T22:04:37.384Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T22:04:37.443Z: Initializing sensor logging service
2025-05-26T22:04:37.443Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-26T22:04:37.444Z: Added light_state column to event names
2025-05-26T22:04:37.445Z: Added ac_state column to event names
2025-05-26T22:04:37.445Z: Added ac_state column to event names
2025-05-26T22:04:37.445Z: Added targetAcMode column to event names
2025-05-26T22:04:37.446Z: Using existing log file
2025-05-26T22:04:37.449Z: Closing existing log stream before creating new one
2025-05-26T22:04:37.449Z: Logging enabled
2025-05-26T22:04:37.450Z: Stopping sensor polling interval: 1748
2025-05-26T22:04:37.450Z: Closing logging service
2025-05-26T22:04:37.451Z: Closing sensor logging service
2025-05-26T22:04:37.451Z: Closing log stream
2025-05-26T22:04:37.451Z: Logging stopped at 2025-05-26T22:04:37.451Z
2025-05-26T22:04:37.454Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-05-26T22:04:37.454Z: Polling interval set with ID: 1856
2025-05-26T22:04:37.454Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T22:04:37.455Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T22:04:37.384Z: Received motion sensor data: {"motionDetected":false}
2025-05-26T22:04:37.384Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T22:04:37.384Z: Successfully updated motion event: living room motion = false
2025-05-26T22:04:37.455Z: Received motion sensor data: {"motionDetected":false}
2025-05-26T22:04:37.455Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T22:04:37.455Z: Successfully updated motion event: living room motion = false
2025-05-26T22:04:37.454Z: Received sensor data: {"temperature":24.1,"humidity":51.5}
2025-05-26T22:04:37.454Z: Formatted events: [{"name":"living room temperature","value":24.1,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":51.5,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T22:04:37.454Z: Successfully updated event: living room temperature = 24.1
2025-05-26T22:04:37.454Z: Successfully updated event: living room humidity = 51.5
2025-05-26T22:04:37.383Z: Received sensor data: {"temperature":24.1,"humidity":51.5}
2025-05-26T22:04:37.383Z: Formatted events: [{"name":"living room temperature","value":24.1,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":51.5,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T22:04:37.383Z: Successfully updated event: living room temperature = 24.1
2025-05-26T22:04:37.383Z: Successfully updated event: living room humidity = 51.5
2025-05-26T22:04:38.499Z: Initial poll - AC on: true, target temp: 20, target mode: cool
2025-05-26T22:04:38.500Z: Creating a combined row with motion=false, temp=24.1, humidity=51.5, light=true, ac_on=true, target_temp=20, target_mode=cool
2025-05-26T22:04:38.500Z: logSensorData called with 7 sensors
2025-05-26T22:04:38.500Z: WARNING - Logging is disabled but logSensorData was called
2025-05-26T22:04:38.500Z: Attempting to re-initialize logging with existing events
2025-05-26T22:04:38.501Z: Initializing sensor logging service
2025-05-26T22:04:38.501Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-26T22:04:38.502Z: Using existing log file
2025-05-26T22:04:38.500Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-26T22:04:38.500Z: Setting spaceId column 8 to 41413915
2025-05-26T22:04:38.500Z: Setting column 3 (living room motion) to false
2025-05-26T22:04:38.500Z: Setting column 1 (living room temperature) to 24.1
2025-05-26T22:04:38.500Z: Setting column 2 (living room humidity) to 51.5
2025-05-26T22:04:38.500Z: Setting column 4 (light_state) to true
2025-05-26T22:04:38.500Z: Setting column 5 (ac_state) to true
2025-05-26T22:04:38.500Z: Setting column 6 (targetTemperature) to 20
2025-05-26T22:04:38.500Z: Setting column 7 (targetAcMode) to cool
2025-05-26T22:04:38.500Z: Preparing row: 2025-05-26 22:04:38,24.1,51.5,false,true,true,20,cool,41413915
2025-05-26T22:04:38.500Z: Successfully wrote to log file using writeFileSync
2025-05-26T22:04:38.500Z: Successfully logged combined sensor data in one row with target temperature: 20 and target mode: cool
2025-05-26T22:04:38.505Z: Initial combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-26T22:04:38.506Z: Initial poll - AC on: true, target temp: 20, target mode: cool
2025-05-26T22:04:38.507Z: Creating a combined row with motion=false, temp=24.1, humidity=51.5, light=true, ac_on=true, target_temp=20, target_mode=cool
2025-05-26T22:04:38.507Z: logSensorData called with 7 sensors
2025-05-26T22:04:38.507Z: WARNING - Logging is disabled but logSensorData was called
2025-05-26T22:04:38.507Z: Attempting to re-initialize logging with existing events
2025-05-26T22:04:38.508Z: Initializing sensor logging service
2025-05-26T22:04:38.508Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-26T22:04:38.508Z: Using existing log file
2025-05-26T22:04:38.507Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-26T22:04:38.507Z: Setting spaceId column 8 to 41413915
2025-05-26T22:04:38.507Z: Setting column 3 (living room motion) to false
2025-05-26T22:04:38.507Z: Setting column 1 (living room temperature) to 24.1
2025-05-26T22:04:38.507Z: Setting column 2 (living room humidity) to 51.5
2025-05-26T22:04:38.507Z: Setting column 4 (light_state) to true
2025-05-26T22:04:38.507Z: Setting column 5 (ac_state) to true
2025-05-26T22:04:38.507Z: Setting column 6 (targetTemperature) to 20
2025-05-26T22:04:38.507Z: Setting column 7 (targetAcMode) to cool
2025-05-26T22:04:38.507Z: Preparing row: 2025-05-26 22:04:38,24.1,51.5,false,true,true,20,cool,41413915
2025-05-26T22:04:38.507Z: Successfully wrote to log file using writeFileSync
2025-05-26T22:04:38.507Z: Successfully logged combined sensor data in one row with target temperature: 20 and target mode: cool
2025-05-26T22:04:38.511Z: Initial combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-26T22:04:38.519Z: Logging enabled
2025-05-26T22:04:38.500Z: Re-initialization result: {"success":true,"message":"Sensor logging initialized to C:\\Users\\amin\\Desktop\\smart-space\\SmartSchool-Server\\logs\\sensor_data.csv","columns":[["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]}
2025-05-26T22:04:38.519Z: Closing existing log stream before creating new one
2025-05-26T22:04:38.519Z: Logging enabled
2025-05-26T22:04:38.507Z: Re-initialization result: {"success":true,"message":"Sensor logging initialized to C:\\Users\\amin\\Desktop\\smart-space\\SmartSchool-Server\\logs\\sensor_data.csv","columns":[["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]}
2025-05-26T22:06:17.464Z: Polling for sensor data... (poll #1)
2025-05-26T22:06:17.465Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T22:06:17.465Z: Received sensor data: {"temperature":24.2,"humidity":51}
2025-05-26T22:06:17.465Z: Formatted events: [{"name":"living room temperature","value":24.2,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":51,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T22:06:17.465Z: Successfully updated event: living room temperature = 24.2
2025-05-26T22:06:17.465Z: Successfully updated event: living room humidity = 51
2025-05-26T22:06:18.101Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":24.2,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":51,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-26T22:06:18.101Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T22:06:18.101Z: Received motion sensor data: {"motionDetected":false}
2025-05-26T22:06:18.101Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T22:06:18.101Z: Successfully updated motion event: living room motion = false
2025-05-26T22:06:18.273Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-26T22:06:18.990Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":true,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-26T22:06:17.373550Z"}}
2025-05-26T22:06:18.991Z: Extracted AC on state: true, target temperature: 20, target mode: cool
2025-05-26T22:06:19.345Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":true},"success":true}
2025-05-26T22:06:19.346Z: Extracted light state: true
2025-05-26T22:06:19.346Z: Creating a combined row with motion=false, temp=24.2, humidity=51, light=true, ac_on=true, target_temp=20, target_mode=cool
2025-05-26T22:06:19.346Z: logSensorData called with 7 sensors
2025-05-26T22:06:19.346Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-26T22:06:19.346Z: Setting spaceId column 8 to 41413915
2025-05-26T22:06:19.346Z: Setting column 3 (living room motion) to false
2025-05-26T22:06:19.346Z: Setting column 1 (living room temperature) to 24.2
2025-05-26T22:06:19.346Z: Setting column 2 (living room humidity) to 51
2025-05-26T22:06:19.346Z: Setting column 4 (light_state) to true
2025-05-26T22:06:19.346Z: Setting column 5 (ac_state) to true
2025-05-26T22:06:19.346Z: Setting column 6 (targetTemperature) to 20
2025-05-26T22:06:19.346Z: Setting column 7 (targetAcMode) to cool
2025-05-26T22:06:19.346Z: Preparing row: 2025-05-26 22:06:19,24.2,51,false,true,true,20,cool,41413915
2025-05-26T22:06:19.346Z: Successfully wrote to log file using writeFileSync
2025-05-26T22:06:19.346Z: Successfully logged combined sensor data in one row with target temperature: 20 and target mode: cool
2025-05-26T22:06:19.349Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-26T22:06:19.349Z: Polling interval active: true
2025-05-26T22:07:57.464Z: Polling for sensor data... (poll #2)
2025-05-26T22:07:57.465Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T22:07:57.465Z: Received sensor data: {"temperature":24.2,"humidity":51}
2025-05-26T22:07:57.465Z: Formatted events: [{"name":"living room temperature","value":24.2,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":51,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T22:07:57.465Z: Successfully updated event: living room temperature = 24.2
2025-05-26T22:07:57.465Z: Successfully updated event: living room humidity = 51
2025-05-26T22:07:58.034Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":24.2,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":51,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-26T22:07:58.034Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T22:07:58.034Z: Received motion sensor data: {"motionDetected":false}
2025-05-26T22:07:58.034Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T22:07:58.034Z: Successfully updated motion event: living room motion = false
2025-05-26T22:07:58.194Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-26T22:07:58.836Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":true,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-26T22:07:57.227848Z"}}
2025-05-26T22:07:58.837Z: Extracted AC on state: true, target temperature: 20, target mode: cool
2025-05-26T22:07:59.297Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":true},"success":true}
2025-05-26T22:07:59.297Z: Extracted light state: true
2025-05-26T22:07:59.298Z: Creating a combined row with motion=false, temp=24.2, humidity=51, light=true, ac_on=true, target_temp=20, target_mode=cool
2025-05-26T22:07:59.298Z: logSensorData called with 7 sensors
2025-05-26T22:07:59.298Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-26T22:07:59.298Z: Setting spaceId column 8 to 41413915
2025-05-26T22:07:59.298Z: Setting column 3 (living room motion) to false
2025-05-26T22:07:59.298Z: Setting column 1 (living room temperature) to 24.2
2025-05-26T22:07:59.298Z: Setting column 2 (living room humidity) to 51
2025-05-26T22:07:59.298Z: Setting column 4 (light_state) to true
2025-05-26T22:07:59.298Z: Setting column 5 (ac_state) to true
2025-05-26T22:07:59.298Z: Setting column 6 (targetTemperature) to 20
2025-05-26T22:07:59.298Z: Setting column 7 (targetAcMode) to cool
2025-05-26T22:07:59.298Z: Preparing row: 2025-05-26 22:07:59,24.2,51,false,true,true,20,cool,41413915
2025-05-26T22:07:59.298Z: Successfully wrote to log file using writeFileSync
2025-05-26T22:07:59.298Z: Successfully logged combined sensor data in one row with target temperature: 20 and target mode: cool
2025-05-26T22:07:59.300Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-26T22:07:59.301Z: Polling interval active: true
2025-05-26T22:09:37.469Z: Polling for sensor data... (poll #3)
2025-05-26T22:09:37.470Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T22:09:37.470Z: Received sensor data: {"temperature":24.2,"humidity":50.8}
2025-05-26T22:09:37.470Z: Formatted events: [{"name":"living room temperature","value":24.2,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":50.8,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T22:09:37.470Z: Successfully updated event: living room temperature = 24.2
2025-05-26T22:09:37.470Z: Successfully updated event: living room humidity = 50.8
2025-05-26T22:09:38.019Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":24.2,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":50.8,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-26T22:09:38.020Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T22:09:38.020Z: Received motion sensor data: {"motionDetected":false}
2025-05-26T22:09:38.020Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T22:09:38.020Z: Successfully updated motion event: living room motion = false
2025-05-26T22:09:38.163Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-26T22:09:38.760Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":true,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-26T22:09:37.170918Z"}}
2025-05-26T22:09:38.761Z: Extracted AC on state: true, target temperature: 20, target mode: cool
2025-05-26T22:09:39.089Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":true},"success":true}
2025-05-26T22:09:39.090Z: Extracted light state: true
2025-05-26T22:09:39.090Z: Creating a combined row with motion=false, temp=24.2, humidity=50.8, light=true, ac_on=true, target_temp=20, target_mode=cool
2025-05-26T22:09:39.090Z: logSensorData called with 7 sensors
2025-05-26T22:09:39.090Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-26T22:09:39.090Z: Setting spaceId column 8 to 41413915
2025-05-26T22:09:39.090Z: Setting column 3 (living room motion) to false
2025-05-26T22:09:39.090Z: Setting column 1 (living room temperature) to 24.2
2025-05-26T22:09:39.090Z: Setting column 2 (living room humidity) to 50.8
2025-05-26T22:09:39.090Z: Setting column 4 (light_state) to true
2025-05-26T22:09:39.090Z: Setting column 5 (ac_state) to true
2025-05-26T22:09:39.090Z: Setting column 6 (targetTemperature) to 20
2025-05-26T22:09:39.090Z: Setting column 7 (targetAcMode) to cool
2025-05-26T22:09:39.090Z: Preparing row: 2025-05-26 22:09:39,24.2,50.8,false,true,true,20,cool,41413915
2025-05-26T22:09:39.090Z: Successfully wrote to log file using writeFileSync
2025-05-26T22:09:39.090Z: Successfully logged combined sensor data in one row with target temperature: 20 and target mode: cool
2025-05-26T22:09:39.094Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-26T22:09:39.094Z: Polling interval active: true
2025-05-26T22:11:17.481Z: Polling for sensor data... (poll #4)
2025-05-26T22:11:17.482Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T22:11:17.482Z: Received sensor data: {"temperature":24.3,"humidity":50.8}
2025-05-26T22:11:17.482Z: Formatted events: [{"name":"living room temperature","value":24.3,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":50.8,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T22:11:17.482Z: Successfully updated event: living room temperature = 24.3
2025-05-26T22:11:17.482Z: Successfully updated event: living room humidity = 50.8
2025-05-26T22:11:18.088Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":24.3,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":50.8,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-26T22:11:18.088Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T22:11:18.088Z: Received motion sensor data: {"motionDetected":false}
2025-05-26T22:11:18.088Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T22:11:18.088Z: Successfully updated motion event: living room motion = false
2025-05-26T22:11:18.242Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-26T22:11:18.858Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":true,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-26T22:11:17.266066Z"}}
2025-05-26T22:11:18.859Z: Extracted AC on state: true, target temperature: 20, target mode: cool
2025-05-26T22:11:19.209Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":true},"success":true}
2025-05-26T22:11:19.210Z: Extracted light state: true
2025-05-26T22:11:19.210Z: Creating a combined row with motion=false, temp=24.3, humidity=50.8, light=true, ac_on=true, target_temp=20, target_mode=cool
2025-05-26T22:11:19.211Z: logSensorData called with 7 sensors
2025-05-26T22:11:19.211Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-26T22:11:19.211Z: Setting spaceId column 8 to 41413915
2025-05-26T22:11:19.211Z: Setting column 3 (living room motion) to false
2025-05-26T22:11:19.211Z: Setting column 1 (living room temperature) to 24.3
2025-05-26T22:11:19.211Z: Setting column 2 (living room humidity) to 50.8
2025-05-26T22:11:19.211Z: Setting column 4 (light_state) to true
2025-05-26T22:11:19.211Z: Setting column 5 (ac_state) to true
2025-05-26T22:11:19.211Z: Setting column 6 (targetTemperature) to 20
2025-05-26T22:11:19.211Z: Setting column 7 (targetAcMode) to cool
2025-05-26T22:11:19.211Z: Preparing row: 2025-05-26 22:11:19,24.3,50.8,false,true,true,20,cool,41413915
2025-05-26T22:11:19.211Z: Successfully wrote to log file using writeFileSync
2025-05-26T22:11:19.210Z: Successfully logged combined sensor data in one row with target temperature: 20 and target mode: cool
2025-05-26T22:11:19.214Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-26T22:11:19.214Z: Polling interval active: true
2025-05-26T22:12:57.485Z: Polling for sensor data... (poll #5)
2025-05-26T22:12:57.486Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T22:12:57.486Z: Received sensor data: {"temperature":24.3,"humidity":50.9}
2025-05-26T22:12:57.486Z: Formatted events: [{"name":"living room temperature","value":24.3,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":50.9,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T22:12:57.486Z: Successfully updated event: living room temperature = 24.3
2025-05-26T22:12:57.486Z: Successfully updated event: living room humidity = 50.9
2025-05-26T22:12:58.114Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":24.3,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":50.9,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-26T22:12:58.115Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T22:12:58.115Z: Received motion sensor data: {"motionDetected":false}
2025-05-26T22:12:58.115Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T22:12:58.115Z: Successfully updated motion event: living room motion = false
2025-05-26T22:12:58.279Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-26T22:12:58.970Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":true,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-26T22:12:57.356098Z"}}
2025-05-26T22:12:58.971Z: Extracted AC on state: true, target temperature: 20, target mode: cool
2025-05-26T22:12:59.301Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":true},"success":true}
2025-05-26T22:12:59.301Z: Extracted light state: true
2025-05-26T22:12:59.302Z: Creating a combined row with motion=false, temp=24.3, humidity=50.9, light=true, ac_on=true, target_temp=20, target_mode=cool
2025-05-26T22:12:59.302Z: logSensorData called with 7 sensors
2025-05-26T22:12:59.302Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-26T22:12:59.302Z: Setting spaceId column 8 to 41413915
2025-05-26T22:12:59.302Z: Setting column 3 (living room motion) to false
2025-05-26T22:12:59.302Z: Setting column 1 (living room temperature) to 24.3
2025-05-26T22:12:59.302Z: Setting column 2 (living room humidity) to 50.9
2025-05-26T22:12:59.302Z: Setting column 4 (light_state) to true
2025-05-26T22:12:59.302Z: Setting column 5 (ac_state) to true
2025-05-26T22:12:59.302Z: Setting column 6 (targetTemperature) to 20
2025-05-26T22:12:59.302Z: Setting column 7 (targetAcMode) to cool
2025-05-26T22:12:59.302Z: Preparing row: 2025-05-26 22:12:59,24.3,50.9,false,true,true,20,cool,41413915
2025-05-26T22:12:59.302Z: Successfully wrote to log file using writeFileSync
2025-05-26T22:12:59.302Z: Successfully logged combined sensor data in one row with target temperature: 20 and target mode: cool
2025-05-26T22:12:59.306Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-26T22:12:59.306Z: Polling interval active: true
2025-05-26T22:14:37.488Z: Polling for sensor data... (poll #6)
2025-05-26T22:14:37.489Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T22:14:37.489Z: Received sensor data: {"temperature":24.3,"humidity":50.4}
2025-05-26T22:14:37.489Z: Formatted events: [{"name":"living room temperature","value":24.3,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":50.4,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T22:14:37.489Z: Successfully updated event: living room temperature = 24.3
2025-05-26T22:14:37.489Z: Successfully updated event: living room humidity = 50.4
2025-05-26T22:14:38.177Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":24.3,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":50.4,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-26T22:14:38.178Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T22:14:38.178Z: Received motion sensor data: {"motionDetected":false}
2025-05-26T22:14:38.178Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T22:14:38.178Z: Successfully updated motion event: living room motion = false
2025-05-26T22:14:38.392Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-26T22:14:38.943Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":true,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-26T22:14:37.365259Z"}}
2025-05-26T22:14:38.943Z: Extracted AC on state: true, target temperature: 20, target mode: cool
2025-05-26T22:14:39.354Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":true},"success":true}
2025-05-26T22:14:39.354Z: Extracted light state: true
2025-05-26T22:14:39.355Z: Creating a combined row with motion=false, temp=24.3, humidity=50.4, light=true, ac_on=true, target_temp=20, target_mode=cool
2025-05-26T22:14:39.355Z: logSensorData called with 7 sensors
2025-05-26T22:14:39.355Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-26T22:14:39.355Z: Setting spaceId column 8 to 41413915
2025-05-26T22:14:39.355Z: Setting column 3 (living room motion) to false
2025-05-26T22:14:39.355Z: Setting column 1 (living room temperature) to 24.3
2025-05-26T22:14:39.355Z: Setting column 2 (living room humidity) to 50.4
2025-05-26T22:14:39.355Z: Setting column 4 (light_state) to true
2025-05-26T22:14:39.355Z: Setting column 5 (ac_state) to true
2025-05-26T22:14:39.355Z: Setting column 6 (targetTemperature) to 20
2025-05-26T22:14:39.355Z: Setting column 7 (targetAcMode) to cool
2025-05-26T22:14:39.355Z: Preparing row: 2025-05-26 22:14:39,24.3,50.4,false,true,true,20,cool,41413915
2025-05-26T22:14:39.355Z: Successfully wrote to log file using writeFileSync
2025-05-26T22:14:39.355Z: Successfully logged combined sensor data in one row with target temperature: 20 and target mode: cool
2025-05-26T22:14:39.358Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-26T22:14:39.358Z: Polling interval active: true
2025-05-26T22:16:21.189Z: Initializing sensor logging service
2025-05-26T22:16:21.189Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-26T22:16:21.190Z: Added light_state column to event names
2025-05-26T22:16:21.190Z: Added ac_state column to event names
2025-05-26T22:16:21.191Z: Added ac_state column to event names
2025-05-26T22:16:21.191Z: Added targetAcMode column to event names
2025-05-26T22:16:21.192Z: Using existing log file
2025-05-26T22:16:21.194Z: Logging enabled
2025-05-26T22:16:21.195Z: No polling was active to stop
2025-05-26T22:16:21.198Z: Initializing sensor logging service
2025-05-26T22:16:21.199Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-26T22:16:21.200Z: Added light_state column to event names
2025-05-26T22:16:21.200Z: Added ac_state column to event names
2025-05-26T22:16:21.200Z: Added ac_state column to event names
2025-05-26T22:16:21.201Z: Added targetAcMode column to event names
2025-05-26T22:16:21.202Z: Using existing log file
2025-05-26T22:16:21.203Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-05-26T22:16:21.203Z: Polling interval set with ID: 1255
2025-05-26T22:16:21.204Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T22:16:21.205Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T22:16:21.217Z: Closing existing log stream before creating new one
2025-05-26T22:16:21.217Z: Logging enabled
2025-05-26T22:16:21.218Z: Stopping sensor polling interval: 1255
2025-05-26T22:16:21.218Z: Closing logging service
2025-05-26T22:16:21.218Z: Closing sensor logging service
2025-05-26T22:16:21.218Z: Closing log stream
2025-05-26T22:16:21.218Z: Logging stopped at 2025-05-26T22:16:21.218Z
2025-05-26T22:16:21.220Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-05-26T22:16:21.220Z: Polling interval set with ID: 1327
2025-05-26T22:16:21.220Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T22:16:21.221Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T22:16:21.221Z: Received motion sensor data: {"motionDetected":false}
2025-05-26T22:16:21.221Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T22:16:21.221Z: Successfully updated motion event: living room motion = false
2025-05-26T22:16:21.205Z: Received motion sensor data: {"motionDetected":false}
2025-05-26T22:16:21.205Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T22:16:21.205Z: Successfully updated motion event: living room motion = false
2025-05-26T22:16:21.220Z: Received sensor data: {"temperature":24.4,"humidity":50.2}
2025-05-26T22:16:21.220Z: Formatted events: [{"name":"living room temperature","value":24.4,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":50.2,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T22:16:21.220Z: Successfully updated event: living room temperature = 24.4
2025-05-26T22:16:21.220Z: Successfully updated event: living room humidity = 50.2
2025-05-26T22:16:21.204Z: Received sensor data: {"temperature":24.4,"humidity":50.2}
2025-05-26T22:16:21.204Z: Formatted events: [{"name":"living room temperature","value":24.4,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":50.2,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T22:16:21.204Z: Successfully updated event: living room temperature = 24.4
2025-05-26T22:16:21.204Z: Successfully updated event: living room humidity = 50.2
2025-05-26T22:16:21.949Z: Initial poll - AC on: true, target temp: 20, target mode: cool
2025-05-26T22:16:21.950Z: Creating a combined row with motion=false, temp=24.4, humidity=50.2, light=true, ac_on=true, target_temp=20, target_mode=cool
2025-05-26T22:16:21.950Z: logSensorData called with 7 sensors
2025-05-26T22:16:21.950Z: WARNING - Logging is disabled but logSensorData was called
2025-05-26T22:16:21.950Z: Attempting to re-initialize logging with existing events
2025-05-26T22:16:21.951Z: Initializing sensor logging service
2025-05-26T22:16:21.951Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-26T22:16:21.952Z: Using existing log file
2025-05-26T22:16:21.950Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-26T22:16:21.950Z: Setting spaceId column 8 to 41413915
2025-05-26T22:16:21.950Z: Setting column 3 (living room motion) to false
2025-05-26T22:16:21.950Z: Setting column 1 (living room temperature) to 24.4
2025-05-26T22:16:21.950Z: Setting column 2 (living room humidity) to 50.2
2025-05-26T22:16:21.950Z: Setting column 4 (light_state) to true
2025-05-26T22:16:21.950Z: Setting column 5 (ac_state) to true
2025-05-26T22:16:21.950Z: Setting column 6 (targetTemperature) to 20
2025-05-26T22:16:21.950Z: Setting column 7 (targetAcMode) to cool
2025-05-26T22:16:21.950Z: Preparing row: 2025-05-26 22:16:21,24.4,50.2,false,true,true,20,cool,41413915
2025-05-26T22:16:21.950Z: Successfully wrote to log file using writeFileSync
2025-05-26T22:16:21.950Z: Successfully logged combined sensor data in one row with target temperature: 20 and target mode: cool
2025-05-26T22:16:21.955Z: Initial combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-26T22:16:21.956Z: Logging enabled
2025-05-26T22:16:21.950Z: Re-initialization result: {"success":true,"message":"Sensor logging initialized to C:\\Users\\amin\\Desktop\\smart-space\\SmartSchool-Server\\logs\\sensor_data.csv","columns":[["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]}
2025-05-26T22:16:22.058Z: Initial poll - AC on: true, target temp: 20, target mode: cool
2025-05-26T22:16:22.059Z: Creating a combined row with motion=false, temp=24.4, humidity=50.2, light=true, ac_on=true, target_temp=20, target_mode=cool
2025-05-26T22:16:22.059Z: logSensorData called with 7 sensors
2025-05-26T22:16:22.059Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-26T22:16:22.059Z: Setting spaceId column 8 to 41413915
2025-05-26T22:16:22.059Z: Setting column 3 (living room motion) to false
2025-05-26T22:16:22.059Z: Setting column 1 (living room temperature) to 24.4
2025-05-26T22:16:22.059Z: Setting column 2 (living room humidity) to 50.2
2025-05-26T22:16:22.059Z: Setting column 4 (light_state) to true
2025-05-26T22:16:22.059Z: Setting column 5 (ac_state) to true
2025-05-26T22:16:22.059Z: Setting column 6 (targetTemperature) to 20
2025-05-26T22:16:22.059Z: Setting column 7 (targetAcMode) to cool
2025-05-26T22:16:22.059Z: Preparing row: 2025-05-26 22:16:22,24.4,50.2,false,true,true,20,cool,41413915
2025-05-26T22:16:22.059Z: Successfully wrote to log file using writeFileSync
2025-05-26T22:16:22.059Z: Successfully logged combined sensor data in one row with target temperature: 20 and target mode: cool
2025-05-26T22:16:22.062Z: Initial combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-26T22:17:29.718Z: Initializing sensor logging service
2025-05-26T22:17:29.719Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-26T22:17:29.719Z: Added light_state column to event names
2025-05-26T22:17:29.720Z: Added ac_state column to event names
2025-05-26T22:17:29.720Z: Added ac_state column to event names
2025-05-26T22:17:29.720Z: Added targetAcMode column to event names
2025-05-26T22:17:29.721Z: Using existing log file
2025-05-26T22:17:29.722Z: Logging enabled
2025-05-26T22:17:29.722Z: No polling was active to stop
2025-05-26T22:17:29.723Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-05-26T22:17:29.723Z: Polling interval set with ID: 1283
2025-05-26T22:17:29.724Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T22:17:29.725Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T22:17:29.751Z: Initializing sensor logging service
2025-05-26T22:17:29.751Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-26T22:17:29.752Z: Added light_state column to event names
2025-05-26T22:17:29.752Z: Added ac_state column to event names
2025-05-26T22:17:29.752Z: Added ac_state column to event names
2025-05-26T22:17:29.753Z: Added targetAcMode column to event names
2025-05-26T22:17:29.753Z: Using existing log file
2025-05-26T22:17:29.754Z: Closing existing log stream before creating new one
2025-05-26T22:17:29.754Z: Logging enabled
2025-05-26T22:17:29.755Z: Stopping sensor polling interval: 1283
2025-05-26T22:17:29.755Z: Closing logging service
2025-05-26T22:17:29.755Z: Closing sensor logging service
2025-05-26T22:17:29.755Z: Closing log stream
2025-05-26T22:17:29.755Z: Logging stopped at 2025-05-26T22:17:29.755Z
2025-05-26T22:17:29.756Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-05-26T22:17:29.756Z: Polling interval set with ID: 1374
2025-05-26T22:17:29.757Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T22:17:29.757Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T22:17:29.725Z: Received motion sensor data: {"motionDetected":true}
2025-05-26T22:17:29.725Z: Formatted motion sensor events: [{"name":"living room motion","value":true,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T22:17:29.725Z: Successfully updated motion event: living room motion = true
2025-05-26T22:17:29.757Z: Received motion sensor data: {"motionDetected":true}
2025-05-26T22:17:29.757Z: Formatted motion sensor events: [{"name":"living room motion","value":true,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T22:17:29.757Z: Successfully updated motion event: living room motion = true
2025-05-26T22:17:29.724Z: Received sensor data: {"temperature":24.4,"humidity":50.2}
2025-05-26T22:17:29.724Z: Formatted events: [{"name":"living room temperature","value":24.4,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":50.2,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T22:17:29.724Z: Successfully updated event: living room temperature = 24.4
2025-05-26T22:17:29.724Z: Successfully updated event: living room humidity = 50.2
2025-05-26T22:17:29.757Z: Received sensor data: {"temperature":24.4,"humidity":50.2}
2025-05-26T22:17:29.757Z: Formatted events: [{"name":"living room temperature","value":24.4,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":50.2,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T22:17:29.757Z: Successfully updated event: living room temperature = 24.4
2025-05-26T22:17:29.757Z: Successfully updated event: living room humidity = 50.2
2025-05-26T22:17:30.582Z: Initial poll - AC on: true, target temp: 20, target mode: cool
2025-05-26T22:17:30.583Z: Creating a combined row with motion=true, temp=24.4, humidity=50.2, light=true, ac_on=true, target_temp=20, target_mode=cool
2025-05-26T22:17:30.583Z: logSensorData called with 7 sensors
2025-05-26T22:17:30.583Z: WARNING - Logging is disabled but logSensorData was called
2025-05-26T22:17:30.583Z: Attempting to re-initialize logging with existing events
2025-05-26T22:17:30.584Z: Initializing sensor logging service
2025-05-26T22:17:30.584Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-26T22:17:30.585Z: Using existing log file
2025-05-26T22:17:30.583Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-26T22:17:30.583Z: Setting spaceId column 8 to 41413915
2025-05-26T22:17:30.583Z: Setting column 3 (living room motion) to true
2025-05-26T22:17:30.583Z: Setting column 1 (living room temperature) to 24.4
2025-05-26T22:17:30.583Z: Setting column 2 (living room humidity) to 50.2
2025-05-26T22:17:30.583Z: Setting column 4 (light_state) to true
2025-05-26T22:17:30.583Z: Setting column 5 (ac_state) to true
2025-05-26T22:17:30.583Z: Setting column 6 (targetTemperature) to 20
2025-05-26T22:17:30.583Z: Setting column 7 (targetAcMode) to cool
2025-05-26T22:17:30.583Z: Preparing row: 2025-05-26 22:17:30,24.4,50.2,true,true,true,20,cool,41413915
2025-05-26T22:17:30.583Z: Successfully wrote to log file using writeFileSync
2025-05-26T22:17:30.583Z: Successfully logged combined sensor data in one row with target temperature: 20 and target mode: cool
2025-05-26T22:17:30.588Z: Initial combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-26T22:17:30.589Z: Logging enabled
2025-05-26T22:17:30.583Z: Re-initialization result: {"success":true,"message":"Sensor logging initialized to C:\\Users\\amin\\Desktop\\smart-space\\SmartSchool-Server\\logs\\sensor_data.csv","columns":[["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]}
2025-05-26T22:17:30.632Z: Initial poll - AC on: true, target temp: 20, target mode: cool
2025-05-26T22:17:30.633Z: Creating a combined row with motion=true, temp=24.4, humidity=50.2, light=true, ac_on=true, target_temp=20, target_mode=cool
2025-05-26T22:17:30.633Z: logSensorData called with 7 sensors
2025-05-26T22:17:30.633Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-26T22:17:30.633Z: Setting spaceId column 8 to 41413915
2025-05-26T22:17:30.633Z: Setting column 3 (living room motion) to true
2025-05-26T22:17:30.633Z: Setting column 1 (living room temperature) to 24.4
2025-05-26T22:17:30.633Z: Setting column 2 (living room humidity) to 50.2
2025-05-26T22:17:30.633Z: Setting column 4 (light_state) to true
2025-05-26T22:17:30.633Z: Setting column 5 (ac_state) to true
2025-05-26T22:17:30.633Z: Setting column 6 (targetTemperature) to 20
2025-05-26T22:17:30.633Z: Setting column 7 (targetAcMode) to cool
2025-05-26T22:17:30.633Z: Preparing row: 2025-05-26 22:17:30,24.4,50.2,true,true,true,20,cool,41413915
2025-05-26T22:17:30.633Z: Successfully wrote to log file using writeFileSync
2025-05-26T22:17:30.633Z: Successfully logged combined sensor data in one row with target temperature: 20 and target mode: cool
2025-05-26T22:17:30.636Z: Initial combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-26T22:18:55.361Z: Initializing sensor logging service
2025-05-26T22:18:55.361Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-26T22:18:55.362Z: Added light_state column to event names
2025-05-26T22:18:55.362Z: Added ac_state column to event names
2025-05-26T22:18:55.363Z: Added ac_state column to event names
2025-05-26T22:18:55.363Z: Added targetAcMode column to event names
2025-05-26T22:18:55.363Z: Using existing log file
2025-05-26T22:18:55.365Z: Logging enabled
2025-05-26T22:18:55.366Z: No polling was active to stop
2025-05-26T22:18:55.367Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-05-26T22:18:55.367Z: Polling interval set with ID: 1032
2025-05-26T22:18:55.368Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T22:18:55.368Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T22:18:55.392Z: Initializing sensor logging service
2025-05-26T22:18:55.393Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-26T22:18:55.393Z: Added light_state column to event names
2025-05-26T22:18:55.394Z: Added ac_state column to event names
2025-05-26T22:18:55.394Z: Added ac_state column to event names
2025-05-26T22:18:55.394Z: Added targetAcMode column to event names
2025-05-26T22:18:55.394Z: Using existing log file
2025-05-26T22:18:55.396Z: Closing existing log stream before creating new one
2025-05-26T22:18:55.396Z: Logging enabled
2025-05-26T22:18:55.396Z: Stopping sensor polling interval: 1032
2025-05-26T22:18:55.396Z: Closing logging service
2025-05-26T22:18:55.397Z: Closing sensor logging service
2025-05-26T22:18:55.397Z: Closing log stream
2025-05-26T22:18:55.397Z: Logging stopped at 2025-05-26T22:18:55.397Z
2025-05-26T22:18:55.398Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-05-26T22:18:55.398Z: Polling interval set with ID: 1128
2025-05-26T22:18:55.399Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T22:18:55.399Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T22:18:55.368Z: Received motion sensor data: {"motionDetected":false}
2025-05-26T22:18:55.368Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T22:18:55.368Z: Successfully updated motion event: living room motion = false
2025-05-26T22:18:55.399Z: Received motion sensor data: {"motionDetected":false}
2025-05-26T22:18:55.399Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T22:18:55.399Z: Successfully updated motion event: living room motion = false
2025-05-26T22:18:55.368Z: Received sensor data: {"temperature":24.3,"humidity":50.4}
2025-05-26T22:18:55.368Z: Formatted events: [{"name":"living room temperature","value":24.3,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":50.4,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T22:18:55.368Z: Successfully updated event: living room temperature = 24.3
2025-05-26T22:18:55.368Z: Successfully updated event: living room humidity = 50.4
2025-05-26T22:18:55.399Z: Received sensor data: {"temperature":24.3,"humidity":50.4}
2025-05-26T22:18:55.399Z: Formatted events: [{"name":"living room temperature","value":24.3,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":50.4,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T22:18:55.399Z: Successfully updated event: living room temperature = 24.3
2025-05-26T22:18:55.399Z: Successfully updated event: living room humidity = 50.4
2025-05-26T22:18:56.263Z: Initial poll - AC on: true, target temp: 20, target mode: cool
2025-05-26T22:18:56.264Z: Creating a combined row with motion=false, temp=24.3, humidity=50.4, light=true, ac_on=true, target_temp=20, target_mode=cool
2025-05-26T22:18:56.264Z: logSensorData called with 7 sensors
2025-05-26T22:18:56.264Z: WARNING - Logging is disabled but logSensorData was called
2025-05-26T22:18:56.264Z: Attempting to re-initialize logging with existing events
2025-05-26T22:18:56.266Z: Initializing sensor logging service
2025-05-26T22:18:56.266Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-26T22:18:56.267Z: Using existing log file
2025-05-26T22:18:56.264Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-26T22:18:56.264Z: Setting spaceId column 8 to 41413915
2025-05-26T22:18:56.264Z: Setting column 3 (living room motion) to false
2025-05-26T22:18:56.264Z: Setting column 1 (living room temperature) to 24.3
2025-05-26T22:18:56.264Z: Setting column 2 (living room humidity) to 50.4
2025-05-26T22:18:56.264Z: Setting column 4 (light_state) to true
2025-05-26T22:18:56.264Z: Setting column 5 (ac_state) to true
2025-05-26T22:18:56.264Z: Setting column 6 (targetTemperature) to 20
2025-05-26T22:18:56.264Z: Setting column 7 (targetAcMode) to cool
2025-05-26T22:18:56.264Z: Preparing row: 2025-05-26 22:18:56,24.3,50.4,false,true,true,20,cool,41413915
2025-05-26T22:18:56.264Z: Successfully wrote to log file using writeFileSync
2025-05-26T22:18:56.264Z: Successfully logged combined sensor data in one row with target temperature: 20 and target mode: cool
2025-05-26T22:18:56.270Z: Initial combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-26T22:18:56.271Z: Logging enabled
2025-05-26T22:18:56.264Z: Re-initialization result: {"success":true,"message":"Sensor logging initialized to C:\\Users\\amin\\Desktop\\smart-space\\SmartSchool-Server\\logs\\sensor_data.csv","columns":[["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]}
2025-05-26T22:18:56.276Z: Initial poll - AC on: true, target temp: 20, target mode: cool
2025-05-26T22:18:56.276Z: Creating a combined row with motion=false, temp=24.3, humidity=50.4, light=true, ac_on=true, target_temp=20, target_mode=cool
2025-05-26T22:18:56.277Z: logSensorData called with 7 sensors
2025-05-26T22:18:56.277Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-26T22:18:56.277Z: Setting spaceId column 8 to 41413915
2025-05-26T22:18:56.277Z: Setting column 3 (living room motion) to false
2025-05-26T22:18:56.277Z: Setting column 1 (living room temperature) to 24.3
2025-05-26T22:18:56.277Z: Setting column 2 (living room humidity) to 50.4
2025-05-26T22:18:56.277Z: Setting column 4 (light_state) to true
2025-05-26T22:18:56.277Z: Setting column 5 (ac_state) to true
2025-05-26T22:18:56.277Z: Setting column 6 (targetTemperature) to 20
2025-05-26T22:18:56.277Z: Setting column 7 (targetAcMode) to cool
2025-05-26T22:18:56.277Z: Preparing row: 2025-05-26 22:18:56,24.3,50.4,false,true,true,20,cool,41413915
2025-05-26T22:18:56.277Z: Successfully wrote to log file using writeFileSync
2025-05-26T22:18:56.276Z: Successfully logged combined sensor data in one row with target temperature: 20 and target mode: cool
2025-05-26T22:18:56.279Z: Initial combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-26T22:21:53.680Z: Initializing sensor logging service
2025-05-26T22:21:53.681Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-26T22:21:53.682Z: Added light_state column to event names
2025-05-26T22:21:53.682Z: Added ac_state column to event names
2025-05-26T22:21:53.682Z: Added ac_state column to event names
2025-05-26T22:21:53.683Z: Added targetAcMode column to event names
2025-05-26T22:21:53.683Z: Using existing log file
2025-05-26T22:21:53.685Z: Logging enabled
2025-05-26T22:21:53.686Z: No polling was active to stop
2025-05-26T22:21:53.687Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-05-26T22:21:53.687Z: Polling interval set with ID: 1169
2025-05-26T22:21:53.687Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T22:21:53.688Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T22:21:53.728Z: Initializing sensor logging service
2025-05-26T22:21:53.729Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-26T22:21:53.729Z: Added light_state column to event names
2025-05-26T22:21:53.729Z: Added ac_state column to event names
2025-05-26T22:21:53.730Z: Added ac_state column to event names
2025-05-26T22:21:53.730Z: Added targetAcMode column to event names
2025-05-26T22:21:53.730Z: Using existing log file
2025-05-26T22:21:53.731Z: Closing existing log stream before creating new one
2025-05-26T22:21:53.732Z: Logging enabled
2025-05-26T22:21:53.732Z: Stopping sensor polling interval: 1169
2025-05-26T22:21:53.732Z: Closing logging service
2025-05-26T22:21:53.733Z: Closing sensor logging service
2025-05-26T22:21:53.733Z: Closing log stream
2025-05-26T22:21:53.733Z: Logging stopped at 2025-05-26T22:21:53.733Z
2025-05-26T22:21:53.734Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-05-26T22:21:53.734Z: Polling interval set with ID: 1304
2025-05-26T22:21:53.735Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T22:21:53.735Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T22:21:53.688Z: Received motion sensor data: {"motionDetected":false}
2025-05-26T22:21:53.688Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T22:21:53.688Z: Successfully updated motion event: living room motion = false
2025-05-26T22:21:53.735Z: Received motion sensor data: {"motionDetected":false}
2025-05-26T22:21:53.735Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T22:21:53.735Z: Successfully updated motion event: living room motion = false
2025-05-26T22:21:53.687Z: Received sensor data: {"temperature":24.3,"humidity":50.5}
2025-05-26T22:21:53.687Z: Formatted events: [{"name":"living room temperature","value":24.3,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":50.5,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T22:21:53.687Z: Successfully updated event: living room temperature = 24.3
2025-05-26T22:21:53.687Z: Successfully updated event: living room humidity = 50.5
2025-05-26T22:21:54.426Z: Initial poll - AC on: true, target temp: 20, target mode: cool
2025-05-26T22:21:54.427Z: Creating a combined row with motion=false, temp=24.3, humidity=50.5, light=false, ac_on=true, target_temp=20, target_mode=cool
2025-05-26T22:21:54.427Z: logSensorData called with 7 sensors
2025-05-26T22:21:54.427Z: WARNING - Logging is disabled but logSensorData was called
2025-05-26T22:21:54.427Z: Attempting to re-initialize logging with existing events
2025-05-26T22:21:54.428Z: Initializing sensor logging service
2025-05-26T22:21:54.428Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-26T22:21:54.429Z: Using existing log file
2025-05-26T22:21:54.427Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-26T22:21:54.427Z: Setting spaceId column 8 to 41413915
2025-05-26T22:21:54.427Z: Setting column 3 (living room motion) to false
2025-05-26T22:21:54.427Z: Setting column 1 (living room temperature) to 24.3
2025-05-26T22:21:54.427Z: Setting column 2 (living room humidity) to 50.5
2025-05-26T22:21:54.427Z: Setting column 4 (light_state) to false
2025-05-26T22:21:54.427Z: Setting column 5 (ac_state) to true
2025-05-26T22:21:54.427Z: Setting column 6 (targetTemperature) to 20
2025-05-26T22:21:54.427Z: Setting column 7 (targetAcMode) to cool
2025-05-26T22:21:54.427Z: Preparing row: 2025-05-26 22:21:54,24.3,50.5,false,false,true,20,cool,41413915
2025-05-26T22:21:54.427Z: Successfully wrote to log file using writeFileSync
2025-05-26T22:21:54.427Z: Successfully logged combined sensor data in one row with target temperature: 20 and target mode: cool
2025-05-26T22:21:54.432Z: Initial combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-26T22:21:54.433Z: Logging enabled
2025-05-26T22:21:54.427Z: Re-initialization result: {"success":true,"message":"Sensor logging initialized to C:\\Users\\amin\\Desktop\\smart-space\\SmartSchool-Server\\logs\\sensor_data.csv","columns":[["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]}
2025-05-26T22:21:53.735Z: Received sensor data: {"temperature":24.3,"humidity":50.5}
2025-05-26T22:21:53.735Z: Formatted events: [{"name":"living room temperature","value":24.3,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":50.5,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T22:21:53.735Z: Successfully updated event: living room temperature = 24.3
2025-05-26T22:21:53.735Z: Successfully updated event: living room humidity = 50.5
2025-05-26T22:21:54.620Z: Initial poll - AC on: true, target temp: 20, target mode: cool
2025-05-26T22:21:54.620Z: Creating a combined row with motion=false, temp=24.3, humidity=50.5, light=false, ac_on=true, target_temp=20, target_mode=cool
2025-05-26T22:21:54.621Z: logSensorData called with 7 sensors
2025-05-26T22:21:54.621Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-26T22:21:54.621Z: Setting spaceId column 8 to 41413915
2025-05-26T22:21:54.621Z: Setting column 3 (living room motion) to false
2025-05-26T22:21:54.621Z: Setting column 1 (living room temperature) to 24.3
2025-05-26T22:21:54.621Z: Setting column 2 (living room humidity) to 50.5
2025-05-26T22:21:54.621Z: Setting column 4 (light_state) to false
2025-05-26T22:21:54.621Z: Setting column 5 (ac_state) to true
2025-05-26T22:21:54.621Z: Setting column 6 (targetTemperature) to 20
2025-05-26T22:21:54.621Z: Setting column 7 (targetAcMode) to cool
2025-05-26T22:21:54.621Z: Preparing row: 2025-05-26 22:21:54,24.3,50.5,false,false,true,20,cool,41413915
2025-05-26T22:21:54.621Z: Successfully wrote to log file using writeFileSync
2025-05-26T22:21:54.620Z: Successfully logged combined sensor data in one row with target temperature: 20 and target mode: cool
2025-05-26T22:21:54.624Z: Initial combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-26T22:23:33.748Z: Polling for sensor data... (poll #1)
2025-05-26T22:23:33.749Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T22:23:33.749Z: Received sensor data: {"temperature":24.3,"humidity":50.9}
2025-05-26T22:23:33.749Z: Formatted events: [{"name":"living room temperature","value":24.3,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":50.9,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T22:23:33.749Z: Successfully updated event: living room temperature = 24.3
2025-05-26T22:23:33.749Z: Successfully updated event: living room humidity = 50.9
2025-05-26T22:23:34.367Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":24.3,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":50.9,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-26T22:23:34.367Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T22:23:34.367Z: Received motion sensor data: {"motionDetected":false}
2025-05-26T22:23:34.367Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T22:23:34.367Z: Successfully updated motion event: living room motion = false
2025-05-26T22:23:34.512Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-26T22:23:35.079Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":true,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-26T22:23:33.501727Z"}}
2025-05-26T22:23:35.079Z: Extracted AC on state: true, target temperature: 20, target mode: cool
2025-05-26T22:23:35.393Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":false},"success":true}
2025-05-26T22:23:35.394Z: Extracted light state: false
2025-05-26T22:23:35.394Z: Creating a combined row with motion=false, temp=24.3, humidity=50.9, light=false, ac_on=true, target_temp=20, target_mode=cool
2025-05-26T22:23:35.395Z: logSensorData called with 7 sensors
2025-05-26T22:23:35.395Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-26T22:23:35.395Z: Setting spaceId column 8 to 41413915
2025-05-26T22:23:35.395Z: Setting column 3 (living room motion) to false
2025-05-26T22:23:35.395Z: Setting column 1 (living room temperature) to 24.3
2025-05-26T22:23:35.395Z: Setting column 2 (living room humidity) to 50.9
2025-05-26T22:23:35.395Z: Setting column 4 (light_state) to false
2025-05-26T22:23:35.395Z: Setting column 5 (ac_state) to true
2025-05-26T22:23:35.395Z: Setting column 6 (targetTemperature) to 20
2025-05-26T22:23:35.395Z: Setting column 7 (targetAcMode) to cool
2025-05-26T22:23:35.395Z: Preparing row: 2025-05-26 22:23:35,24.3,50.9,false,false,true,20,cool,41413915
2025-05-26T22:23:35.395Z: Successfully wrote to log file using writeFileSync
2025-05-26T22:23:35.394Z: Successfully logged combined sensor data in one row with target temperature: 20 and target mode: cool
2025-05-26T22:23:35.398Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-26T22:23:35.399Z: Polling interval active: true
2025-05-26T22:25:13.750Z: Polling for sensor data... (poll #2)
2025-05-26T22:25:13.751Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T22:25:13.751Z: Received sensor data: {"temperature":24.3,"humidity":50.9}
2025-05-26T22:25:13.751Z: Formatted events: [{"name":"living room temperature","value":24.3,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":50.9,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T22:25:13.751Z: Successfully updated event: living room temperature = 24.3
2025-05-26T22:25:13.751Z: Successfully updated event: living room humidity = 50.9
2025-05-26T22:25:14.380Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":24.3,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":50.9,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-26T22:25:14.380Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T22:25:14.380Z: Received motion sensor data: {"motionDetected":false}
2025-05-26T22:25:14.380Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T22:25:14.380Z: Successfully updated motion event: living room motion = false
2025-05-26T22:25:14.589Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-26T22:25:15.108Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":true,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-26T22:25:13.552479Z"}}
2025-05-26T22:25:15.109Z: Extracted AC on state: true, target temperature: 20, target mode: cool
2025-05-26T22:25:15.421Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":false},"success":true}
2025-05-26T22:25:15.422Z: Extracted light state: false
2025-05-26T22:25:15.422Z: Creating a combined row with motion=false, temp=24.3, humidity=50.9, light=false, ac_on=true, target_temp=20, target_mode=cool
2025-05-26T22:25:15.423Z: logSensorData called with 7 sensors
2025-05-26T22:25:15.423Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-26T22:25:15.423Z: Setting spaceId column 8 to 41413915
2025-05-26T22:25:15.423Z: Setting column 3 (living room motion) to false
2025-05-26T22:25:15.423Z: Setting column 1 (living room temperature) to 24.3
2025-05-26T22:25:15.423Z: Setting column 2 (living room humidity) to 50.9
2025-05-26T22:25:15.423Z: Setting column 4 (light_state) to false
2025-05-26T22:25:15.423Z: Setting column 5 (ac_state) to true
2025-05-26T22:25:15.423Z: Setting column 6 (targetTemperature) to 20
2025-05-26T22:25:15.423Z: Setting column 7 (targetAcMode) to cool
2025-05-26T22:25:15.423Z: Preparing row: 2025-05-26 22:25:15,24.3,50.9,false,false,true,20,cool,41413915
2025-05-26T22:25:15.423Z: Successfully wrote to log file using writeFileSync
2025-05-26T22:25:15.422Z: Successfully logged combined sensor data in one row with target temperature: 20 and target mode: cool
2025-05-26T22:25:15.427Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-26T22:25:15.427Z: Polling interval active: true
2025-05-26T22:27:19.652Z: Initializing sensor logging service
2025-05-26T22:27:19.653Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-26T22:27:19.653Z: Added light_state column to event names
2025-05-26T22:27:19.654Z: Added ac_state column to event names
2025-05-26T22:27:19.654Z: Added ac_state column to event names
2025-05-26T22:27:19.654Z: Added targetAcMode column to event names
2025-05-26T22:27:19.654Z: Using existing log file
2025-05-26T22:27:19.656Z: Logging enabled
2025-05-26T22:27:19.656Z: No polling was active to stop
2025-05-26T22:27:19.657Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-05-26T22:27:19.657Z: Polling interval set with ID: 914
2025-05-26T22:27:19.658Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T22:27:19.659Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T22:27:19.719Z: Initializing sensor logging service
2025-05-26T22:27:19.720Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-26T22:27:19.721Z: Added light_state column to event names
2025-05-26T22:27:19.721Z: Added ac_state column to event names
2025-05-26T22:27:19.721Z: Added ac_state column to event names
2025-05-26T22:27:19.722Z: Added targetAcMode column to event names
2025-05-26T22:27:19.722Z: Using existing log file
2025-05-26T22:27:19.724Z: Closing existing log stream before creating new one
2025-05-26T22:27:19.724Z: Logging enabled
2025-05-26T22:27:19.725Z: Stopping sensor polling interval: 914
2025-05-26T22:27:19.725Z: Closing logging service
2025-05-26T22:27:19.726Z: Closing sensor logging service
2025-05-26T22:27:19.726Z: Closing log stream
2025-05-26T22:27:19.726Z: Logging stopped at 2025-05-26T22:27:19.726Z
2025-05-26T22:27:19.727Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-05-26T22:27:19.727Z: Polling interval set with ID: 1020
2025-05-26T22:27:19.728Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T22:27:19.728Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T22:27:19.659Z: Received motion sensor data: {"motionDetected":false}
2025-05-26T22:27:19.659Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T22:27:19.659Z: Successfully updated motion event: living room motion = false
2025-05-26T22:27:19.728Z: Received motion sensor data: {"motionDetected":false}
2025-05-26T22:27:19.728Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T22:27:19.728Z: Successfully updated motion event: living room motion = false
2025-05-26T22:27:19.728Z: Received sensor data: {"temperature":24.3,"humidity":51.1}
2025-05-26T22:27:19.728Z: Formatted events: [{"name":"living room temperature","value":24.3,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":51.1,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T22:27:19.728Z: Successfully updated event: living room temperature = 24.3
2025-05-26T22:27:19.728Z: Successfully updated event: living room humidity = 51.1
2025-05-26T22:27:19.658Z: Received sensor data: {"temperature":24.3,"humidity":51.1}
2025-05-26T22:27:19.658Z: Formatted events: [{"name":"living room temperature","value":24.3,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":51.1,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T22:27:19.658Z: Successfully updated event: living room temperature = 24.3
2025-05-26T22:27:19.658Z: Successfully updated event: living room humidity = 51.1
2025-05-26T22:27:20.568Z: Initial poll - AC on: true, target temp: 20, target mode: cool
2025-05-26T22:27:20.569Z: Creating a combined row with motion=false, temp=24.3, humidity=51.1, light=false, ac_on=true, target_temp=20, target_mode=cool
2025-05-26T22:27:20.569Z: logSensorData called with 7 sensors
2025-05-26T22:27:20.569Z: WARNING - Logging is disabled but logSensorData was called
2025-05-26T22:27:20.569Z: Attempting to re-initialize logging with existing events
2025-05-26T22:27:20.570Z: Initializing sensor logging service
2025-05-26T22:27:20.570Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-26T22:27:20.571Z: Using existing log file
2025-05-26T22:27:20.569Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-26T22:27:20.569Z: Setting spaceId column 8 to 41413915
2025-05-26T22:27:20.569Z: Setting column 3 (living room motion) to false
2025-05-26T22:27:20.569Z: Setting column 1 (living room temperature) to 24.3
2025-05-26T22:27:20.569Z: Setting column 2 (living room humidity) to 51.1
2025-05-26T22:27:20.569Z: Setting column 4 (light_state) to false
2025-05-26T22:27:20.569Z: Setting column 5 (ac_state) to true
2025-05-26T22:27:20.569Z: Setting column 6 (targetTemperature) to 20
2025-05-26T22:27:20.569Z: Setting column 7 (targetAcMode) to cool
2025-05-26T22:27:20.569Z: Preparing row: 2025-05-26 22:27:20,24.3,51.1,false,false,true,20,cool,41413915
2025-05-26T22:27:20.569Z: Successfully wrote to log file using writeFileSync
2025-05-26T22:27:20.569Z: Successfully logged combined sensor data in one row with target temperature: 20 and target mode: cool
2025-05-26T22:27:20.573Z: Initial combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-26T22:27:20.574Z: Initial poll - AC on: true, target temp: 20, target mode: cool
2025-05-26T22:27:20.574Z: Creating a combined row with motion=false, temp=24.3, humidity=51.1, light=false, ac_on=true, target_temp=20, target_mode=cool
2025-05-26T22:27:20.574Z: logSensorData called with 7 sensors
2025-05-26T22:27:20.574Z: WARNING - Logging is disabled but logSensorData was called
2025-05-26T22:27:20.574Z: Attempting to re-initialize logging with existing events
2025-05-26T22:27:20.575Z: Initializing sensor logging service
2025-05-26T22:27:20.575Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-26T22:27:20.575Z: Using existing log file
2025-05-26T22:27:20.574Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-26T22:27:20.574Z: Setting spaceId column 8 to 41413915
2025-05-26T22:27:20.574Z: Setting column 3 (living room motion) to false
2025-05-26T22:27:20.574Z: Setting column 1 (living room temperature) to 24.3
2025-05-26T22:27:20.574Z: Setting column 2 (living room humidity) to 51.1
2025-05-26T22:27:20.574Z: Setting column 4 (light_state) to false
2025-05-26T22:27:20.574Z: Setting column 5 (ac_state) to true
2025-05-26T22:27:20.574Z: Setting column 6 (targetTemperature) to 20
2025-05-26T22:27:20.574Z: Setting column 7 (targetAcMode) to cool
2025-05-26T22:27:20.574Z: Preparing row: 2025-05-26 22:27:20,24.3,51.1,false,false,true,20,cool,41413915
2025-05-26T22:27:20.574Z: Successfully wrote to log file using writeFileSync
2025-05-26T22:27:20.574Z: Successfully logged combined sensor data in one row with target temperature: 20 and target mode: cool
2025-05-26T22:27:20.578Z: Initial combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-26T22:27:20.579Z: Logging enabled
2025-05-26T22:27:20.569Z: Re-initialization result: {"success":true,"message":"Sensor logging initialized to C:\\Users\\amin\\Desktop\\smart-space\\SmartSchool-Server\\logs\\sensor_data.csv","columns":[["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]}
2025-05-26T22:27:20.579Z: Closing existing log stream before creating new one
2025-05-26T22:27:20.579Z: Logging enabled
2025-05-26T22:27:20.574Z: Re-initialization result: {"success":true,"message":"Sensor logging initialized to C:\\Users\\amin\\Desktop\\smart-space\\SmartSchool-Server\\logs\\sensor_data.csv","columns":[["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]}
2025-05-26T22:28:59.731Z: Polling for sensor data... (poll #1)
2025-05-26T22:28:59.732Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T22:28:59.732Z: Received sensor data: {"temperature":24.2,"humidity":51.5}
2025-05-26T22:28:59.732Z: Formatted events: [{"name":"living room temperature","value":24.2,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":51.5,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T22:28:59.732Z: Successfully updated event: living room temperature = 24.2
2025-05-26T22:28:59.732Z: Successfully updated event: living room humidity = 51.5
2025-05-26T22:29:00.404Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":24.2,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":51.5,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-26T22:29:00.404Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T22:29:00.404Z: Received motion sensor data: {"motionDetected":false}
2025-05-26T22:29:00.404Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T22:29:00.404Z: Successfully updated motion event: living room motion = false
2025-05-26T22:29:00.552Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-26T22:29:01.184Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":true,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-26T22:28:59.620335Z"}}
2025-05-26T22:29:01.184Z: Extracted AC on state: true, target temperature: 20, target mode: cool
2025-05-26T22:29:01.501Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":false},"success":true}
2025-05-26T22:29:01.502Z: Extracted light state: false
2025-05-26T22:29:01.502Z: Creating a combined row with motion=false, temp=24.2, humidity=51.5, light=false, ac_on=true, target_temp=20, target_mode=cool
2025-05-26T22:29:01.502Z: logSensorData called with 7 sensors
2025-05-26T22:29:01.502Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-26T22:29:01.502Z: Setting spaceId column 8 to 41413915
2025-05-26T22:29:01.502Z: Setting column 3 (living room motion) to false
2025-05-26T22:29:01.502Z: Setting column 1 (living room temperature) to 24.2
2025-05-26T22:29:01.502Z: Setting column 2 (living room humidity) to 51.5
2025-05-26T22:29:01.502Z: Setting column 4 (light_state) to false
2025-05-26T22:29:01.502Z: Setting column 5 (ac_state) to true
2025-05-26T22:29:01.502Z: Setting column 6 (targetTemperature) to 20
2025-05-26T22:29:01.502Z: Setting column 7 (targetAcMode) to cool
2025-05-26T22:29:01.502Z: Preparing row: 2025-05-26 22:29:01,24.2,51.5,false,false,true,20,cool,41413915
2025-05-26T22:29:01.502Z: Successfully wrote to log file using writeFileSync
2025-05-26T22:29:01.502Z: Successfully logged combined sensor data in one row with target temperature: 20 and target mode: cool
2025-05-26T22:29:01.505Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-26T22:29:01.505Z: Polling interval active: true
2025-05-26T22:31:45.526Z: Initializing sensor logging service
2025-05-26T22:31:45.527Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-26T22:31:45.527Z: Added light_state column to event names
2025-05-26T22:31:45.528Z: Added ac_state column to event names
2025-05-26T22:31:45.528Z: Added ac_state column to event names
2025-05-26T22:31:45.528Z: Added targetAcMode column to event names
2025-05-26T22:31:45.528Z: Using existing log file
2025-05-26T22:31:45.530Z: Logging enabled
2025-05-26T22:31:45.530Z: No polling was active to stop
2025-05-26T22:31:45.531Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-05-26T22:31:45.531Z: Polling interval set with ID: 1091
2025-05-26T22:31:45.532Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T22:31:45.532Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T22:31:45.554Z: Initializing sensor logging service
2025-05-26T22:31:45.555Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-26T22:31:45.555Z: Added light_state column to event names
2025-05-26T22:31:45.556Z: Added ac_state column to event names
2025-05-26T22:31:45.556Z: Added ac_state column to event names
2025-05-26T22:31:45.556Z: Added targetAcMode column to event names
2025-05-26T22:31:45.557Z: Using existing log file
2025-05-26T22:31:45.558Z: Closing existing log stream before creating new one
2025-05-26T22:31:45.558Z: Logging enabled
2025-05-26T22:31:45.559Z: Stopping sensor polling interval: 1091
2025-05-26T22:31:45.559Z: Closing logging service
2025-05-26T22:31:45.560Z: Closing sensor logging service
2025-05-26T22:31:45.560Z: Closing log stream
2025-05-26T22:31:45.560Z: Logging stopped at 2025-05-26T22:31:45.560Z
2025-05-26T22:31:45.561Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-05-26T22:31:45.561Z: Polling interval set with ID: 1177
2025-05-26T22:31:45.562Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T22:31:45.563Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T22:31:45.532Z: Received motion sensor data: {"motionDetected":true}
2025-05-26T22:31:45.532Z: Formatted motion sensor events: [{"name":"living room motion","value":true,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T22:31:45.532Z: Successfully updated motion event: living room motion = true
2025-05-26T22:31:45.563Z: Received motion sensor data: {"motionDetected":true}
2025-05-26T22:31:45.563Z: Formatted motion sensor events: [{"name":"living room motion","value":true,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T22:31:45.563Z: Successfully updated motion event: living room motion = true
2025-05-26T22:31:45.532Z: Received sensor data: {"temperature":24.2,"humidity":51.9}
2025-05-26T22:31:45.532Z: Formatted events: [{"name":"living room temperature","value":24.2,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":51.9,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T22:31:45.532Z: Successfully updated event: living room temperature = 24.2
2025-05-26T22:31:45.532Z: Successfully updated event: living room humidity = 51.9
2025-05-26T22:31:46.317Z: Initial poll - AC on: true, target temp: 20, target mode: cool
2025-05-26T22:31:46.317Z: Creating a combined row with motion=true, temp=24.2, humidity=51.9, light=false, ac_on=true, target_temp=20, target_mode=cool
2025-05-26T22:31:46.318Z: logSensorData called with 7 sensors
2025-05-26T22:31:46.318Z: WARNING - Logging is disabled but logSensorData was called
2025-05-26T22:31:46.318Z: Attempting to re-initialize logging with existing events
2025-05-26T22:31:46.318Z: Initializing sensor logging service
2025-05-26T22:31:46.318Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-26T22:31:46.319Z: Using existing log file
2025-05-26T22:31:46.318Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-26T22:31:46.318Z: Setting spaceId column 8 to 41413915
2025-05-26T22:31:46.318Z: Setting column 3 (living room motion) to true
2025-05-26T22:31:46.318Z: Setting column 1 (living room temperature) to 24.2
2025-05-26T22:31:46.318Z: Setting column 2 (living room humidity) to 51.9
2025-05-26T22:31:46.318Z: Setting column 4 (light_state) to false
2025-05-26T22:31:46.318Z: Setting column 5 (ac_state) to true
2025-05-26T22:31:46.318Z: Setting column 6 (targetTemperature) to 20
2025-05-26T22:31:46.318Z: Setting column 7 (targetAcMode) to cool
2025-05-26T22:31:46.318Z: Preparing row: 2025-05-26 22:31:46,24.2,51.9,true,false,true,20,cool,41413915
2025-05-26T22:31:46.318Z: Successfully wrote to log file using writeFileSync
2025-05-26T22:31:46.317Z: Successfully logged combined sensor data in one row with target temperature: 20 and target mode: cool
2025-05-26T22:31:46.322Z: Initial combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-26T22:31:46.323Z: Logging enabled
2025-05-26T22:31:46.318Z: Re-initialization result: {"success":true,"message":"Sensor logging initialized to C:\\Users\\amin\\Desktop\\smart-space\\SmartSchool-Server\\logs\\sensor_data.csv","columns":[["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]}
2025-05-26T22:31:45.562Z: Received sensor data: {"temperature":24.2,"humidity":51.9}
2025-05-26T22:31:45.562Z: Formatted events: [{"name":"living room temperature","value":24.2,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":51.9,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T22:31:45.562Z: Successfully updated event: living room temperature = 24.2
2025-05-26T22:31:45.562Z: Successfully updated event: living room humidity = 51.9
2025-05-26T22:31:46.432Z: Initial poll - AC on: true, target temp: 20, target mode: cool
2025-05-26T22:31:46.432Z: Creating a combined row with motion=true, temp=24.2, humidity=51.9, light=false, ac_on=true, target_temp=20, target_mode=cool
2025-05-26T22:31:46.433Z: logSensorData called with 7 sensors
2025-05-26T22:31:46.433Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-26T22:31:46.433Z: Setting spaceId column 8 to 41413915
2025-05-26T22:31:46.433Z: Setting column 3 (living room motion) to true
2025-05-26T22:31:46.433Z: Setting column 1 (living room temperature) to 24.2
2025-05-26T22:31:46.433Z: Setting column 2 (living room humidity) to 51.9
2025-05-26T22:31:46.433Z: Setting column 4 (light_state) to false
2025-05-26T22:31:46.433Z: Setting column 5 (ac_state) to true
2025-05-26T22:31:46.433Z: Setting column 6 (targetTemperature) to 20
2025-05-26T22:31:46.433Z: Setting column 7 (targetAcMode) to cool
2025-05-26T22:31:46.433Z: Preparing row: 2025-05-26 22:31:46,24.2,51.9,true,false,true,20,cool,41413915
2025-05-26T22:31:46.433Z: Successfully wrote to log file using writeFileSync
2025-05-26T22:31:46.432Z: Successfully logged combined sensor data in one row with target temperature: 20 and target mode: cool
2025-05-26T22:31:46.435Z: Initial combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-26T22:31:52.899Z: Initializing sensor logging service
2025-05-26T22:31:52.899Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-26T22:31:52.900Z: Added light_state column to event names
2025-05-26T22:31:52.900Z: Added ac_state column to event names
2025-05-26T22:31:52.902Z: Added ac_state column to event names
2025-05-26T22:31:52.902Z: Added targetAcMode column to event names
2025-05-26T22:31:52.902Z: Using existing log file
2025-05-26T22:31:52.904Z: Logging enabled
2025-05-26T22:31:52.905Z: No polling was active to stop
2025-05-26T22:31:52.905Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-05-26T22:31:52.905Z: Polling interval set with ID: 934
2025-05-26T22:31:52.906Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T22:31:52.907Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T22:31:52.924Z: Initializing sensor logging service
2025-05-26T22:31:52.924Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-26T22:31:52.925Z: Added light_state column to event names
2025-05-26T22:31:52.925Z: Added ac_state column to event names
2025-05-26T22:31:52.925Z: Added ac_state column to event names
2025-05-26T22:31:52.926Z: Added targetAcMode column to event names
2025-05-26T22:31:52.926Z: Using existing log file
2025-05-26T22:31:52.929Z: Closing existing log stream before creating new one
2025-05-26T22:31:52.930Z: Logging enabled
2025-05-26T22:31:52.930Z: Stopping sensor polling interval: 934
2025-05-26T22:31:52.930Z: Closing logging service
2025-05-26T22:31:52.931Z: Closing sensor logging service
2025-05-26T22:31:52.931Z: Closing log stream
2025-05-26T22:31:52.931Z: Logging stopped at 2025-05-26T22:31:52.931Z
2025-05-26T22:31:52.932Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-05-26T22:31:52.932Z: Polling interval set with ID: 1038
2025-05-26T22:31:52.932Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T22:31:52.933Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T22:31:52.907Z: Received motion sensor data: {"motionDetected":true}
2025-05-26T22:31:52.907Z: Formatted motion sensor events: [{"name":"living room motion","value":true,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T22:31:52.907Z: Successfully updated motion event: living room motion = true
2025-05-26T22:31:52.933Z: Received motion sensor data: {"motionDetected":true}
2025-05-26T22:31:52.933Z: Formatted motion sensor events: [{"name":"living room motion","value":true,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T22:31:52.933Z: Successfully updated motion event: living room motion = true
2025-05-26T22:31:52.906Z: ERROR - No sensor data received from Sensibo
2025-05-26T22:31:53.717Z: Initial poll - AC on: false, target temp: N/A, target mode: N/A
2025-05-26T22:31:53.717Z: Creating a combined row with motion=true, temp=null, humidity=null, light=false, ac_on=false, target_temp=N/A, target_mode=N/A
2025-05-26T22:31:53.718Z: logSensorData called with 7 sensors
2025-05-26T22:31:53.718Z: WARNING - Logging is disabled but logSensorData was called
2025-05-26T22:31:53.718Z: Attempting to re-initialize logging with existing events
2025-05-26T22:31:53.718Z: Initializing sensor logging service
2025-05-26T22:31:53.718Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-26T22:31:53.720Z: Using existing log file
2025-05-26T22:31:53.718Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-26T22:31:53.718Z: Setting spaceId column 8 to 41413915
2025-05-26T22:31:53.718Z: Setting column 3 (living room motion) to true
2025-05-26T22:31:53.718Z: Setting column 1 (living room temperature) to null
2025-05-26T22:31:53.718Z: Setting column 2 (living room humidity) to null
2025-05-26T22:31:53.718Z: Setting column 4 (light_state) to false
2025-05-26T22:31:53.718Z: Setting column 5 (ac_state) to false
2025-05-26T22:31:53.718Z: Setting column 6 (targetTemperature) to N/A
2025-05-26T22:31:53.718Z: Setting column 7 (targetAcMode) to N/A
2025-05-26T22:31:53.718Z: Preparing row: 2025-05-26 22:31:53,,,true,false,false,N/A,N/A,41413915
2025-05-26T22:31:53.718Z: Successfully wrote to log file using writeFileSync
2025-05-26T22:31:53.717Z: Successfully logged combined sensor data in one row with target temperature: N/A and target mode: N/A
2025-05-26T22:31:53.723Z: Initial combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-26T22:31:53.725Z: Logging enabled
2025-05-26T22:31:53.718Z: Re-initialization result: {"success":true,"message":"Sensor logging initialized to C:\\Users\\amin\\Desktop\\smart-space\\SmartSchool-Server\\logs\\sensor_data.csv","columns":[["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]}
2025-05-26T22:31:52.932Z: ERROR - No sensor data received from Sensibo
2025-05-26T22:31:53.775Z: Initial poll - AC on: false, target temp: N/A, target mode: N/A
2025-05-26T22:31:53.775Z: Creating a combined row with motion=true, temp=null, humidity=null, light=false, ac_on=false, target_temp=N/A, target_mode=N/A
2025-05-26T22:31:53.775Z: logSensorData called with 7 sensors
2025-05-26T22:31:53.775Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-26T22:31:53.775Z: Setting spaceId column 8 to 41413915
2025-05-26T22:31:53.775Z: Setting column 3 (living room motion) to true
2025-05-26T22:31:53.775Z: Setting column 1 (living room temperature) to null
2025-05-26T22:31:53.775Z: Setting column 2 (living room humidity) to null
2025-05-26T22:31:53.775Z: Setting column 4 (light_state) to false
2025-05-26T22:31:53.775Z: Setting column 5 (ac_state) to false
2025-05-26T22:31:53.775Z: Setting column 6 (targetTemperature) to N/A
2025-05-26T22:31:53.775Z: Setting column 7 (targetAcMode) to N/A
2025-05-26T22:31:53.775Z: Preparing row: 2025-05-26 22:31:53,,,true,false,false,N/A,N/A,41413915
2025-05-26T22:31:53.775Z: Successfully wrote to log file using writeFileSync
2025-05-26T22:31:53.775Z: Successfully logged combined sensor data in one row with target temperature: N/A and target mode: N/A
2025-05-26T22:31:53.778Z: Initial combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-26T22:33:32.935Z: Polling for sensor data... (poll #1)
2025-05-26T22:33:32.936Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T22:33:32.936Z: Received sensor data: {"temperature":24.2,"humidity":52}
2025-05-26T22:33:32.936Z: Formatted events: [{"name":"living room temperature","value":24.2,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":52,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T22:33:32.936Z: Successfully updated event: living room temperature = 24.2
2025-05-26T22:33:32.936Z: Successfully updated event: living room humidity = 52
2025-05-26T22:33:33.532Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":24.2,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":52,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-26T22:33:33.533Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T22:33:33.533Z: Received motion sensor data: {"motionDetected":true}
2025-05-26T22:33:33.533Z: Formatted motion sensor events: [{"name":"living room motion","value":true,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T22:33:33.533Z: Successfully updated motion event: living room motion = true
2025-05-26T22:33:33.705Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":true,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-26T22:33:34.237Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":false,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-26T22:33:32.677155Z"}}
2025-05-26T22:33:34.238Z: Extracted AC on state: false, target temperature: N/A, target mode: N/A
2025-05-26T22:33:34.668Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":false},"success":true}
2025-05-26T22:33:34.668Z: Extracted light state: false
2025-05-26T22:33:34.669Z: Creating a combined row with motion=true, temp=24.2, humidity=52, light=false, ac_on=false, target_temp=N/A, target_mode=N/A
2025-05-26T22:33:34.669Z: logSensorData called with 7 sensors
2025-05-26T22:33:34.669Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-26T22:33:34.669Z: Setting spaceId column 8 to 41413915
2025-05-26T22:33:34.669Z: Setting column 3 (living room motion) to true
2025-05-26T22:33:34.669Z: Setting column 1 (living room temperature) to 24.2
2025-05-26T22:33:34.669Z: Setting column 2 (living room humidity) to 52
2025-05-26T22:33:34.669Z: Setting column 4 (light_state) to false
2025-05-26T22:33:34.669Z: Setting column 5 (ac_state) to false
2025-05-26T22:33:34.669Z: Setting column 6 (targetTemperature) to N/A
2025-05-26T22:33:34.669Z: Setting column 7 (targetAcMode) to N/A
2025-05-26T22:33:34.669Z: Preparing row: 2025-05-26 22:33:34,24.2,52,true,false,false,N/A,N/A,41413915
2025-05-26T22:33:34.669Z: Successfully wrote to log file using writeFileSync
2025-05-26T22:33:34.669Z: Successfully logged combined sensor data in one row with target temperature: N/A and target mode: N/A
2025-05-26T22:33:34.673Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-26T22:33:34.673Z: Polling interval active: true
2025-05-26T22:35:12.942Z: Polling for sensor data... (poll #2)
2025-05-26T22:35:12.943Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T22:35:12.943Z: Received sensor data: {"temperature":24.2,"humidity":52}
2025-05-26T22:35:12.943Z: Formatted events: [{"name":"living room temperature","value":24.2,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":52,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T22:35:12.943Z: Successfully updated event: living room temperature = 24.2
2025-05-26T22:35:12.943Z: Successfully updated event: living room humidity = 52
2025-05-26T22:35:13.518Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":24.2,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":52,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-26T22:35:13.518Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T22:35:13.518Z: Received motion sensor data: {"motionDetected":false}
2025-05-26T22:35:13.518Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T22:35:13.518Z: Successfully updated motion event: living room motion = false
2025-05-26T22:35:13.679Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-26T22:35:14.228Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":false,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-26T22:35:12.684074Z"}}
2025-05-26T22:35:14.228Z: Extracted AC on state: false, target temperature: N/A, target mode: N/A
2025-05-26T22:35:14.567Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":true},"success":true}
2025-05-26T22:35:14.568Z: Extracted light state: true
2025-05-26T22:35:14.568Z: Creating a combined row with motion=false, temp=24.2, humidity=52, light=true, ac_on=false, target_temp=N/A, target_mode=N/A
2025-05-26T22:35:14.568Z: logSensorData called with 7 sensors
2025-05-26T22:35:14.568Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-26T22:35:14.568Z: Setting spaceId column 8 to 41413915
2025-05-26T22:35:14.568Z: Setting column 3 (living room motion) to false
2025-05-26T22:35:14.568Z: Setting column 1 (living room temperature) to 24.2
2025-05-26T22:35:14.568Z: Setting column 2 (living room humidity) to 52
2025-05-26T22:35:14.568Z: Setting column 4 (light_state) to true
2025-05-26T22:35:14.568Z: Setting column 5 (ac_state) to false
2025-05-26T22:35:14.568Z: Setting column 6 (targetTemperature) to N/A
2025-05-26T22:35:14.568Z: Setting column 7 (targetAcMode) to N/A
2025-05-26T22:35:14.568Z: Preparing row: 2025-05-26 22:35:14,24.2,52,false,true,false,N/A,N/A,41413915
2025-05-26T22:35:14.568Z: Successfully wrote to log file using writeFileSync
2025-05-26T22:35:14.568Z: Successfully logged combined sensor data in one row with target temperature: N/A and target mode: N/A
2025-05-26T22:35:14.571Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-26T22:35:14.571Z: Polling interval active: true
2025-05-26T22:36:52.955Z: Polling for sensor data... (poll #3)
2025-05-26T22:36:52.956Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T22:36:52.956Z: Received sensor data: {"temperature":24.2,"humidity":52.3}
2025-05-26T22:36:52.956Z: Formatted events: [{"name":"living room temperature","value":24.2,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":52.3,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T22:36:52.956Z: Successfully updated event: living room temperature = 24.2
2025-05-26T22:36:52.956Z: Successfully updated event: living room humidity = 52.3
2025-05-26T22:36:53.566Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":24.2,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":52.3,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-26T22:36:53.566Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-26T22:36:53.566Z: Received motion sensor data: {"motionDetected":false}
2025-05-26T22:36:53.566Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-26T22:36:53.566Z: Successfully updated motion event: living room motion = false
2025-05-26T22:36:53.725Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-26T22:36:54.292Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":false,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-26T22:36:52.750674Z"}}
2025-05-26T22:36:54.293Z: Extracted AC on state: false, target temperature: N/A, target mode: N/A
2025-05-26T22:36:54.617Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":true},"success":true}
2025-05-26T22:36:54.617Z: Extracted light state: true
2025-05-26T22:36:54.618Z: Creating a combined row with motion=false, temp=24.2, humidity=52.3, light=true, ac_on=false, target_temp=N/A, target_mode=N/A
2025-05-26T22:36:54.619Z: logSensorData called with 7 sensors
2025-05-26T22:36:54.619Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-26T22:36:54.619Z: Setting spaceId column 8 to 41413915
2025-05-26T22:36:54.619Z: Setting column 3 (living room motion) to false
2025-05-26T22:36:54.619Z: Setting column 1 (living room temperature) to 24.2
2025-05-26T22:36:54.619Z: Setting column 2 (living room humidity) to 52.3
2025-05-26T22:36:54.619Z: Setting column 4 (light_state) to true
2025-05-26T22:36:54.619Z: Setting column 5 (ac_state) to false
2025-05-26T22:36:54.619Z: Setting column 6 (targetTemperature) to N/A
2025-05-26T22:36:54.619Z: Setting column 7 (targetAcMode) to N/A
2025-05-26T22:36:54.619Z: Preparing row: 2025-05-26 22:36:54,24.2,52.3,false,true,false,N/A,N/A,41413915
2025-05-26T22:36:54.619Z: Successfully wrote to log file using writeFileSync
2025-05-26T22:36:54.618Z: Successfully logged combined sensor data in one row with target temperature: N/A and target mode: N/A
2025-05-26T22:36:54.622Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-26T22:36:54.623Z: Polling interval active: true
2025-05-27T08:18:23.981Z: Initializing sensor logging service
2025-05-27T08:18:23.983Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-27T08:18:23.983Z: Added light_state column to event names
2025-05-27T08:18:23.984Z: Added ac_state column to event names
2025-05-27T08:18:23.984Z: Added ac_state column to event names
2025-05-27T08:18:23.985Z: Added targetAcMode column to event names
2025-05-27T08:18:23.985Z: Using existing log file
2025-05-27T08:18:23.987Z: Logging enabled
2025-05-27T08:18:23.987Z: No polling was active to stop
2025-05-27T08:18:23.988Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-05-27T08:18:23.988Z: Polling interval set with ID: 931
2025-05-27T08:18:23.989Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-27T08:18:23.990Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-27T08:18:24.036Z: Initializing sensor logging service
2025-05-27T08:18:24.036Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-27T08:18:24.037Z: Added light_state column to event names
2025-05-27T08:18:24.038Z: Added ac_state column to event names
2025-05-27T08:18:24.038Z: Added ac_state column to event names
2025-05-27T08:18:24.038Z: Added targetAcMode column to event names
2025-05-27T08:18:24.039Z: Using existing log file
2025-05-27T08:18:24.041Z: Closing existing log stream before creating new one
2025-05-27T08:18:24.041Z: Logging enabled
2025-05-27T08:18:24.041Z: Stopping sensor polling interval: 931
2025-05-27T08:18:24.041Z: Closing logging service
2025-05-27T08:18:24.042Z: Closing sensor logging service
2025-05-27T08:18:24.042Z: Closing log stream
2025-05-27T08:18:24.042Z: Logging stopped at 2025-05-27T08:18:24.042Z
2025-05-27T08:18:24.043Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-05-27T08:18:24.043Z: Polling interval set with ID: 1033
2025-05-27T08:18:24.044Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-27T08:18:24.044Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-27T08:18:23.990Z: Received motion sensor data: {"motionDetected":false}
2025-05-27T08:18:23.990Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-27T08:18:23.990Z: Successfully updated motion event: living room motion = false
2025-05-27T08:18:24.044Z: Received motion sensor data: {"motionDetected":false}
2025-05-27T08:18:24.044Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-27T08:18:24.044Z: Successfully updated motion event: living room motion = false
2025-05-27T08:18:23.989Z: Received sensor data: {"temperature":23.5,"humidity":63}
2025-05-27T08:18:23.989Z: Formatted events: [{"name":"living room temperature","value":23.5,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":63,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-27T08:18:23.989Z: Successfully updated event: living room temperature = 23.5
2025-05-27T08:18:23.989Z: Successfully updated event: living room humidity = 63
2025-05-27T08:18:24.891Z: Initial poll - AC on: false, target temp: N/A, target mode: N/A
2025-05-27T08:18:24.892Z: Creating a combined row with motion=false, temp=23.5, humidity=63, light=true, ac_on=false, target_temp=N/A, target_mode=N/A
2025-05-27T08:18:24.893Z: logSensorData called with 7 sensors
2025-05-27T08:18:24.893Z: WARNING - Logging is disabled but logSensorData was called
2025-05-27T08:18:24.893Z: Attempting to re-initialize logging with existing events
2025-05-27T08:18:24.895Z: Initializing sensor logging service
2025-05-27T08:18:24.896Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-27T08:18:24.899Z: Using existing log file
2025-05-27T08:18:24.893Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-27T08:18:24.893Z: Setting spaceId column 8 to 41413915
2025-05-27T08:18:24.893Z: Setting column 3 (living room motion) to false
2025-05-27T08:18:24.893Z: Setting column 1 (living room temperature) to 23.5
2025-05-27T08:18:24.893Z: Setting column 2 (living room humidity) to 63
2025-05-27T08:18:24.893Z: Setting column 4 (light_state) to true
2025-05-27T08:18:24.893Z: Setting column 5 (ac_state) to false
2025-05-27T08:18:24.893Z: Setting column 6 (targetTemperature) to N/A
2025-05-27T08:18:24.893Z: Setting column 7 (targetAcMode) to N/A
2025-05-27T08:18:24.893Z: Preparing row: 2025-05-27 08:18:24,23.5,63,false,true,false,N/A,N/A,41413915
2025-05-27T08:18:24.893Z: Successfully wrote to log file using writeFileSync
2025-05-27T08:18:24.892Z: Successfully logged combined sensor data in one row with target temperature: N/A and target mode: N/A
2025-05-27T08:18:24.903Z: Initial combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-27T08:18:24.904Z: Logging enabled
2025-05-27T08:18:24.893Z: Re-initialization result: {"success":true,"message":"Sensor logging initialized to C:\\Users\\amin\\Desktop\\smart-space\\SmartSchool-Server\\logs\\sensor_data.csv","columns":[["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]}
2025-05-27T08:18:24.044Z: Received sensor data: {"temperature":23.5,"humidity":63}
2025-05-27T08:18:24.044Z: Formatted events: [{"name":"living room temperature","value":23.5,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":63,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-27T08:18:24.044Z: Successfully updated event: living room temperature = 23.5
2025-05-27T08:18:24.044Z: Successfully updated event: living room humidity = 63
2025-05-27T08:18:24.969Z: Initial poll - AC on: false, target temp: N/A, target mode: N/A
2025-05-27T08:18:24.970Z: Creating a combined row with motion=false, temp=23.5, humidity=63, light=true, ac_on=false, target_temp=N/A, target_mode=N/A
2025-05-27T08:18:24.970Z: logSensorData called with 7 sensors
2025-05-27T08:18:24.970Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-27T08:18:24.970Z: Setting spaceId column 8 to 41413915
2025-05-27T08:18:24.970Z: Setting column 3 (living room motion) to false
2025-05-27T08:18:24.970Z: Setting column 1 (living room temperature) to 23.5
2025-05-27T08:18:24.970Z: Setting column 2 (living room humidity) to 63
2025-05-27T08:18:24.970Z: Setting column 4 (light_state) to true
2025-05-27T08:18:24.970Z: Setting column 5 (ac_state) to false
2025-05-27T08:18:24.970Z: Setting column 6 (targetTemperature) to N/A
2025-05-27T08:18:24.970Z: Setting column 7 (targetAcMode) to N/A
2025-05-27T08:18:24.970Z: Preparing row: 2025-05-27 08:18:24,23.5,63,false,true,false,N/A,N/A,41413915
2025-05-27T08:18:24.970Z: Successfully wrote to log file using writeFileSync
2025-05-27T08:18:24.970Z: Successfully logged combined sensor data in one row with target temperature: N/A and target mode: N/A
2025-05-27T08:18:24.974Z: Initial combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-27T08:20:04.045Z: Polling for sensor data... (poll #1)
2025-05-27T08:20:04.046Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-27T08:20:04.046Z: Received sensor data: {"temperature":23.6,"humidity":63}
2025-05-27T08:20:04.046Z: Formatted events: [{"name":"living room temperature","value":23.6,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":63,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-27T08:20:04.046Z: Successfully updated event: living room temperature = 23.6
2025-05-27T08:20:04.046Z: Successfully updated event: living room humidity = 63
2025-05-27T08:20:04.624Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":23.6,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":63,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-27T08:20:04.624Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-27T08:20:04.624Z: Received motion sensor data: {"motionDetected":false}
2025-05-27T08:20:04.624Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-27T08:20:04.624Z: Successfully updated motion event: living room motion = false
2025-05-27T08:20:04.809Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-27T08:20:05.412Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":false,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-27T08:20:05.328908Z"}}
2025-05-27T08:20:05.413Z: Extracted AC on state: false, target temperature: N/A, target mode: N/A
2025-05-27T08:20:05.757Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":true},"success":true}
2025-05-27T08:20:05.758Z: Extracted light state: true
2025-05-27T08:20:05.759Z: Creating a combined row with motion=false, temp=23.6, humidity=63, light=true, ac_on=false, target_temp=N/A, target_mode=N/A
2025-05-27T08:20:05.760Z: logSensorData called with 7 sensors
2025-05-27T08:20:05.760Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-27T08:20:05.760Z: Setting spaceId column 8 to 41413915
2025-05-27T08:20:05.760Z: Setting column 3 (living room motion) to false
2025-05-27T08:20:05.760Z: Setting column 1 (living room temperature) to 23.6
2025-05-27T08:20:05.760Z: Setting column 2 (living room humidity) to 63
2025-05-27T08:20:05.760Z: Setting column 4 (light_state) to true
2025-05-27T08:20:05.760Z: Setting column 5 (ac_state) to false
2025-05-27T08:20:05.760Z: Setting column 6 (targetTemperature) to N/A
2025-05-27T08:20:05.760Z: Setting column 7 (targetAcMode) to N/A
2025-05-27T08:20:05.760Z: Preparing row: 2025-05-27 08:20:05,23.6,63,false,true,false,N/A,N/A,41413915
2025-05-27T08:20:05.760Z: Successfully wrote to log file using writeFileSync
2025-05-27T08:20:05.759Z: Successfully logged combined sensor data in one row with target temperature: N/A and target mode: N/A
2025-05-27T08:20:05.766Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-27T08:20:05.766Z: Polling interval active: true
2025-05-27T08:21:21.804Z: Initializing sensor logging service
2025-05-27T08:21:21.805Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-27T08:21:21.806Z: Added light_state column to event names
2025-05-27T08:21:21.806Z: Added ac_state column to event names
2025-05-27T08:21:21.806Z: Added ac_state column to event names
2025-05-27T08:21:21.807Z: Added targetAcMode column to event names
2025-05-27T08:21:21.807Z: Using existing log file
2025-05-27T08:21:21.808Z: Logging enabled
2025-05-27T08:21:21.809Z: No polling was active to stop
2025-05-27T08:21:21.810Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-05-27T08:21:21.810Z: Polling interval set with ID: 931
2025-05-27T08:21:21.811Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-27T08:21:21.811Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-27T08:21:21.850Z: Initializing sensor logging service
2025-05-27T08:21:21.850Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-27T08:21:21.850Z: Added light_state column to event names
2025-05-27T08:21:21.851Z: Added ac_state column to event names
2025-05-27T08:21:21.851Z: Added ac_state column to event names
2025-05-27T08:21:21.851Z: Added targetAcMode column to event names
2025-05-27T08:21:21.852Z: Using existing log file
2025-05-27T08:21:21.853Z: Closing existing log stream before creating new one
2025-05-27T08:21:21.854Z: Logging enabled
2025-05-27T08:21:21.854Z: Stopping sensor polling interval: 931
2025-05-27T08:21:21.854Z: Closing logging service
2025-05-27T08:21:21.854Z: Closing sensor logging service
2025-05-27T08:21:21.854Z: Closing log stream
2025-05-27T08:21:21.854Z: Logging stopped at 2025-05-27T08:21:21.854Z
2025-05-27T08:21:21.855Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-05-27T08:21:21.855Z: Polling interval set with ID: 1030
2025-05-27T08:21:21.856Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-27T08:21:21.856Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-27T08:21:21.811Z: Received motion sensor data: {"motionDetected":true}
2025-05-27T08:21:21.811Z: Formatted motion sensor events: [{"name":"living room motion","value":true,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-27T08:21:21.811Z: Successfully updated motion event: living room motion = true
2025-05-27T08:21:21.856Z: Received motion sensor data: {"motionDetected":true}
2025-05-27T08:21:21.856Z: Formatted motion sensor events: [{"name":"living room motion","value":true,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-27T08:21:21.856Z: Successfully updated motion event: living room motion = true
2025-05-27T08:21:21.811Z: Received sensor data: {"temperature":23.6,"humidity":62.6}
2025-05-27T08:21:21.811Z: Formatted events: [{"name":"living room temperature","value":23.6,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":62.6,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-27T08:21:21.811Z: Successfully updated event: living room temperature = 23.6
2025-05-27T08:21:21.811Z: Successfully updated event: living room humidity = 62.6
2025-05-27T08:21:21.856Z: Received sensor data: {"temperature":23.6,"humidity":62.6}
2025-05-27T08:21:21.856Z: Formatted events: [{"name":"living room temperature","value":23.6,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":62.6,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-27T08:21:21.856Z: Successfully updated event: living room temperature = 23.6
2025-05-27T08:21:21.856Z: Successfully updated event: living room humidity = 62.6
2025-05-27T08:21:22.711Z: Initial poll - AC on: false, target temp: N/A, target mode: N/A
2025-05-27T08:21:22.711Z: Creating a combined row with motion=true, temp=23.6, humidity=62.6, light=true, ac_on=false, target_temp=N/A, target_mode=N/A
2025-05-27T08:21:22.712Z: logSensorData called with 7 sensors
2025-05-27T08:21:22.712Z: WARNING - Logging is disabled but logSensorData was called
2025-05-27T08:21:22.712Z: Attempting to re-initialize logging with existing events
2025-05-27T08:21:22.712Z: Initializing sensor logging service
2025-05-27T08:21:22.713Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-27T08:21:22.714Z: Using existing log file
2025-05-27T08:21:22.712Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-27T08:21:22.712Z: Setting spaceId column 8 to 41413915
2025-05-27T08:21:22.712Z: Setting column 3 (living room motion) to true
2025-05-27T08:21:22.712Z: Setting column 1 (living room temperature) to 23.6
2025-05-27T08:21:22.712Z: Setting column 2 (living room humidity) to 62.6
2025-05-27T08:21:22.712Z: Setting column 4 (light_state) to true
2025-05-27T08:21:22.712Z: Setting column 5 (ac_state) to false
2025-05-27T08:21:22.712Z: Setting column 6 (targetTemperature) to N/A
2025-05-27T08:21:22.712Z: Setting column 7 (targetAcMode) to N/A
2025-05-27T08:21:22.712Z: Preparing row: 2025-05-27 08:21:22,23.6,62.6,true,true,false,N/A,N/A,41413915
2025-05-27T08:21:22.712Z: Successfully wrote to log file using writeFileSync
2025-05-27T08:21:22.711Z: Successfully logged combined sensor data in one row with target temperature: N/A and target mode: N/A
2025-05-27T08:21:22.716Z: Initial combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-27T08:21:22.717Z: Logging enabled
2025-05-27T08:21:22.712Z: Re-initialization result: {"success":true,"message":"Sensor logging initialized to C:\\Users\\amin\\Desktop\\smart-space\\SmartSchool-Server\\logs\\sensor_data.csv","columns":[["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]}
2025-05-27T08:21:22.730Z: Initial poll - AC on: false, target temp: N/A, target mode: N/A
2025-05-27T08:21:22.731Z: Creating a combined row with motion=true, temp=23.6, humidity=62.6, light=true, ac_on=false, target_temp=N/A, target_mode=N/A
2025-05-27T08:21:22.731Z: logSensorData called with 7 sensors
2025-05-27T08:21:22.731Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-27T08:21:22.731Z: Setting spaceId column 8 to 41413915
2025-05-27T08:21:22.731Z: Setting column 3 (living room motion) to true
2025-05-27T08:21:22.731Z: Setting column 1 (living room temperature) to 23.6
2025-05-27T08:21:22.731Z: Setting column 2 (living room humidity) to 62.6
2025-05-27T08:21:22.731Z: Setting column 4 (light_state) to true
2025-05-27T08:21:22.731Z: Setting column 5 (ac_state) to false
2025-05-27T08:21:22.731Z: Setting column 6 (targetTemperature) to N/A
2025-05-27T08:21:22.731Z: Setting column 7 (targetAcMode) to N/A
2025-05-27T08:21:22.731Z: Preparing row: 2025-05-27 08:21:22,23.6,62.6,true,true,false,N/A,N/A,41413915
2025-05-27T08:21:22.731Z: Successfully wrote to log file using writeFileSync
2025-05-27T08:21:22.731Z: Successfully logged combined sensor data in one row with target temperature: N/A and target mode: N/A
2025-05-27T08:21:22.733Z: Initial combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-27T08:21:59.711Z: Initializing sensor logging service
2025-05-27T08:21:59.712Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-27T08:21:59.712Z: Added light_state column to event names
2025-05-27T08:21:59.713Z: Added ac_state column to event names
2025-05-27T08:21:59.713Z: Added ac_state column to event names
2025-05-27T08:21:59.713Z: Added targetAcMode column to event names
2025-05-27T08:21:59.713Z: Using existing log file
2025-05-27T08:21:59.716Z: Initializing sensor logging service
2025-05-27T08:21:59.717Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-27T08:21:59.717Z: Added light_state column to event names
2025-05-27T08:21:59.717Z: Added ac_state column to event names
2025-05-27T08:21:59.718Z: Added ac_state column to event names
2025-05-27T08:21:59.718Z: Added targetAcMode column to event names
2025-05-27T08:21:59.719Z: Using existing log file
2025-05-27T08:21:59.720Z: Logging enabled
2025-05-27T08:21:59.721Z: No polling was active to stop
2025-05-27T08:21:59.721Z: Closing existing log stream before creating new one
2025-05-27T08:21:59.721Z: Logging enabled
2025-05-27T08:21:59.721Z: No polling was active to stop
2025-05-27T08:21:59.722Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-05-27T08:21:59.722Z: Polling interval set with ID: 1038
2025-05-27T08:21:59.723Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-27T08:21:59.723Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-27T08:21:59.726Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-05-27T08:21:59.726Z: Clearing existing polling interval
2025-05-27T08:21:59.726Z: Polling interval set with ID: 1052
2025-05-27T08:21:59.726Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-27T08:21:59.727Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-27T08:21:59.723Z: Received motion sensor data: {"motionDetected":false}
2025-05-27T08:21:59.723Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-27T08:21:59.723Z: Successfully updated motion event: living room motion = false
2025-05-27T08:21:59.727Z: Received motion sensor data: {"motionDetected":false}
2025-05-27T08:21:59.727Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-27T08:21:59.727Z: Successfully updated motion event: living room motion = false
2025-05-27T08:21:59.723Z: Received sensor data: {"temperature":23.6,"humidity":62.6}
2025-05-27T08:21:59.723Z: Formatted events: [{"name":"living room temperature","value":23.6,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":62.6,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-27T08:21:59.723Z: Successfully updated event: living room temperature = 23.6
2025-05-27T08:21:59.723Z: Successfully updated event: living room humidity = 62.6
2025-05-27T08:21:59.726Z: Received sensor data: {"temperature":23.6,"humidity":62.6}
2025-05-27T08:21:59.726Z: Formatted events: [{"name":"living room temperature","value":23.6,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":62.6,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-27T08:21:59.726Z: Successfully updated event: living room temperature = 23.6
2025-05-27T08:21:59.726Z: Successfully updated event: living room humidity = 62.6
2025-05-27T08:22:00.527Z: Initial poll - AC on: false, target temp: N/A, target mode: N/A
2025-05-27T08:22:00.528Z: Creating a combined row with motion=false, temp=23.6, humidity=62.6, light=true, ac_on=false, target_temp=N/A, target_mode=N/A
2025-05-27T08:22:00.529Z: logSensorData called with 7 sensors
2025-05-27T08:22:00.529Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-27T08:22:00.529Z: Setting spaceId column 8 to 41413915
2025-05-27T08:22:00.529Z: Setting column 3 (living room motion) to false
2025-05-27T08:22:00.529Z: Setting column 1 (living room temperature) to 23.6
2025-05-27T08:22:00.529Z: Setting column 2 (living room humidity) to 62.6
2025-05-27T08:22:00.529Z: Setting column 4 (light_state) to true
2025-05-27T08:22:00.529Z: Setting column 5 (ac_state) to false
2025-05-27T08:22:00.529Z: Setting column 6 (targetTemperature) to N/A
2025-05-27T08:22:00.529Z: Setting column 7 (targetAcMode) to N/A
2025-05-27T08:22:00.529Z: Preparing row: 2025-05-27 08:22:00,23.6,62.6,false,true,false,N/A,N/A,41413915
2025-05-27T08:22:00.529Z: Successfully wrote to log file using writeFileSync
2025-05-27T08:22:00.528Z: Successfully logged combined sensor data in one row with target temperature: N/A and target mode: N/A
2025-05-27T08:22:00.534Z: Initial combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-27T08:22:00.535Z: Initial poll - AC on: false, target temp: N/A, target mode: N/A
2025-05-27T08:22:00.535Z: Creating a combined row with motion=false, temp=23.6, humidity=62.6, light=true, ac_on=false, target_temp=N/A, target_mode=N/A
2025-05-27T08:22:00.535Z: logSensorData called with 7 sensors
2025-05-27T08:22:00.535Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-27T08:22:00.535Z: Setting spaceId column 8 to 41413915
2025-05-27T08:22:00.535Z: Setting column 3 (living room motion) to false
2025-05-27T08:22:00.535Z: Setting column 1 (living room temperature) to 23.6
2025-05-27T08:22:00.535Z: Setting column 2 (living room humidity) to 62.6
2025-05-27T08:22:00.535Z: Setting column 4 (light_state) to true
2025-05-27T08:22:00.535Z: Setting column 5 (ac_state) to false
2025-05-27T08:22:00.535Z: Setting column 6 (targetTemperature) to N/A
2025-05-27T08:22:00.535Z: Setting column 7 (targetAcMode) to N/A
2025-05-27T08:22:00.535Z: Preparing row: 2025-05-27 08:22:00,23.6,62.6,false,true,false,N/A,N/A,41413915
2025-05-27T08:22:00.535Z: Successfully wrote to log file using writeFileSync
2025-05-27T08:22:00.535Z: Successfully logged combined sensor data in one row with target temperature: N/A and target mode: N/A
2025-05-27T08:22:00.538Z: Initial combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-27T08:27:08.430Z: Initializing sensor logging service
2025-05-27T08:27:08.431Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-27T08:27:08.432Z: Added light_state column to event names
2025-05-27T08:27:08.432Z: Added ac_state column to event names
2025-05-27T08:27:08.433Z: Added ac_state column to event names
2025-05-27T08:27:08.433Z: Added targetAcMode column to event names
2025-05-27T08:27:08.433Z: Using existing log file
2025-05-27T08:27:08.435Z: Logging enabled
2025-05-27T08:27:08.436Z: No polling was active to stop
2025-05-27T08:27:08.437Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-05-27T08:27:08.437Z: Polling interval set with ID: 1012
2025-05-27T08:27:08.437Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-27T08:27:08.438Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-27T08:27:08.438Z: Received motion sensor data: {"motionDetected":false}
2025-05-27T08:27:08.438Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-27T08:27:08.438Z: Successfully updated motion event: living room motion = false
2025-05-27T08:27:08.437Z: Received sensor data: {"temperature":23.6,"humidity":62.6}
2025-05-27T08:27:08.437Z: Formatted events: [{"name":"living room temperature","value":23.6,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":62.6,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-27T08:27:08.437Z: Successfully updated event: living room temperature = 23.6
2025-05-27T08:27:08.437Z: Successfully updated event: living room humidity = 62.6
2025-05-27T08:27:09.304Z: Initial poll - AC on: false, target temp: N/A, target mode: N/A
2025-05-27T08:27:09.306Z: Creating a combined row with motion=false, temp=23.6, humidity=62.6, light=true, ac_on=false, target_temp=N/A, target_mode=N/A
2025-05-27T08:27:09.307Z: logSensorData called with 7 sensors
2025-05-27T08:27:09.307Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-27T08:27:09.307Z: Setting spaceId column 8 to 41413915
2025-05-27T08:27:09.307Z: Setting column 3 (living room motion) to false
2025-05-27T08:27:09.307Z: Setting column 1 (living room temperature) to 23.6
2025-05-27T08:27:09.307Z: Setting column 2 (living room humidity) to 62.6
2025-05-27T08:27:09.307Z: Setting column 4 (light_state) to true
2025-05-27T08:27:09.307Z: Setting column 5 (ac_state) to false
2025-05-27T08:27:09.307Z: Setting column 6 (targetTemperature) to N/A
2025-05-27T08:27:09.307Z: Setting column 7 (targetAcMode) to N/A
2025-05-27T08:27:09.307Z: Preparing row: 2025-05-27 08:27:09,23.6,62.6,false,true,false,N/A,N/A,41413915
2025-05-27T08:27:09.307Z: Successfully wrote to log file using writeFileSync
2025-05-27T08:27:09.306Z: Successfully logged combined sensor data in one row with target temperature: N/A and target mode: N/A
2025-05-27T08:27:09.313Z: Initial combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-27T08:27:09.420Z: Initializing sensor logging service
2025-05-27T08:27:09.421Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-27T08:27:09.422Z: Added light_state column to event names
2025-05-27T08:27:09.423Z: Added ac_state column to event names
2025-05-27T08:27:09.423Z: Added ac_state column to event names
2025-05-27T08:27:09.423Z: Added targetAcMode column to event names
2025-05-27T08:27:09.424Z: Using existing log file
2025-05-27T08:27:09.425Z: Closing existing log stream before creating new one
2025-05-27T08:27:09.425Z: Logging enabled
2025-05-27T08:27:09.426Z: Stopping sensor polling interval: 1012
2025-05-27T08:27:09.426Z: Closing logging service
2025-05-27T08:27:09.427Z: Closing sensor logging service
2025-05-27T08:27:09.427Z: Closing log stream
2025-05-27T08:27:09.427Z: Logging stopped at 2025-05-27T08:27:09.427Z
2025-05-27T08:27:09.428Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-05-27T08:27:09.428Z: Polling interval set with ID: 1252
2025-05-27T08:27:09.428Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-27T08:27:09.429Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-27T08:27:09.429Z: Received motion sensor data: {"motionDetected":false}
2025-05-27T08:27:09.429Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-27T08:27:09.429Z: Successfully updated motion event: living room motion = false
2025-05-27T08:27:09.428Z: Received sensor data: {"temperature":23.6,"humidity":62.6}
2025-05-27T08:27:09.428Z: Formatted events: [{"name":"living room temperature","value":23.6,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":62.6,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-27T08:27:09.428Z: Successfully updated event: living room temperature = 23.6
2025-05-27T08:27:09.428Z: Successfully updated event: living room humidity = 62.6
2025-05-27T08:27:10.180Z: Initial poll - AC on: false, target temp: N/A, target mode: N/A
2025-05-27T08:27:10.180Z: Creating a combined row with motion=false, temp=23.6, humidity=62.6, light=true, ac_on=false, target_temp=N/A, target_mode=N/A
2025-05-27T08:27:10.181Z: logSensorData called with 7 sensors
2025-05-27T08:27:10.181Z: WARNING - Logging is disabled but logSensorData was called
2025-05-27T08:27:10.181Z: Attempting to re-initialize logging with existing events
2025-05-27T08:27:10.181Z: Initializing sensor logging service
2025-05-27T08:27:10.182Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-27T08:27:10.183Z: Using existing log file
2025-05-27T08:27:10.181Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-27T08:27:10.181Z: Setting spaceId column 8 to 41413915
2025-05-27T08:27:10.181Z: Setting column 3 (living room motion) to false
2025-05-27T08:27:10.181Z: Setting column 1 (living room temperature) to 23.6
2025-05-27T08:27:10.181Z: Setting column 2 (living room humidity) to 62.6
2025-05-27T08:27:10.181Z: Setting column 4 (light_state) to true
2025-05-27T08:27:10.181Z: Setting column 5 (ac_state) to false
2025-05-27T08:27:10.181Z: Setting column 6 (targetTemperature) to N/A
2025-05-27T08:27:10.181Z: Setting column 7 (targetAcMode) to N/A
2025-05-27T08:27:10.181Z: Preparing row: 2025-05-27 08:27:10,23.6,62.6,false,true,false,N/A,N/A,41413915
2025-05-27T08:27:10.181Z: Successfully wrote to log file using writeFileSync
2025-05-27T08:27:10.180Z: Successfully logged combined sensor data in one row with target temperature: N/A and target mode: N/A
2025-05-27T08:27:10.186Z: Initial combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-27T08:27:10.187Z: Logging enabled
2025-05-27T08:27:10.181Z: Re-initialization result: {"success":true,"message":"Sensor logging initialized to C:\\Users\\amin\\Desktop\\smart-space\\SmartSchool-Server\\logs\\sensor_data.csv","columns":[["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]}
2025-05-27T08:28:49.433Z: Polling for sensor data... (poll #1)
2025-05-27T08:28:49.435Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-27T08:28:49.435Z: Received sensor data: {"temperature":23.6,"humidity":63.2}
2025-05-27T08:28:49.435Z: Formatted events: [{"name":"living room temperature","value":23.6,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":63.2,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-27T08:28:49.435Z: Successfully updated event: living room temperature = 23.6
2025-05-27T08:28:49.435Z: Successfully updated event: living room humidity = 63.2
2025-05-27T08:28:49.977Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":23.6,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":63.2,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-27T08:28:49.978Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-27T08:28:49.978Z: Received motion sensor data: {"motionDetected":false}
2025-05-27T08:28:49.978Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-27T08:28:49.978Z: Successfully updated motion event: living room motion = false
2025-05-27T08:28:50.134Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-27T08:28:50.710Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":false,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-27T08:28:50.634035Z"}}
2025-05-27T08:28:50.710Z: Extracted AC on state: false, target temperature: N/A, target mode: N/A
2025-05-27T08:28:51.048Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":true},"success":true}
2025-05-27T08:28:51.050Z: Extracted light state: true
2025-05-27T08:28:51.051Z: Creating a combined row with motion=false, temp=23.6, humidity=63.2, light=true, ac_on=false, target_temp=N/A, target_mode=N/A
2025-05-27T08:28:51.052Z: logSensorData called with 7 sensors
2025-05-27T08:28:51.052Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-27T08:28:51.052Z: Setting spaceId column 8 to 41413915
2025-05-27T08:28:51.052Z: Setting column 3 (living room motion) to false
2025-05-27T08:28:51.052Z: Setting column 1 (living room temperature) to 23.6
2025-05-27T08:28:51.052Z: Setting column 2 (living room humidity) to 63.2
2025-05-27T08:28:51.052Z: Setting column 4 (light_state) to true
2025-05-27T08:28:51.052Z: Setting column 5 (ac_state) to false
2025-05-27T08:28:51.052Z: Setting column 6 (targetTemperature) to N/A
2025-05-27T08:28:51.052Z: Setting column 7 (targetAcMode) to N/A
2025-05-27T08:28:51.052Z: Preparing row: 2025-05-27 08:28:51,23.6,63.2,false,true,false,N/A,N/A,41413915
2025-05-27T08:28:51.052Z: Successfully wrote to log file using writeFileSync
2025-05-27T08:28:51.051Z: Successfully logged combined sensor data in one row with target temperature: N/A and target mode: N/A
2025-05-27T08:28:51.059Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-27T08:28:51.059Z: Polling interval active: true
2025-05-27T08:30:29.440Z: Polling for sensor data... (poll #2)
2025-05-27T08:30:29.442Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-27T08:30:29.442Z: Received sensor data: {"temperature":23.7,"humidity":63.1}
2025-05-27T08:30:29.442Z: Formatted events: [{"name":"living room temperature","value":23.7,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":63.1,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-27T08:30:29.442Z: Successfully updated event: living room temperature = 23.7
2025-05-27T08:30:29.442Z: Successfully updated event: living room humidity = 63.1
2025-05-27T08:30:30.103Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":23.7,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":63.1,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-27T08:30:30.103Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-27T08:30:30.103Z: Received motion sensor data: {"motionDetected":true}
2025-05-27T08:30:30.103Z: Formatted motion sensor events: [{"name":"living room motion","value":true,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-27T08:30:30.103Z: Successfully updated motion event: living room motion = true
2025-05-27T08:30:30.277Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":true,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-27T08:30:30.841Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":false,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-27T08:30:30.764597Z"}}
2025-05-27T08:30:30.842Z: Extracted AC on state: false, target temperature: N/A, target mode: N/A
2025-05-27T08:30:31.272Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":false},"success":true}
2025-05-27T08:30:31.274Z: Extracted light state: false
2025-05-27T08:30:31.274Z: Creating a combined row with motion=true, temp=23.7, humidity=63.1, light=false, ac_on=false, target_temp=N/A, target_mode=N/A
2025-05-27T08:30:31.276Z: logSensorData called with 7 sensors
2025-05-27T08:30:31.276Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-27T08:30:31.276Z: Setting spaceId column 8 to 41413915
2025-05-27T08:30:31.276Z: Setting column 3 (living room motion) to true
2025-05-27T08:30:31.276Z: Setting column 1 (living room temperature) to 23.7
2025-05-27T08:30:31.276Z: Setting column 2 (living room humidity) to 63.1
2025-05-27T08:30:31.276Z: Setting column 4 (light_state) to false
2025-05-27T08:30:31.276Z: Setting column 5 (ac_state) to false
2025-05-27T08:30:31.276Z: Setting column 6 (targetTemperature) to N/A
2025-05-27T08:30:31.276Z: Setting column 7 (targetAcMode) to N/A
2025-05-27T08:30:31.276Z: Preparing row: 2025-05-27 08:30:31,23.7,63.1,true,false,false,N/A,N/A,41413915
2025-05-27T08:30:31.276Z: Successfully wrote to log file using writeFileSync
2025-05-27T08:30:31.274Z: Successfully logged combined sensor data in one row with target temperature: N/A and target mode: N/A
2025-05-27T08:30:31.281Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-27T08:30:31.281Z: Polling interval active: true
2025-05-27T08:32:09.444Z: Polling for sensor data... (poll #3)
2025-05-27T08:32:09.446Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-27T08:32:09.446Z: Received sensor data: {"temperature":23.7,"humidity":63.2}
2025-05-27T08:32:09.446Z: Formatted events: [{"name":"living room temperature","value":23.7,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":63.2,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-27T08:32:09.446Z: Successfully updated event: living room temperature = 23.7
2025-05-27T08:32:09.446Z: Successfully updated event: living room humidity = 63.2
2025-05-27T08:32:10.095Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":23.7,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":63.2,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-27T08:32:10.095Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-27T08:32:10.095Z: Received motion sensor data: {"motionDetected":false}
2025-05-27T08:32:10.095Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-27T08:32:10.095Z: Successfully updated motion event: living room motion = false
2025-05-27T08:32:10.257Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-27T08:32:10.794Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":false,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-27T08:32:10.729641Z"}}
2025-05-27T08:32:10.794Z: Extracted AC on state: false, target temperature: N/A, target mode: N/A
2025-05-27T08:32:11.129Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":true},"success":true}
2025-05-27T08:32:11.129Z: Extracted light state: true
2025-05-27T08:32:11.130Z: Creating a combined row with motion=false, temp=23.7, humidity=63.2, light=true, ac_on=false, target_temp=N/A, target_mode=N/A
2025-05-27T08:32:11.130Z: logSensorData called with 7 sensors
2025-05-27T08:32:11.130Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-27T08:32:11.130Z: Setting spaceId column 8 to 41413915
2025-05-27T08:32:11.130Z: Setting column 3 (living room motion) to false
2025-05-27T08:32:11.130Z: Setting column 1 (living room temperature) to 23.7
2025-05-27T08:32:11.130Z: Setting column 2 (living room humidity) to 63.2
2025-05-27T08:32:11.130Z: Setting column 4 (light_state) to true
2025-05-27T08:32:11.130Z: Setting column 5 (ac_state) to false
2025-05-27T08:32:11.130Z: Setting column 6 (targetTemperature) to N/A
2025-05-27T08:32:11.130Z: Setting column 7 (targetAcMode) to N/A
2025-05-27T08:32:11.130Z: Preparing row: 2025-05-27 08:32:11,23.7,63.2,false,true,false,N/A,N/A,41413915
2025-05-27T08:32:11.130Z: Successfully wrote to log file using writeFileSync
2025-05-27T08:32:11.130Z: Successfully logged combined sensor data in one row with target temperature: N/A and target mode: N/A
2025-05-27T08:32:11.134Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-27T08:32:11.134Z: Polling interval active: true
2025-05-27T08:33:49.454Z: Polling for sensor data... (poll #4)
2025-05-27T08:33:49.454Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-27T08:33:49.454Z: Received sensor data: {"temperature":23.7,"humidity":63.1}
2025-05-27T08:33:49.454Z: Formatted events: [{"name":"living room temperature","value":23.7,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":63.1,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-27T08:33:49.454Z: Successfully updated event: living room temperature = 23.7
2025-05-27T08:33:49.454Z: Successfully updated event: living room humidity = 63.1
2025-05-27T08:33:50.053Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":23.7,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":63.1,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-27T08:33:50.054Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-27T08:33:50.054Z: Received motion sensor data: {"motionDetected":false}
2025-05-27T08:33:50.054Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-27T08:33:50.054Z: Successfully updated motion event: living room motion = false
2025-05-27T08:33:50.221Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-27T08:33:50.768Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":false,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-27T08:33:50.703542Z"}}
2025-05-27T08:33:50.768Z: Extracted AC on state: false, target temperature: N/A, target mode: N/A
2025-05-27T08:33:51.114Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":true},"success":true}
2025-05-27T08:33:51.115Z: Extracted light state: true
2025-05-27T08:33:51.116Z: Creating a combined row with motion=false, temp=23.7, humidity=63.1, light=true, ac_on=false, target_temp=N/A, target_mode=N/A
2025-05-27T08:33:51.117Z: logSensorData called with 7 sensors
2025-05-27T08:33:51.117Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-27T08:33:51.117Z: Setting spaceId column 8 to 41413915
2025-05-27T08:33:51.117Z: Setting column 3 (living room motion) to false
2025-05-27T08:33:51.117Z: Setting column 1 (living room temperature) to 23.7
2025-05-27T08:33:51.117Z: Setting column 2 (living room humidity) to 63.1
2025-05-27T08:33:51.117Z: Setting column 4 (light_state) to true
2025-05-27T08:33:51.117Z: Setting column 5 (ac_state) to false
2025-05-27T08:33:51.117Z: Setting column 6 (targetTemperature) to N/A
2025-05-27T08:33:51.117Z: Setting column 7 (targetAcMode) to N/A
2025-05-27T08:33:51.117Z: Preparing row: 2025-05-27 08:33:51,23.7,63.1,false,true,false,N/A,N/A,41413915
2025-05-27T08:33:51.117Z: Successfully wrote to log file using writeFileSync
2025-05-27T08:33:51.116Z: Successfully logged combined sensor data in one row with target temperature: N/A and target mode: N/A
2025-05-27T08:33:51.124Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-27T08:33:51.125Z: Polling interval active: true
2025-05-27T08:36:21.921Z: Initializing sensor logging service
2025-05-27T08:36:21.922Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-27T08:36:21.923Z: Added light_state column to event names
2025-05-27T08:36:21.923Z: Added ac_state column to event names
2025-05-27T08:36:21.924Z: Added ac_state column to event names
2025-05-27T08:36:21.924Z: Added targetAcMode column to event names
2025-05-27T08:36:21.925Z: Using existing log file
2025-05-27T08:36:21.926Z: Logging enabled
2025-05-27T08:36:21.927Z: No polling was active to stop
2025-05-27T08:36:21.928Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-05-27T08:36:21.928Z: Polling interval set with ID: 1026
2025-05-27T08:36:21.928Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-27T08:36:21.929Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-27T08:36:21.929Z: Received motion sensor data: {"motionDetected":false}
2025-05-27T08:36:21.929Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-27T08:36:21.929Z: Successfully updated motion event: living room motion = false
2025-05-27T08:36:22.347Z: Initializing sensor logging service
2025-05-27T08:36:22.347Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-27T08:36:22.348Z: Added light_state column to event names
2025-05-27T08:36:22.348Z: Added ac_state column to event names
2025-05-27T08:36:22.349Z: Added ac_state column to event names
2025-05-27T08:36:22.349Z: Added targetAcMode column to event names
2025-05-27T08:36:22.349Z: Using existing log file
2025-05-27T08:36:22.351Z: Closing existing log stream before creating new one
2025-05-27T08:36:22.351Z: Logging enabled
2025-05-27T08:36:22.351Z: Stopping sensor polling interval: 1026
2025-05-27T08:36:22.351Z: Closing logging service
2025-05-27T08:36:22.352Z: Closing sensor logging service
2025-05-27T08:36:22.352Z: Closing log stream
2025-05-27T08:36:22.352Z: Logging stopped at 2025-05-27T08:36:22.352Z
2025-05-27T08:36:22.353Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-05-27T08:36:22.353Z: Polling interval set with ID: 1222
2025-05-27T08:36:22.353Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-27T08:36:22.353Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-27T08:36:21.928Z: Received sensor data: {"temperature":23.7,"humidity":61.8}
2025-05-27T08:36:21.928Z: Formatted events: [{"name":"living room temperature","value":23.7,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":61.8,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-27T08:36:21.928Z: Successfully updated event: living room temperature = 23.7
2025-05-27T08:36:21.928Z: Successfully updated event: living room humidity = 61.8
2025-05-27T08:36:22.648Z: Initial poll - AC on: false, target temp: N/A, target mode: N/A
2025-05-27T08:36:22.649Z: Creating a combined row with motion=false, temp=23.7, humidity=61.8, light=true, ac_on=false, target_temp=N/A, target_mode=N/A
2025-05-27T08:36:22.650Z: logSensorData called with 7 sensors
2025-05-27T08:36:22.650Z: WARNING - Logging is disabled but logSensorData was called
2025-05-27T08:36:22.650Z: Attempting to re-initialize logging with existing events
2025-05-27T08:36:22.651Z: Initializing sensor logging service
2025-05-27T08:36:22.653Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-27T08:36:22.655Z: Using existing log file
2025-05-27T08:36:22.650Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-27T08:36:22.650Z: Setting spaceId column 8 to 41413915
2025-05-27T08:36:22.650Z: Setting column 3 (living room motion) to false
2025-05-27T08:36:22.650Z: Setting column 1 (living room temperature) to 23.7
2025-05-27T08:36:22.650Z: Setting column 2 (living room humidity) to 61.8
2025-05-27T08:36:22.650Z: Setting column 4 (light_state) to true
2025-05-27T08:36:22.650Z: Setting column 5 (ac_state) to false
2025-05-27T08:36:22.650Z: Setting column 6 (targetTemperature) to N/A
2025-05-27T08:36:22.650Z: Setting column 7 (targetAcMode) to N/A
2025-05-27T08:36:22.650Z: Preparing row: 2025-05-27 08:36:22,23.7,61.8,false,true,false,N/A,N/A,41413915
2025-05-27T08:36:22.650Z: Successfully wrote to log file using writeFileSync
2025-05-27T08:36:22.649Z: Successfully logged combined sensor data in one row with target temperature: N/A and target mode: N/A
2025-05-27T08:36:22.659Z: Initial combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-27T08:36:22.660Z: Logging enabled
2025-05-27T08:36:22.650Z: Re-initialization result: {"success":true,"message":"Sensor logging initialized to C:\\Users\\amin\\Desktop\\smart-space\\SmartSchool-Server\\logs\\sensor_data.csv","columns":[["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]}
2025-05-27T08:36:22.353Z: Received motion sensor data: {"motionDetected":false}
2025-05-27T08:36:22.353Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-27T08:36:22.353Z: Successfully updated motion event: living room motion = false
2025-05-27T08:36:22.353Z: Received sensor data: {"temperature":23.7,"humidity":61.8}
2025-05-27T08:36:22.353Z: Formatted events: [{"name":"living room temperature","value":23.7,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":61.8,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-27T08:36:22.353Z: Successfully updated event: living room temperature = 23.7
2025-05-27T08:36:22.353Z: Successfully updated event: living room humidity = 61.8
2025-05-27T08:36:23.099Z: Initial poll - AC on: false, target temp: N/A, target mode: N/A
2025-05-27T08:36:23.100Z: Creating a combined row with motion=false, temp=23.7, humidity=61.8, light=true, ac_on=false, target_temp=N/A, target_mode=N/A
2025-05-27T08:36:23.101Z: logSensorData called with 7 sensors
2025-05-27T08:36:23.101Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-27T08:36:23.101Z: Setting spaceId column 8 to 41413915
2025-05-27T08:36:23.101Z: Setting column 3 (living room motion) to false
2025-05-27T08:36:23.101Z: Setting column 1 (living room temperature) to 23.7
2025-05-27T08:36:23.101Z: Setting column 2 (living room humidity) to 61.8
2025-05-27T08:36:23.101Z: Setting column 4 (light_state) to true
2025-05-27T08:36:23.101Z: Setting column 5 (ac_state) to false
2025-05-27T08:36:23.101Z: Setting column 6 (targetTemperature) to N/A
2025-05-27T08:36:23.101Z: Setting column 7 (targetAcMode) to N/A
2025-05-27T08:36:23.101Z: Preparing row: 2025-05-27 08:36:23,23.7,61.8,false,true,false,N/A,N/A,41413915
2025-05-27T08:36:23.101Z: Successfully wrote to log file using writeFileSync
2025-05-27T08:36:23.100Z: Successfully logged combined sensor data in one row with target temperature: N/A and target mode: N/A
2025-05-27T08:36:23.109Z: Initial combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-27T08:38:02.363Z: Polling for sensor data... (poll #1)
2025-05-27T08:38:02.365Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-27T08:38:02.365Z: Received sensor data: {"temperature":23.6,"humidity":62.6}
2025-05-27T08:38:02.365Z: Formatted events: [{"name":"living room temperature","value":23.6,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":62.6,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-27T08:38:02.365Z: Successfully updated event: living room temperature = 23.6
2025-05-27T08:38:02.365Z: Successfully updated event: living room humidity = 62.6
2025-05-27T08:38:03.025Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":23.6,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":62.6,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-27T08:38:03.025Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-27T08:38:03.025Z: Received motion sensor data: {"motionDetected":true}
2025-05-27T08:38:03.025Z: Formatted motion sensor events: [{"name":"living room motion","value":true,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-27T08:38:03.025Z: Successfully updated motion event: living room motion = true
2025-05-27T08:38:03.190Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":true,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-27T08:38:03.778Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":false,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-27T08:38:03.729262Z"}}
2025-05-27T08:38:03.779Z: Extracted AC on state: false, target temperature: N/A, target mode: N/A
2025-05-27T08:38:04.199Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":true},"success":true}
2025-05-27T08:38:04.200Z: Extracted light state: true
2025-05-27T08:38:04.201Z: Creating a combined row with motion=true, temp=23.6, humidity=62.6, light=true, ac_on=false, target_temp=N/A, target_mode=N/A
2025-05-27T08:38:04.202Z: logSensorData called with 7 sensors
2025-05-27T08:38:04.202Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-27T08:38:04.202Z: Setting spaceId column 8 to 41413915
2025-05-27T08:38:04.202Z: Setting column 3 (living room motion) to true
2025-05-27T08:38:04.202Z: Setting column 1 (living room temperature) to 23.6
2025-05-27T08:38:04.202Z: Setting column 2 (living room humidity) to 62.6
2025-05-27T08:38:04.202Z: Setting column 4 (light_state) to true
2025-05-27T08:38:04.202Z: Setting column 5 (ac_state) to false
2025-05-27T08:38:04.202Z: Setting column 6 (targetTemperature) to N/A
2025-05-27T08:38:04.202Z: Setting column 7 (targetAcMode) to N/A
2025-05-27T08:38:04.202Z: Preparing row: 2025-05-27 08:38:04,23.6,62.6,true,true,false,N/A,N/A,41413915
2025-05-27T08:38:04.202Z: Successfully wrote to log file using writeFileSync
2025-05-27T08:38:04.201Z: Successfully logged combined sensor data in one row with target temperature: N/A and target mode: N/A
2025-05-27T08:38:04.207Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-27T08:38:04.207Z: Polling interval active: true
2025-05-27T08:39:42.369Z: Polling for sensor data... (poll #2)
2025-05-27T08:39:42.371Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-27T08:39:42.371Z: Received sensor data: {"temperature":23.6,"humidity":63}
2025-05-27T08:39:42.371Z: Formatted events: [{"name":"living room temperature","value":23.6,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":63,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-27T08:39:42.371Z: Successfully updated event: living room temperature = 23.6
2025-05-27T08:39:42.371Z: Successfully updated event: living room humidity = 63
2025-05-27T08:39:42.971Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":23.6,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":63,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-27T08:39:42.971Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-27T08:39:42.971Z: Received motion sensor data: {"motionDetected":false}
2025-05-27T08:39:42.971Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-27T08:39:42.971Z: Successfully updated motion event: living room motion = false
2025-05-27T08:39:43.131Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-27T08:39:43.760Z: AC state is: {"mode":"cool","on":true,"targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-27T08:39:43.713349Z"}}
2025-05-27T08:39:43.761Z: Extracted AC on state: true, target temperature: 20, target mode: cool
2025-05-27T08:39:44.097Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":true},"success":true}
2025-05-27T08:39:44.098Z: Extracted light state: true
2025-05-27T08:39:44.098Z: Creating a combined row with motion=false, temp=23.6, humidity=63, light=true, ac_on=true, target_temp=20, target_mode=cool
2025-05-27T08:39:44.098Z: logSensorData called with 7 sensors
2025-05-27T08:39:44.098Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-27T08:39:44.098Z: Setting spaceId column 8 to 41413915
2025-05-27T08:39:44.098Z: Setting column 3 (living room motion) to false
2025-05-27T08:39:44.098Z: Setting column 1 (living room temperature) to 23.6
2025-05-27T08:39:44.098Z: Setting column 2 (living room humidity) to 63
2025-05-27T08:39:44.098Z: Setting column 4 (light_state) to true
2025-05-27T08:39:44.098Z: Setting column 5 (ac_state) to true
2025-05-27T08:39:44.098Z: Setting column 6 (targetTemperature) to 20
2025-05-27T08:39:44.098Z: Setting column 7 (targetAcMode) to cool
2025-05-27T08:39:44.098Z: Preparing row: 2025-05-27 08:39:44,23.6,63,false,true,true,20,cool,41413915
2025-05-27T08:39:44.098Z: Successfully wrote to log file using writeFileSync
2025-05-27T08:39:44.098Z: Successfully logged combined sensor data in one row with target temperature: 20 and target mode: cool
2025-05-27T08:39:44.102Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-27T08:39:44.102Z: Polling interval active: true
2025-05-27T08:41:22.385Z: Polling for sensor data... (poll #3)
2025-05-27T08:41:22.386Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-27T08:41:22.386Z: Received sensor data: {"temperature":23.7,"humidity":62.9}
2025-05-27T08:41:22.386Z: Formatted events: [{"name":"living room temperature","value":23.7,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":62.9,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-27T08:41:22.386Z: Successfully updated event: living room temperature = 23.7
2025-05-27T08:41:22.386Z: Successfully updated event: living room humidity = 62.9
2025-05-27T08:41:23.202Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":23.7,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":62.9,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-27T08:41:23.202Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-27T08:41:23.202Z: Received motion sensor data: {"motionDetected":false}
2025-05-27T08:41:23.202Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-27T08:41:23.202Z: Successfully updated motion event: living room motion = false
2025-05-27T08:41:23.371Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-27T08:41:23.957Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":false,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-27T08:41:23.908075Z"}}
2025-05-27T08:41:23.958Z: Extracted AC on state: false, target temperature: N/A, target mode: N/A
2025-05-27T08:41:24.306Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":true},"success":true}
2025-05-27T08:41:24.306Z: Extracted light state: true
2025-05-27T08:41:24.307Z: Creating a combined row with motion=false, temp=23.7, humidity=62.9, light=true, ac_on=false, target_temp=N/A, target_mode=N/A
2025-05-27T08:41:24.307Z: logSensorData called with 7 sensors
2025-05-27T08:41:24.307Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-27T08:41:24.307Z: Setting spaceId column 8 to 41413915
2025-05-27T08:41:24.307Z: Setting column 3 (living room motion) to false
2025-05-27T08:41:24.307Z: Setting column 1 (living room temperature) to 23.7
2025-05-27T08:41:24.307Z: Setting column 2 (living room humidity) to 62.9
2025-05-27T08:41:24.307Z: Setting column 4 (light_state) to true
2025-05-27T08:41:24.307Z: Setting column 5 (ac_state) to false
2025-05-27T08:41:24.307Z: Setting column 6 (targetTemperature) to N/A
2025-05-27T08:41:24.307Z: Setting column 7 (targetAcMode) to N/A
2025-05-27T08:41:24.307Z: Preparing row: 2025-05-27 08:41:24,23.7,62.9,false,true,false,N/A,N/A,41413915
2025-05-27T08:41:24.307Z: Successfully wrote to log file using writeFileSync
2025-05-27T08:41:24.307Z: Successfully logged combined sensor data in one row with target temperature: N/A and target mode: N/A
2025-05-27T08:41:24.310Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-27T08:41:24.311Z: Polling interval active: true
2025-05-27T08:43:02.400Z: Polling for sensor data... (poll #4)
2025-05-27T08:43:02.401Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-27T08:43:02.401Z: Received sensor data: {"temperature":23.6,"humidity":62.7}
2025-05-27T08:43:02.401Z: Formatted events: [{"name":"living room temperature","value":23.6,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":62.7,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-27T08:43:02.401Z: Successfully updated event: living room temperature = 23.6
2025-05-27T08:43:02.401Z: Successfully updated event: living room humidity = 62.7
2025-05-27T08:43:03.040Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":23.6,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":62.7,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-27T08:43:03.041Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-27T08:43:03.041Z: Received motion sensor data: {"motionDetected":false}
2025-05-27T08:43:03.041Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-27T08:43:03.041Z: Successfully updated motion event: living room motion = false
2025-05-27T08:43:03.208Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-27T08:43:03.805Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":false,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-27T08:43:03.760122Z"}}
2025-05-27T08:43:03.805Z: Extracted AC on state: false, target temperature: N/A, target mode: N/A
2025-05-27T08:43:04.144Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":true},"success":true}
2025-05-27T08:43:04.145Z: Extracted light state: true
2025-05-27T08:43:04.145Z: Creating a combined row with motion=false, temp=23.6, humidity=62.7, light=true, ac_on=false, target_temp=N/A, target_mode=N/A
2025-05-27T08:43:04.145Z: logSensorData called with 7 sensors
2025-05-27T08:43:04.145Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-27T08:43:04.145Z: Setting spaceId column 8 to 41413915
2025-05-27T08:43:04.145Z: Setting column 3 (living room motion) to false
2025-05-27T08:43:04.145Z: Setting column 1 (living room temperature) to 23.6
2025-05-27T08:43:04.145Z: Setting column 2 (living room humidity) to 62.7
2025-05-27T08:43:04.145Z: Setting column 4 (light_state) to true
2025-05-27T08:43:04.145Z: Setting column 5 (ac_state) to false
2025-05-27T08:43:04.145Z: Setting column 6 (targetTemperature) to N/A
2025-05-27T08:43:04.145Z: Setting column 7 (targetAcMode) to N/A
2025-05-27T08:43:04.145Z: Preparing row: 2025-05-27 08:43:04,23.6,62.7,false,true,false,N/A,N/A,41413915
2025-05-27T08:43:04.145Z: Successfully wrote to log file using writeFileSync
2025-05-27T08:43:04.145Z: Successfully logged combined sensor data in one row with target temperature: N/A and target mode: N/A
2025-05-27T08:43:04.149Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-27T08:43:04.149Z: Polling interval active: true
2025-05-27T08:44:42.405Z: Polling for sensor data... (poll #5)
2025-05-27T08:44:42.406Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-27T08:44:42.406Z: Received sensor data: {"temperature":23.5,"humidity":63.2}
2025-05-27T08:44:42.406Z: Formatted events: [{"name":"living room temperature","value":23.5,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":63.2,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-27T08:44:42.406Z: Successfully updated event: living room temperature = 23.5
2025-05-27T08:44:42.406Z: Successfully updated event: living room humidity = 63.2
2025-05-27T08:44:43.043Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":23.5,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":63.2,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-27T08:44:43.044Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-27T08:44:43.044Z: Received motion sensor data: {"motionDetected":false}
2025-05-27T08:44:43.044Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-27T08:44:43.044Z: Successfully updated motion event: living room motion = false
2025-05-27T08:44:43.201Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-27T08:44:43.820Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":false,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-27T08:44:43.775114Z"}}
2025-05-27T08:44:43.820Z: Extracted AC on state: false, target temperature: N/A, target mode: N/A
2025-05-27T08:44:44.158Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":true},"success":true}
2025-05-27T08:44:44.159Z: Extracted light state: true
2025-05-27T08:44:44.159Z: Creating a combined row with motion=false, temp=23.5, humidity=63.2, light=true, ac_on=false, target_temp=N/A, target_mode=N/A
2025-05-27T08:44:44.159Z: logSensorData called with 7 sensors
2025-05-27T08:44:44.159Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-27T08:44:44.159Z: Setting spaceId column 8 to 41413915
2025-05-27T08:44:44.159Z: Setting column 3 (living room motion) to false
2025-05-27T08:44:44.159Z: Setting column 1 (living room temperature) to 23.5
2025-05-27T08:44:44.159Z: Setting column 2 (living room humidity) to 63.2
2025-05-27T08:44:44.159Z: Setting column 4 (light_state) to true
2025-05-27T08:44:44.159Z: Setting column 5 (ac_state) to false
2025-05-27T08:44:44.159Z: Setting column 6 (targetTemperature) to N/A
2025-05-27T08:44:44.159Z: Setting column 7 (targetAcMode) to N/A
2025-05-27T08:44:44.159Z: Preparing row: 2025-05-27 08:44:44,23.5,63.2,false,true,false,N/A,N/A,41413915
2025-05-27T08:44:44.159Z: Successfully wrote to log file using writeFileSync
2025-05-27T08:44:44.159Z: Successfully logged combined sensor data in one row with target temperature: N/A and target mode: N/A
2025-05-27T08:44:44.163Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-27T08:44:44.163Z: Polling interval active: true
2025-05-27T08:46:22.417Z: Polling for sensor data... (poll #6)
2025-05-27T08:46:22.418Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-27T08:46:22.418Z: Received sensor data: {"temperature":23.5,"humidity":63.2}
2025-05-27T08:46:22.418Z: Formatted events: [{"name":"living room temperature","value":23.5,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":63.2,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-27T08:46:22.418Z: Successfully updated event: living room temperature = 23.5
2025-05-27T08:46:22.418Z: Successfully updated event: living room humidity = 63.2
2025-05-27T08:46:22.988Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":23.5,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":63.2,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-27T08:46:22.989Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-27T08:46:22.989Z: Received motion sensor data: {"motionDetected":false}
2025-05-27T08:46:22.989Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-27T08:46:22.989Z: Successfully updated motion event: living room motion = false
2025-05-27T08:46:23.154Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-27T08:46:23.751Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":false,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-27T08:46:23.706089Z"}}
2025-05-27T08:46:23.752Z: Extracted AC on state: false, target temperature: N/A, target mode: N/A
2025-05-27T08:46:24.095Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":true},"success":true}
2025-05-27T08:46:24.096Z: Extracted light state: true
2025-05-27T08:46:24.097Z: Creating a combined row with motion=false, temp=23.5, humidity=63.2, light=true, ac_on=false, target_temp=N/A, target_mode=N/A
2025-05-27T08:46:24.098Z: logSensorData called with 7 sensors
2025-05-27T08:46:24.098Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-27T08:46:24.098Z: Setting spaceId column 8 to 41413915
2025-05-27T08:46:24.098Z: Setting column 3 (living room motion) to false
2025-05-27T08:46:24.098Z: Setting column 1 (living room temperature) to 23.5
2025-05-27T08:46:24.098Z: Setting column 2 (living room humidity) to 63.2
2025-05-27T08:46:24.098Z: Setting column 4 (light_state) to true
2025-05-27T08:46:24.098Z: Setting column 5 (ac_state) to false
2025-05-27T08:46:24.098Z: Setting column 6 (targetTemperature) to N/A
2025-05-27T08:46:24.098Z: Setting column 7 (targetAcMode) to N/A
2025-05-27T08:46:24.098Z: Preparing row: 2025-05-27 08:46:24,23.5,63.2,false,true,false,N/A,N/A,41413915
2025-05-27T08:46:24.098Z: Successfully wrote to log file using writeFileSync
2025-05-27T08:46:24.097Z: Successfully logged combined sensor data in one row with target temperature: N/A and target mode: N/A
2025-05-27T08:46:24.103Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-27T08:46:24.103Z: Polling interval active: true
2025-05-27T08:48:02.428Z: Polling for sensor data... (poll #7)
2025-05-27T08:48:02.429Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-27T08:48:02.429Z: Received sensor data: {"temperature":23.6,"humidity":63.5}
2025-05-27T08:48:02.429Z: Formatted events: [{"name":"living room temperature","value":23.6,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":63.5,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-27T08:48:02.429Z: Successfully updated event: living room temperature = 23.6
2025-05-27T08:48:02.429Z: Successfully updated event: living room humidity = 63.5
2025-05-27T08:48:03.076Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":23.6,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":63.5,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-27T08:48:03.077Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-27T08:48:03.077Z: Received motion sensor data: {"motionDetected":false}
2025-05-27T08:48:03.077Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-27T08:48:03.077Z: Successfully updated motion event: living room motion = false
2025-05-27T08:48:03.229Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-27T08:48:03.818Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":false,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-27T08:48:03.780626Z"}}
2025-05-27T08:48:03.819Z: Extracted AC on state: false, target temperature: N/A, target mode: N/A
2025-05-27T08:48:04.138Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":true},"success":true}
2025-05-27T08:48:04.139Z: Extracted light state: true
2025-05-27T08:48:04.139Z: Creating a combined row with motion=false, temp=23.6, humidity=63.5, light=true, ac_on=false, target_temp=N/A, target_mode=N/A
2025-05-27T08:48:04.139Z: logSensorData called with 7 sensors
2025-05-27T08:48:04.139Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-27T08:48:04.139Z: Setting spaceId column 8 to 41413915
2025-05-27T08:48:04.139Z: Setting column 3 (living room motion) to false
2025-05-27T08:48:04.139Z: Setting column 1 (living room temperature) to 23.6
2025-05-27T08:48:04.139Z: Setting column 2 (living room humidity) to 63.5
2025-05-27T08:48:04.139Z: Setting column 4 (light_state) to true
2025-05-27T08:48:04.139Z: Setting column 5 (ac_state) to false
2025-05-27T08:48:04.139Z: Setting column 6 (targetTemperature) to N/A
2025-05-27T08:48:04.139Z: Setting column 7 (targetAcMode) to N/A
2025-05-27T08:48:04.139Z: Preparing row: 2025-05-27 08:48:04,23.6,63.5,false,true,false,N/A,N/A,41413915
2025-05-27T08:48:04.139Z: Successfully wrote to log file using writeFileSync
2025-05-27T08:48:04.139Z: Successfully logged combined sensor data in one row with target temperature: N/A and target mode: N/A
2025-05-27T08:48:04.143Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-27T08:48:04.143Z: Polling interval active: true
2025-05-27T08:49:42.440Z: Polling for sensor data... (poll #8)
2025-05-27T08:49:42.441Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-27T08:49:42.441Z: Received sensor data: {"temperature":23.6,"humidity":63.2}
2025-05-27T08:49:42.441Z: Formatted events: [{"name":"living room temperature","value":23.6,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":63.2,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-27T08:49:42.441Z: Successfully updated event: living room temperature = 23.6
2025-05-27T08:49:42.441Z: Successfully updated event: living room humidity = 63.2
2025-05-27T08:49:43.138Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":23.6,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":63.2,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-27T08:49:43.138Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-27T08:49:43.138Z: Received motion sensor data: {"motionDetected":false}
2025-05-27T08:49:43.138Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-27T08:49:43.138Z: Successfully updated motion event: living room motion = false
2025-05-27T08:49:43.289Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-27T08:49:43.919Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":false,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-27T08:49:43.886218Z"}}
2025-05-27T08:49:43.920Z: Extracted AC on state: false, target temperature: N/A, target mode: N/A
2025-05-27T08:49:44.239Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":true},"success":true}
2025-05-27T08:49:44.240Z: Extracted light state: true
2025-05-27T08:49:44.240Z: Creating a combined row with motion=false, temp=23.6, humidity=63.2, light=true, ac_on=false, target_temp=N/A, target_mode=N/A
2025-05-27T08:49:44.240Z: logSensorData called with 7 sensors
2025-05-27T08:49:44.240Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-27T08:49:44.240Z: Setting spaceId column 8 to 41413915
2025-05-27T08:49:44.240Z: Setting column 3 (living room motion) to false
2025-05-27T08:49:44.240Z: Setting column 1 (living room temperature) to 23.6
2025-05-27T08:49:44.240Z: Setting column 2 (living room humidity) to 63.2
2025-05-27T08:49:44.240Z: Setting column 4 (light_state) to true
2025-05-27T08:49:44.240Z: Setting column 5 (ac_state) to false
2025-05-27T08:49:44.240Z: Setting column 6 (targetTemperature) to N/A
2025-05-27T08:49:44.240Z: Setting column 7 (targetAcMode) to N/A
2025-05-27T08:49:44.240Z: Preparing row: 2025-05-27 08:49:44,23.6,63.2,false,true,false,N/A,N/A,41413915
2025-05-27T08:49:44.240Z: Successfully wrote to log file using writeFileSync
2025-05-27T08:49:44.240Z: Successfully logged combined sensor data in one row with target temperature: N/A and target mode: N/A
2025-05-27T08:49:44.244Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-27T08:49:44.244Z: Polling interval active: true
2025-05-27T08:51:22.455Z: Polling for sensor data... (poll #9)
2025-05-27T08:51:22.457Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-27T08:51:22.457Z: Received sensor data: {"temperature":23.7,"humidity":62.2}
2025-05-27T08:51:22.457Z: Formatted events: [{"name":"living room temperature","value":23.7,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":62.2,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-27T08:51:22.457Z: Successfully updated event: living room temperature = 23.7
2025-05-27T08:51:22.457Z: Successfully updated event: living room humidity = 62.2
2025-05-27T08:51:23.063Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":23.7,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":62.2,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-27T08:51:23.063Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-27T08:51:23.063Z: Received motion sensor data: {"motionDetected":false}
2025-05-27T08:51:23.063Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-27T08:51:23.063Z: Successfully updated motion event: living room motion = false
2025-05-27T08:51:23.222Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-27T08:51:23.833Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":false,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-27T08:51:23.798052Z"}}
2025-05-27T08:51:23.834Z: Extracted AC on state: false, target temperature: N/A, target mode: N/A
2025-05-27T08:51:24.180Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":true},"success":true}
2025-05-27T08:51:24.181Z: Extracted light state: true
2025-05-27T08:51:24.181Z: Creating a combined row with motion=false, temp=23.7, humidity=62.2, light=true, ac_on=false, target_temp=N/A, target_mode=N/A
2025-05-27T08:51:24.181Z: logSensorData called with 7 sensors
2025-05-27T08:51:24.181Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-27T08:51:24.181Z: Setting spaceId column 8 to 41413915
2025-05-27T08:51:24.181Z: Setting column 3 (living room motion) to false
2025-05-27T08:51:24.181Z: Setting column 1 (living room temperature) to 23.7
2025-05-27T08:51:24.181Z: Setting column 2 (living room humidity) to 62.2
2025-05-27T08:51:24.181Z: Setting column 4 (light_state) to true
2025-05-27T08:51:24.181Z: Setting column 5 (ac_state) to false
2025-05-27T08:51:24.181Z: Setting column 6 (targetTemperature) to N/A
2025-05-27T08:51:24.181Z: Setting column 7 (targetAcMode) to N/A
2025-05-27T08:51:24.181Z: Preparing row: 2025-05-27 08:51:24,23.7,62.2,false,true,false,N/A,N/A,41413915
2025-05-27T08:51:24.181Z: Successfully wrote to log file using writeFileSync
2025-05-27T08:51:24.181Z: Successfully logged combined sensor data in one row with target temperature: N/A and target mode: N/A
2025-05-27T08:51:24.185Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-27T08:51:24.185Z: Polling interval active: true
2025-05-27T08:53:02.456Z: Polling for sensor data... (poll #10)
2025-05-27T08:53:02.457Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-27T08:53:02.457Z: Received sensor data: {"temperature":23.7,"humidity":62.2}
2025-05-27T08:53:02.457Z: Formatted events: [{"name":"living room temperature","value":23.7,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":62.2,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-27T08:53:02.457Z: Successfully updated event: living room temperature = 23.7
2025-05-27T08:53:02.457Z: Successfully updated event: living room humidity = 62.2
2025-05-27T08:53:03.061Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":23.7,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":62.2,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-27T08:53:03.061Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-27T08:53:03.061Z: Received motion sensor data: {"motionDetected":false}
2025-05-27T08:53:03.061Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-27T08:53:03.061Z: Successfully updated motion event: living room motion = false
2025-05-27T08:53:03.231Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-27T08:53:03.824Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":false,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-27T08:53:03.792444Z"}}
2025-05-27T08:53:03.825Z: Extracted AC on state: false, target temperature: N/A, target mode: N/A
2025-05-27T08:53:04.164Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":true},"success":true}
2025-05-27T08:53:04.165Z: Extracted light state: true
2025-05-27T08:53:04.165Z: Creating a combined row with motion=false, temp=23.7, humidity=62.2, light=true, ac_on=false, target_temp=N/A, target_mode=N/A
2025-05-27T08:53:04.166Z: logSensorData called with 7 sensors
2025-05-27T08:53:04.166Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-27T08:53:04.166Z: Setting spaceId column 8 to 41413915
2025-05-27T08:53:04.166Z: Setting column 3 (living room motion) to false
2025-05-27T08:53:04.166Z: Setting column 1 (living room temperature) to 23.7
2025-05-27T08:53:04.166Z: Setting column 2 (living room humidity) to 62.2
2025-05-27T08:53:04.166Z: Setting column 4 (light_state) to true
2025-05-27T08:53:04.166Z: Setting column 5 (ac_state) to false
2025-05-27T08:53:04.166Z: Setting column 6 (targetTemperature) to N/A
2025-05-27T08:53:04.166Z: Setting column 7 (targetAcMode) to N/A
2025-05-27T08:53:04.166Z: Preparing row: 2025-05-27 08:53:04,23.7,62.2,false,true,false,N/A,N/A,41413915
2025-05-27T08:53:04.166Z: Successfully wrote to log file using writeFileSync
2025-05-27T08:53:04.165Z: Successfully logged combined sensor data in one row with target temperature: N/A and target mode: N/A
2025-05-27T08:53:04.170Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-27T08:53:04.171Z: Polling interval active: true
2025-05-27T08:54:42.459Z: Polling for sensor data... (poll #11)
2025-05-27T08:54:42.460Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-27T08:54:42.460Z: Received sensor data: {"temperature":23.7,"humidity":61.9}
2025-05-27T08:54:42.460Z: Formatted events: [{"name":"living room temperature","value":23.7,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":61.9,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-27T08:54:42.460Z: Successfully updated event: living room temperature = 23.7
2025-05-27T08:54:42.460Z: Successfully updated event: living room humidity = 61.9
2025-05-27T08:54:43.075Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":23.7,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":61.9,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-27T08:54:43.076Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-27T08:54:43.076Z: Received motion sensor data: {"motionDetected":false}
2025-05-27T08:54:43.076Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-27T08:54:43.076Z: Successfully updated motion event: living room motion = false
2025-05-27T08:54:43.235Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-27T08:54:43.842Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":false,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-27T08:54:43.814858Z"}}
2025-05-27T08:54:43.843Z: Extracted AC on state: false, target temperature: N/A, target mode: N/A
2025-05-27T08:54:44.183Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":true},"success":true}
2025-05-27T08:54:44.184Z: Extracted light state: true
2025-05-27T08:54:44.184Z: Creating a combined row with motion=false, temp=23.7, humidity=61.9, light=true, ac_on=false, target_temp=N/A, target_mode=N/A
2025-05-27T08:54:44.185Z: logSensorData called with 7 sensors
2025-05-27T08:54:44.185Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-27T08:54:44.185Z: Setting spaceId column 8 to 41413915
2025-05-27T08:54:44.185Z: Setting column 3 (living room motion) to false
2025-05-27T08:54:44.185Z: Setting column 1 (living room temperature) to 23.7
2025-05-27T08:54:44.185Z: Setting column 2 (living room humidity) to 61.9
2025-05-27T08:54:44.185Z: Setting column 4 (light_state) to true
2025-05-27T08:54:44.185Z: Setting column 5 (ac_state) to false
2025-05-27T08:54:44.185Z: Setting column 6 (targetTemperature) to N/A
2025-05-27T08:54:44.185Z: Setting column 7 (targetAcMode) to N/A
2025-05-27T08:54:44.185Z: Preparing row: 2025-05-27 08:54:44,23.7,61.9,false,true,false,N/A,N/A,41413915
2025-05-27T08:54:44.185Z: Successfully wrote to log file using writeFileSync
2025-05-27T08:54:44.184Z: Successfully logged combined sensor data in one row with target temperature: N/A and target mode: N/A
2025-05-27T08:54:44.188Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-27T08:54:44.188Z: Polling interval active: true
2025-05-27T08:56:22.458Z: Polling for sensor data... (poll #12)
2025-05-27T08:56:22.459Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-27T08:56:22.459Z: Received sensor data: {"temperature":23.7,"humidity":62.7}
2025-05-27T08:56:22.459Z: Formatted events: [{"name":"living room temperature","value":23.7,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":62.7,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-27T08:56:22.459Z: Successfully updated event: living room temperature = 23.7
2025-05-27T08:56:22.459Z: Successfully updated event: living room humidity = 62.7
2025-05-27T08:56:23.011Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":23.7,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":62.7,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-27T08:56:23.012Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-27T08:56:23.012Z: Received motion sensor data: {"motionDetected":true}
2025-05-27T08:56:23.012Z: Formatted motion sensor events: [{"name":"living room motion","value":true,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-27T08:56:23.012Z: Successfully updated motion event: living room motion = true
2025-05-27T08:56:23.178Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":true,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-27T08:56:23.807Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":false,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-27T08:56:23.768333Z"}}
2025-05-27T08:56:23.808Z: Extracted AC on state: false, target temperature: N/A, target mode: N/A
2025-05-27T08:56:24.163Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":true},"success":true}
2025-05-27T08:56:24.164Z: Extracted light state: true
2025-05-27T08:56:24.165Z: Creating a combined row with motion=true, temp=23.7, humidity=62.7, light=true, ac_on=false, target_temp=N/A, target_mode=N/A
2025-05-27T08:56:24.166Z: logSensorData called with 7 sensors
2025-05-27T08:56:24.166Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-27T08:56:24.166Z: Setting spaceId column 8 to 41413915
2025-05-27T08:56:24.166Z: Setting column 3 (living room motion) to true
2025-05-27T08:56:24.166Z: Setting column 1 (living room temperature) to 23.7
2025-05-27T08:56:24.166Z: Setting column 2 (living room humidity) to 62.7
2025-05-27T08:56:24.166Z: Setting column 4 (light_state) to true
2025-05-27T08:56:24.166Z: Setting column 5 (ac_state) to false
2025-05-27T08:56:24.166Z: Setting column 6 (targetTemperature) to N/A
2025-05-27T08:56:24.166Z: Setting column 7 (targetAcMode) to N/A
2025-05-27T08:56:24.166Z: Preparing row: 2025-05-27 08:56:24,23.7,62.7,true,true,false,N/A,N/A,41413915
2025-05-27T08:56:24.166Z: Successfully wrote to log file using writeFileSync
2025-05-27T08:56:24.165Z: Successfully logged combined sensor data in one row with target temperature: N/A and target mode: N/A
2025-05-27T08:56:24.171Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-27T08:56:24.171Z: Polling interval active: true
2025-05-27T08:58:02.472Z: Polling for sensor data... (poll #13)
2025-05-27T08:58:02.473Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-27T08:58:02.473Z: Received sensor data: {"temperature":23.8,"humidity":61.9}
2025-05-27T08:58:02.473Z: Formatted events: [{"name":"living room temperature","value":23.8,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":61.9,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-27T08:58:02.473Z: Successfully updated event: living room temperature = 23.8
2025-05-27T08:58:02.473Z: Successfully updated event: living room humidity = 61.9
2025-05-27T08:58:03.092Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":23.8,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":61.9,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-27T08:58:03.092Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-27T08:58:03.092Z: Received motion sensor data: {"motionDetected":false}
2025-05-27T08:58:03.092Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-27T08:58:03.092Z: Successfully updated motion event: living room motion = false
2025-05-27T08:58:03.250Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-27T08:58:03.876Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":false,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-27T08:58:03.847447Z"}}
2025-05-27T08:58:03.877Z: Extracted AC on state: false, target temperature: N/A, target mode: N/A
2025-05-27T08:58:04.205Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":true},"success":true}
2025-05-27T08:58:04.206Z: Extracted light state: true
2025-05-27T08:58:04.207Z: Creating a combined row with motion=false, temp=23.8, humidity=61.9, light=true, ac_on=false, target_temp=N/A, target_mode=N/A
2025-05-27T08:58:04.207Z: logSensorData called with 7 sensors
2025-05-27T08:58:04.207Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-27T08:58:04.207Z: Setting spaceId column 8 to 41413915
2025-05-27T08:58:04.207Z: Setting column 3 (living room motion) to false
2025-05-27T08:58:04.207Z: Setting column 1 (living room temperature) to 23.8
2025-05-27T08:58:04.207Z: Setting column 2 (living room humidity) to 61.9
2025-05-27T08:58:04.207Z: Setting column 4 (light_state) to true
2025-05-27T08:58:04.207Z: Setting column 5 (ac_state) to false
2025-05-27T08:58:04.207Z: Setting column 6 (targetTemperature) to N/A
2025-05-27T08:58:04.207Z: Setting column 7 (targetAcMode) to N/A
2025-05-27T08:58:04.207Z: Preparing row: 2025-05-27 08:58:04,23.8,61.9,false,true,false,N/A,N/A,41413915
2025-05-27T08:58:04.207Z: Successfully wrote to log file using writeFileSync
2025-05-27T08:58:04.207Z: Successfully logged combined sensor data in one row with target temperature: N/A and target mode: N/A
2025-05-27T08:58:04.211Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-27T08:58:04.211Z: Polling interval active: true
2025-05-27T09:51:43.453Z: Initializing sensor logging service
2025-05-27T09:51:43.454Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-27T09:51:43.454Z: Added light_state column to event names
2025-05-27T09:51:43.455Z: Added ac_state column to event names
2025-05-27T09:51:43.455Z: Added ac_state column to event names
2025-05-27T09:51:43.455Z: Added targetAcMode column to event names
2025-05-27T09:51:43.456Z: Using existing log file
2025-05-27T09:51:43.457Z: Logging enabled
2025-05-27T09:51:43.458Z: No polling was active to stop
2025-05-27T09:51:43.459Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-05-27T09:51:43.459Z: Polling interval set with ID: 1015
2025-05-27T09:51:43.460Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-27T09:51:43.460Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-27T09:51:43.481Z: Initializing sensor logging service
2025-05-27T09:51:43.481Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-27T09:51:43.482Z: Added light_state column to event names
2025-05-27T09:51:43.482Z: Added ac_state column to event names
2025-05-27T09:51:43.483Z: Added ac_state column to event names
2025-05-27T09:51:43.483Z: Added targetAcMode column to event names
2025-05-27T09:51:43.483Z: Using existing log file
2025-05-27T09:51:43.484Z: Closing existing log stream before creating new one
2025-05-27T09:51:43.485Z: Logging enabled
2025-05-27T09:51:43.485Z: Stopping sensor polling interval: 1015
2025-05-27T09:51:43.485Z: Closing logging service
2025-05-27T09:51:43.485Z: Closing sensor logging service
2025-05-27T09:51:43.485Z: Closing log stream
2025-05-27T09:51:43.485Z: Logging stopped at 2025-05-27T09:51:43.485Z
2025-05-27T09:51:43.487Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-05-27T09:51:43.487Z: Polling interval set with ID: 1129
2025-05-27T09:51:43.487Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-27T09:51:43.488Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-27T09:51:43.460Z: Received motion sensor data: {"motionDetected":false}
2025-05-27T09:51:43.460Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-27T09:51:43.460Z: Successfully updated motion event: living room motion = false
2025-05-27T09:51:43.488Z: Received motion sensor data: {"motionDetected":false}
2025-05-27T09:51:43.488Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-27T09:51:43.488Z: Successfully updated motion event: living room motion = false
2025-05-27T09:51:43.460Z: Received sensor data: {"temperature":23.9,"humidity":61.9}
2025-05-27T09:51:43.460Z: Formatted events: [{"name":"living room temperature","value":23.9,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":61.9,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-27T09:51:43.460Z: Successfully updated event: living room temperature = 23.9
2025-05-27T09:51:43.460Z: Successfully updated event: living room humidity = 61.9
2025-05-27T09:51:43.487Z: Received sensor data: {"temperature":23.9,"humidity":61.9}
2025-05-27T09:51:43.487Z: Formatted events: [{"name":"living room temperature","value":23.9,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":61.9,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-27T09:51:43.487Z: Successfully updated event: living room temperature = 23.9
2025-05-27T09:51:43.487Z: Successfully updated event: living room humidity = 61.9
2025-05-27T09:51:44.344Z: Initial poll - AC on: false, target temp: N/A, target mode: N/A
2025-05-27T09:51:44.345Z: Creating a combined row with motion=false, temp=23.9, humidity=61.9, light=true, ac_on=false, target_temp=N/A, target_mode=N/A
2025-05-27T09:51:44.345Z: logSensorData called with 7 sensors
2025-05-27T09:51:44.345Z: WARNING - Logging is disabled but logSensorData was called
2025-05-27T09:51:44.345Z: Attempting to re-initialize logging with existing events
2025-05-27T09:51:44.346Z: Initializing sensor logging service
2025-05-27T09:51:44.346Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-27T09:51:44.347Z: Using existing log file
2025-05-27T09:51:44.345Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-27T09:51:44.345Z: Setting spaceId column 8 to 41413915
2025-05-27T09:51:44.345Z: Setting column 3 (living room motion) to false
2025-05-27T09:51:44.345Z: Setting column 1 (living room temperature) to 23.9
2025-05-27T09:51:44.345Z: Setting column 2 (living room humidity) to 61.9
2025-05-27T09:51:44.345Z: Setting column 4 (light_state) to true
2025-05-27T09:51:44.345Z: Setting column 5 (ac_state) to false
2025-05-27T09:51:44.345Z: Setting column 6 (targetTemperature) to N/A
2025-05-27T09:51:44.345Z: Setting column 7 (targetAcMode) to N/A
2025-05-27T09:51:44.345Z: Preparing row: 2025-05-27 09:51:44,23.9,61.9,false,true,false,N/A,N/A,41413915
2025-05-27T09:51:44.345Z: Successfully wrote to log file using writeFileSync
2025-05-27T09:51:44.345Z: Successfully logged combined sensor data in one row with target temperature: N/A and target mode: N/A
2025-05-27T09:51:44.351Z: Initial combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-27T09:51:44.352Z: Initial poll - AC on: false, target temp: N/A, target mode: N/A
2025-05-27T09:51:44.352Z: Creating a combined row with motion=false, temp=23.9, humidity=61.9, light=true, ac_on=false, target_temp=N/A, target_mode=N/A
2025-05-27T09:51:44.352Z: logSensorData called with 7 sensors
2025-05-27T09:51:44.352Z: WARNING - Logging is disabled but logSensorData was called
2025-05-27T09:51:44.352Z: Attempting to re-initialize logging with existing events
2025-05-27T09:51:44.353Z: Initializing sensor logging service
2025-05-27T09:51:44.353Z: Log file path: C:\Users\amin\Desktop\smart-space\SmartSchool-Server\logs\sensor_data.csv
2025-05-27T09:51:44.353Z: Using existing log file
2025-05-27T09:51:44.352Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-27T09:51:44.352Z: Setting spaceId column 8 to 41413915
2025-05-27T09:51:44.352Z: Setting column 3 (living room motion) to false
2025-05-27T09:51:44.352Z: Setting column 1 (living room temperature) to 23.9
2025-05-27T09:51:44.352Z: Setting column 2 (living room humidity) to 61.9
2025-05-27T09:51:44.352Z: Setting column 4 (light_state) to true
2025-05-27T09:51:44.352Z: Setting column 5 (ac_state) to false
2025-05-27T09:51:44.352Z: Setting column 6 (targetTemperature) to N/A
2025-05-27T09:51:44.352Z: Setting column 7 (targetAcMode) to N/A
2025-05-27T09:51:44.352Z: Preparing row: 2025-05-27 09:51:44,23.9,61.9,false,true,false,N/A,N/A,41413915
2025-05-27T09:51:44.352Z: Successfully wrote to log file using writeFileSync
2025-05-27T09:51:44.352Z: Successfully logged combined sensor data in one row with target temperature: N/A and target mode: N/A
2025-05-27T09:51:44.357Z: Initial combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-27T09:51:44.358Z: Logging enabled
2025-05-27T09:51:44.345Z: Re-initialization result: {"success":true,"message":"Sensor logging initialized to C:\\Users\\amin\\Desktop\\smart-space\\SmartSchool-Server\\logs\\sensor_data.csv","columns":[["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]}
2025-05-27T09:51:44.358Z: Closing existing log stream before creating new one
2025-05-27T09:51:44.358Z: Logging enabled
2025-05-27T09:51:44.352Z: Re-initialization result: {"success":true,"message":"Sensor logging initialized to C:\\Users\\amin\\Desktop\\smart-space\\SmartSchool-Server\\logs\\sensor_data.csv","columns":[["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]}
2025-05-27T09:53:23.495Z: Polling for sensor data... (poll #1)
2025-05-27T09:53:23.497Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-27T09:53:23.497Z: Received sensor data: {"temperature":23.9,"humidity":62.2}
2025-05-27T09:53:23.497Z: Formatted events: [{"name":"living room temperature","value":23.9,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":62.2,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-27T09:53:23.497Z: Successfully updated event: living room temperature = 23.9
2025-05-27T09:53:23.497Z: Successfully updated event: living room humidity = 62.2
2025-05-27T09:53:24.136Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":23.9,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":62.2,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-27T09:53:24.136Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-27T09:53:24.136Z: Received motion sensor data: {"motionDetected":true}
2025-05-27T09:53:24.136Z: Formatted motion sensor events: [{"name":"living room motion","value":true,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-27T09:53:24.136Z: Successfully updated motion event: living room motion = true
2025-05-27T09:53:24.296Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":true,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-27T09:53:24.859Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":false,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-27T09:53:24.920561Z"}}
2025-05-27T09:53:24.860Z: Extracted AC on state: false, target temperature: N/A, target mode: N/A
2025-05-27T09:53:25.223Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":true},"success":true}
2025-05-27T09:53:25.225Z: Extracted light state: true
2025-05-27T09:53:25.226Z: Creating a combined row with motion=true, temp=23.9, humidity=62.2, light=true, ac_on=false, target_temp=N/A, target_mode=N/A
2025-05-27T09:53:25.227Z: logSensorData called with 7 sensors
2025-05-27T09:53:25.227Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-27T09:53:25.227Z: Setting spaceId column 8 to 41413915
2025-05-27T09:53:25.227Z: Setting column 3 (living room motion) to true
2025-05-27T09:53:25.227Z: Setting column 1 (living room temperature) to 23.9
2025-05-27T09:53:25.227Z: Setting column 2 (living room humidity) to 62.2
2025-05-27T09:53:25.227Z: Setting column 4 (light_state) to true
2025-05-27T09:53:25.227Z: Setting column 5 (ac_state) to false
2025-05-27T09:53:25.227Z: Setting column 6 (targetTemperature) to N/A
2025-05-27T09:53:25.227Z: Setting column 7 (targetAcMode) to N/A
2025-05-27T09:53:25.227Z: Preparing row: 2025-05-27 09:53:25,23.9,62.2,true,true,false,N/A,N/A,41413915
2025-05-27T09:53:25.227Z: Successfully wrote to log file using writeFileSync
2025-05-27T09:53:25.226Z: Successfully logged combined sensor data in one row with target temperature: N/A and target mode: N/A
2025-05-27T09:53:25.231Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-27T09:53:25.231Z: Polling interval active: true
2025-05-27T09:55:03.505Z: Polling for sensor data... (poll #2)
2025-05-27T09:55:03.506Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-27T09:55:03.506Z: Received sensor data: {"temperature":23.9,"humidity":62.2}
2025-05-27T09:55:03.506Z: Formatted events: [{"name":"living room temperature","value":23.9,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":62.2,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-27T09:55:03.506Z: Successfully updated event: living room temperature = 23.9
2025-05-27T09:55:03.506Z: Successfully updated event: living room humidity = 62.2
2025-05-27T09:55:04.084Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":23.9,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":62.2,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-27T09:55:04.084Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-27T09:55:04.084Z: Received motion sensor data: {"motionDetected":false}
2025-05-27T09:55:04.084Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-27T09:55:04.084Z: Successfully updated motion event: living room motion = false
2025-05-27T09:55:04.261Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-27T09:55:04.836Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":false,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-27T09:55:04.914675Z"}}
2025-05-27T09:55:04.837Z: Extracted AC on state: false, target temperature: N/A, target mode: N/A
2025-05-27T09:55:05.166Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":true},"success":true}
2025-05-27T09:55:05.168Z: Extracted light state: true
2025-05-27T09:55:05.168Z: Creating a combined row with motion=false, temp=23.9, humidity=62.2, light=true, ac_on=false, target_temp=N/A, target_mode=N/A
2025-05-27T09:55:05.168Z: logSensorData called with 7 sensors
2025-05-27T09:55:05.168Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-27T09:55:05.168Z: Setting spaceId column 8 to 41413915
2025-05-27T09:55:05.168Z: Setting column 3 (living room motion) to false
2025-05-27T09:55:05.168Z: Setting column 1 (living room temperature) to 23.9
2025-05-27T09:55:05.168Z: Setting column 2 (living room humidity) to 62.2
2025-05-27T09:55:05.168Z: Setting column 4 (light_state) to true
2025-05-27T09:55:05.168Z: Setting column 5 (ac_state) to false
2025-05-27T09:55:05.168Z: Setting column 6 (targetTemperature) to N/A
2025-05-27T09:55:05.168Z: Setting column 7 (targetAcMode) to N/A
2025-05-27T09:55:05.168Z: Preparing row: 2025-05-27 09:55:05,23.9,62.2,false,true,false,N/A,N/A,41413915
2025-05-27T09:55:05.168Z: Successfully wrote to log file using writeFileSync
2025-05-27T09:55:05.168Z: Successfully logged combined sensor data in one row with target temperature: N/A and target mode: N/A
2025-05-27T09:55:05.173Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-27T09:55:05.173Z: Polling interval active: true
2025-05-27T09:56:43.518Z: Polling for sensor data... (poll #3)
2025-05-27T09:56:43.519Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-27T09:56:43.519Z: Received sensor data: {"temperature":23.9,"humidity":61.9}
2025-05-27T09:56:43.519Z: Formatted events: [{"name":"living room temperature","value":23.9,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":61.9,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-27T09:56:43.519Z: Successfully updated event: living room temperature = 23.9
2025-05-27T09:56:43.519Z: Successfully updated event: living room humidity = 61.9
2025-05-27T09:56:44.162Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":23.9,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":61.9,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-27T09:56:44.162Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-27T09:56:44.162Z: Received motion sensor data: {"motionDetected":true}
2025-05-27T09:56:44.162Z: Formatted motion sensor events: [{"name":"living room motion","value":true,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-27T09:56:44.162Z: Successfully updated motion event: living room motion = true
2025-05-27T09:56:44.320Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":true,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-27T09:56:44.931Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":false,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":-1,"time":"2025-05-27T09:56:45.003100Z"}}
2025-05-27T09:56:44.932Z: Extracted AC on state: false, target temperature: N/A, target mode: N/A
2025-05-27T09:56:45.273Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":true},"success":true}
2025-05-27T09:56:45.273Z: Extracted light state: true
2025-05-27T09:56:45.273Z: Creating a combined row with motion=true, temp=23.9, humidity=61.9, light=true, ac_on=false, target_temp=N/A, target_mode=N/A
2025-05-27T09:56:45.274Z: logSensorData called with 7 sensors
2025-05-27T09:56:45.274Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-27T09:56:45.274Z: Setting spaceId column 8 to 41413915
2025-05-27T09:56:45.274Z: Setting column 3 (living room motion) to true
2025-05-27T09:56:45.274Z: Setting column 1 (living room temperature) to 23.9
2025-05-27T09:56:45.274Z: Setting column 2 (living room humidity) to 61.9
2025-05-27T09:56:45.274Z: Setting column 4 (light_state) to true
2025-05-27T09:56:45.274Z: Setting column 5 (ac_state) to false
2025-05-27T09:56:45.274Z: Setting column 6 (targetTemperature) to N/A
2025-05-27T09:56:45.274Z: Setting column 7 (targetAcMode) to N/A
2025-05-27T09:56:45.274Z: Preparing row: 2025-05-27 09:56:45,23.9,61.9,true,true,false,N/A,N/A,41413915
2025-05-27T09:56:45.274Z: Successfully wrote to log file using writeFileSync
2025-05-27T09:56:45.273Z: Successfully logged combined sensor data in one row with target temperature: N/A and target mode: N/A
2025-05-27T09:56:45.277Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-27T09:56:45.277Z: Polling interval active: true
2025-05-27T09:58:23.526Z: Polling for sensor data... (poll #4)
2025-05-27T09:58:23.527Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-27T09:58:23.527Z: Received sensor data: {"temperature":23.9,"humidity":62.2}
2025-05-27T09:58:23.527Z: Formatted events: [{"name":"living room temperature","value":23.9,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":62.2,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-27T09:58:23.527Z: Successfully updated event: living room temperature = 23.9
2025-05-27T09:58:23.527Z: Successfully updated event: living room humidity = 62.2
2025-05-27T09:58:24.160Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":23.9,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":62.2,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-27T09:58:24.160Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-27T09:58:24.160Z: Received motion sensor data: {"motionDetected":true}
2025-05-27T09:58:24.160Z: Formatted motion sensor events: [{"name":"living room motion","value":true,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-27T09:58:24.160Z: Successfully updated motion event: living room motion = true
2025-05-27T09:58:24.319Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":true,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-27T09:58:24.888Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":false,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-27T09:58:24.961965Z"}}
2025-05-27T09:58:24.889Z: Extracted AC on state: false, target temperature: N/A, target mode: N/A
2025-05-27T09:58:25.227Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":true},"success":true}
2025-05-27T09:58:25.228Z: Extracted light state: true
2025-05-27T09:58:25.228Z: Creating a combined row with motion=true, temp=23.9, humidity=62.2, light=true, ac_on=false, target_temp=N/A, target_mode=N/A
2025-05-27T09:58:25.228Z: logSensorData called with 7 sensors
2025-05-27T09:58:25.228Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-27T09:58:25.228Z: Setting spaceId column 8 to 41413915
2025-05-27T09:58:25.228Z: Setting column 3 (living room motion) to true
2025-05-27T09:58:25.228Z: Setting column 1 (living room temperature) to 23.9
2025-05-27T09:58:25.228Z: Setting column 2 (living room humidity) to 62.2
2025-05-27T09:58:25.228Z: Setting column 4 (light_state) to true
2025-05-27T09:58:25.228Z: Setting column 5 (ac_state) to false
2025-05-27T09:58:25.228Z: Setting column 6 (targetTemperature) to N/A
2025-05-27T09:58:25.228Z: Setting column 7 (targetAcMode) to N/A
2025-05-27T09:58:25.228Z: Preparing row: 2025-05-27 09:58:25,23.9,62.2,true,true,false,N/A,N/A,41413915
2025-05-27T09:58:25.228Z: Successfully wrote to log file using writeFileSync
2025-05-27T09:58:25.228Z: Successfully logged combined sensor data in one row with target temperature: N/A and target mode: N/A
2025-05-27T09:58:25.231Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-27T09:58:25.231Z: Polling interval active: true
2025-05-27T10:00:03.535Z: Polling for sensor data... (poll #5)
2025-05-27T10:00:03.537Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-27T10:00:03.537Z: Received sensor data: {"temperature":23.9,"humidity":62.2}
2025-05-27T10:00:03.537Z: Formatted events: [{"name":"living room temperature","value":23.9,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":62.2,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-27T10:00:03.537Z: Successfully updated event: living room temperature = 23.9
2025-05-27T10:00:03.537Z: Successfully updated event: living room humidity = 62.2
2025-05-27T10:00:04.114Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":23.9,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":62.2,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-27T10:00:04.115Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-27T10:00:04.115Z: Received motion sensor data: {"motionDetected":true}
2025-05-27T10:00:04.115Z: Formatted motion sensor events: [{"name":"living room motion","value":true,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-27T10:00:04.115Z: Successfully updated motion event: living room motion = true
2025-05-27T10:00:04.267Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":true,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-27T10:00:04.855Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":false,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-27T10:00:04.937519Z"}}
2025-05-27T10:00:04.855Z: Extracted AC on state: false, target temperature: N/A, target mode: N/A
2025-05-27T10:00:05.180Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":true},"success":true}
2025-05-27T10:00:05.180Z: Extracted light state: true
2025-05-27T10:00:05.181Z: Creating a combined row with motion=true, temp=23.9, humidity=62.2, light=true, ac_on=false, target_temp=N/A, target_mode=N/A
2025-05-27T10:00:05.181Z: logSensorData called with 7 sensors
2025-05-27T10:00:05.181Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-27T10:00:05.181Z: Setting spaceId column 8 to 41413915
2025-05-27T10:00:05.181Z: Setting column 3 (living room motion) to true
2025-05-27T10:00:05.181Z: Setting column 1 (living room temperature) to 23.9
2025-05-27T10:00:05.181Z: Setting column 2 (living room humidity) to 62.2
2025-05-27T10:00:05.181Z: Setting column 4 (light_state) to true
2025-05-27T10:00:05.181Z: Setting column 5 (ac_state) to false
2025-05-27T10:00:05.181Z: Setting column 6 (targetTemperature) to N/A
2025-05-27T10:00:05.181Z: Setting column 7 (targetAcMode) to N/A
2025-05-27T10:00:05.181Z: Preparing row: 2025-05-27 10:00:05,23.9,62.2,true,true,false,N/A,N/A,41413915
2025-05-27T10:00:05.181Z: Successfully wrote to log file using writeFileSync
2025-05-27T10:00:05.181Z: Successfully logged combined sensor data in one row with target temperature: N/A and target mode: N/A
2025-05-27T10:00:05.185Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-27T10:00:05.185Z: Polling interval active: true
2025-05-27T10:01:43.546Z: Polling for sensor data... (poll #6)
2025-05-27T10:01:43.546Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-27T10:01:43.546Z: Received sensor data: {"temperature":23.9,"humidity":62.3}
2025-05-27T10:01:43.546Z: Formatted events: [{"name":"living room temperature","value":23.9,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":62.3,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-27T10:01:43.546Z: Successfully updated event: living room temperature = 23.9
2025-05-27T10:01:43.546Z: Successfully updated event: living room humidity = 62.3
2025-05-27T10:01:44.152Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":23.9,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":62.3,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-27T10:01:44.152Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-27T10:01:44.152Z: Received motion sensor data: {"motionDetected":false}
2025-05-27T10:01:44.152Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-27T10:01:44.152Z: Successfully updated motion event: living room motion = false
2025-05-27T10:01:44.304Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-27T10:01:44.883Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":false,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-27T10:01:44.974699Z"}}
2025-05-27T10:01:44.883Z: Extracted AC on state: false, target temperature: N/A, target mode: N/A
2025-05-27T10:01:45.212Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":true},"success":true}
2025-05-27T10:01:45.212Z: Extracted light state: true
2025-05-27T10:01:45.213Z: Creating a combined row with motion=false, temp=23.9, humidity=62.3, light=true, ac_on=false, target_temp=N/A, target_mode=N/A
2025-05-27T10:01:45.213Z: logSensorData called with 7 sensors
2025-05-27T10:01:45.213Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-27T10:01:45.213Z: Setting spaceId column 8 to 41413915
2025-05-27T10:01:45.213Z: Setting column 3 (living room motion) to false
2025-05-27T10:01:45.213Z: Setting column 1 (living room temperature) to 23.9
2025-05-27T10:01:45.213Z: Setting column 2 (living room humidity) to 62.3
2025-05-27T10:01:45.213Z: Setting column 4 (light_state) to true
2025-05-27T10:01:45.213Z: Setting column 5 (ac_state) to false
2025-05-27T10:01:45.213Z: Setting column 6 (targetTemperature) to N/A
2025-05-27T10:01:45.213Z: Setting column 7 (targetAcMode) to N/A
2025-05-27T10:01:45.213Z: Preparing row: 2025-05-27 10:01:45,23.9,62.3,false,true,false,N/A,N/A,41413915
2025-05-27T10:01:45.213Z: Successfully wrote to log file using writeFileSync
2025-05-27T10:01:45.213Z: Successfully logged combined sensor data in one row with target temperature: N/A and target mode: N/A
2025-05-27T10:01:45.216Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-27T10:01:45.216Z: Polling interval active: true
2025-05-27T10:03:23.555Z: Polling for sensor data... (poll #7)
2025-05-27T10:03:23.556Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-27T10:03:23.556Z: Received sensor data: {"temperature":24,"humidity":62.1}
2025-05-27T10:03:23.556Z: Formatted events: [{"name":"living room temperature","value":24,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":62.1,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-27T10:03:23.556Z: Successfully updated event: living room temperature = 24
2025-05-27T10:03:23.556Z: Successfully updated event: living room humidity = 62.1
2025-05-27T10:03:24.115Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":24,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":62.1,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-27T10:03:24.115Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-27T10:03:24.115Z: Received motion sensor data: {"motionDetected":true}
2025-05-27T10:03:24.115Z: Formatted motion sensor events: [{"name":"living room motion","value":true,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-27T10:03:24.115Z: Successfully updated motion event: living room motion = true
2025-05-27T10:03:24.267Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":true,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-27T10:03:24.833Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":false,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-27T10:03:24.923874Z"}}
2025-05-27T10:03:24.834Z: Extracted AC on state: false, target temperature: N/A, target mode: N/A
2025-05-27T10:03:25.178Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":true},"success":true}
2025-05-27T10:03:25.179Z: Extracted light state: true
2025-05-27T10:03:25.179Z: Creating a combined row with motion=true, temp=24, humidity=62.1, light=true, ac_on=false, target_temp=N/A, target_mode=N/A
2025-05-27T10:03:25.179Z: logSensorData called with 7 sensors
2025-05-27T10:03:25.179Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-27T10:03:25.179Z: Setting spaceId column 8 to 41413915
2025-05-27T10:03:25.179Z: Setting column 3 (living room motion) to true
2025-05-27T10:03:25.179Z: Setting column 1 (living room temperature) to 24
2025-05-27T10:03:25.179Z: Setting column 2 (living room humidity) to 62.1
2025-05-27T10:03:25.179Z: Setting column 4 (light_state) to true
2025-05-27T10:03:25.179Z: Setting column 5 (ac_state) to false
2025-05-27T10:03:25.179Z: Setting column 6 (targetTemperature) to N/A
2025-05-27T10:03:25.179Z: Setting column 7 (targetAcMode) to N/A
2025-05-27T10:03:25.179Z: Preparing row: 2025-05-27 10:03:25,24,62.1,true,true,false,N/A,N/A,41413915
2025-05-27T10:03:25.179Z: Successfully wrote to log file using writeFileSync
2025-05-27T10:03:25.179Z: Successfully logged combined sensor data in one row with target temperature: N/A and target mode: N/A
2025-05-27T10:03:25.183Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-27T10:03:25.183Z: Polling interval active: true
2025-05-27T10:05:03.569Z: Polling for sensor data... (poll #8)
2025-05-27T10:05:03.569Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-27T10:05:03.569Z: Received sensor data: {"temperature":24,"humidity":61.8}
2025-05-27T10:05:03.569Z: Formatted events: [{"name":"living room temperature","value":24,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":61.8,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-27T10:05:03.569Z: Successfully updated event: living room temperature = 24
2025-05-27T10:05:03.569Z: Successfully updated event: living room humidity = 61.8
2025-05-27T10:05:04.165Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":24,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":61.8,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-27T10:05:04.165Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-27T10:05:04.165Z: Received motion sensor data: {"motionDetected":false}
2025-05-27T10:05:04.165Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-27T10:05:04.165Z: Successfully updated motion event: living room motion = false
2025-05-27T10:05:04.315Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-27T10:05:04.915Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":false,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":-1,"time":"2025-05-27T10:05:05.010762Z"}}
2025-05-27T10:05:04.916Z: Extracted AC on state: false, target temperature: N/A, target mode: N/A
2025-05-27T10:05:05.238Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":true},"success":true}
2025-05-27T10:05:05.239Z: Extracted light state: true
2025-05-27T10:05:05.239Z: Creating a combined row with motion=false, temp=24, humidity=61.8, light=true, ac_on=false, target_temp=N/A, target_mode=N/A
2025-05-27T10:05:05.240Z: logSensorData called with 7 sensors
2025-05-27T10:05:05.240Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-27T10:05:05.240Z: Setting spaceId column 8 to 41413915
2025-05-27T10:05:05.240Z: Setting column 3 (living room motion) to false
2025-05-27T10:05:05.240Z: Setting column 1 (living room temperature) to 24
2025-05-27T10:05:05.240Z: Setting column 2 (living room humidity) to 61.8
2025-05-27T10:05:05.240Z: Setting column 4 (light_state) to true
2025-05-27T10:05:05.240Z: Setting column 5 (ac_state) to false
2025-05-27T10:05:05.240Z: Setting column 6 (targetTemperature) to N/A
2025-05-27T10:05:05.240Z: Setting column 7 (targetAcMode) to N/A
2025-05-27T10:05:05.240Z: Preparing row: 2025-05-27 10:05:05,24,61.8,false,true,false,N/A,N/A,41413915
2025-05-27T10:05:05.240Z: Successfully wrote to log file using writeFileSync
2025-05-27T10:05:05.239Z: Successfully logged combined sensor data in one row with target temperature: N/A and target mode: N/A
2025-05-27T10:05:05.243Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-27T10:05:05.243Z: Polling interval active: true
2025-05-27T10:06:43.576Z: Polling for sensor data... (poll #9)
2025-05-27T10:06:43.577Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-27T10:06:43.577Z: Received sensor data: {"temperature":24,"humidity":61.8}
2025-05-27T10:06:43.577Z: Formatted events: [{"name":"living room temperature","value":24,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":61.8,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-27T10:06:43.577Z: Successfully updated event: living room temperature = 24
2025-05-27T10:06:43.577Z: Successfully updated event: living room humidity = 61.8
2025-05-27T10:06:44.173Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":24,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":61.8,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-27T10:06:44.173Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-27T10:06:44.173Z: Received motion sensor data: {"motionDetected":true}
2025-05-27T10:06:44.173Z: Formatted motion sensor events: [{"name":"living room motion","value":true,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-27T10:06:44.173Z: Successfully updated motion event: living room motion = true
2025-05-27T10:06:44.325Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":true,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-27T10:06:44.855Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":false,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-27T10:06:44.953473Z"}}
2025-05-27T10:06:44.855Z: Extracted AC on state: false, target temperature: N/A, target mode: N/A
2025-05-27T10:06:45.193Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":true},"success":true}
2025-05-27T10:06:45.194Z: Extracted light state: true
2025-05-27T10:06:45.194Z: Creating a combined row with motion=true, temp=24, humidity=61.8, light=true, ac_on=false, target_temp=N/A, target_mode=N/A
2025-05-27T10:06:45.194Z: logSensorData called with 7 sensors
2025-05-27T10:06:45.194Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-27T10:06:45.194Z: Setting spaceId column 8 to 41413915
2025-05-27T10:06:45.194Z: Setting column 3 (living room motion) to true
2025-05-27T10:06:45.194Z: Setting column 1 (living room temperature) to 24
2025-05-27T10:06:45.194Z: Setting column 2 (living room humidity) to 61.8
2025-05-27T10:06:45.194Z: Setting column 4 (light_state) to true
2025-05-27T10:06:45.194Z: Setting column 5 (ac_state) to false
2025-05-27T10:06:45.194Z: Setting column 6 (targetTemperature) to N/A
2025-05-27T10:06:45.194Z: Setting column 7 (targetAcMode) to N/A
2025-05-27T10:06:45.194Z: Preparing row: 2025-05-27 10:06:45,24,61.8,true,true,false,N/A,N/A,41413915
2025-05-27T10:06:45.194Z: Successfully wrote to log file using writeFileSync
2025-05-27T10:06:45.194Z: Successfully logged combined sensor data in one row with target temperature: N/A and target mode: N/A
2025-05-27T10:06:45.199Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-27T10:06:45.199Z: Polling interval active: true
2025-05-27T10:08:23.582Z: Polling for sensor data... (poll #10)
2025-05-27T10:08:23.583Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-27T10:08:23.583Z: Received sensor data: {"temperature":24,"humidity":61.9}
2025-05-27T10:08:23.583Z: Formatted events: [{"name":"living room temperature","value":24,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":61.9,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-27T10:08:23.583Z: Successfully updated event: living room temperature = 24
2025-05-27T10:08:23.583Z: Successfully updated event: living room humidity = 61.9
2025-05-27T10:08:24.139Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":24,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":61.9,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-27T10:08:24.140Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-27T10:08:24.140Z: Received motion sensor data: {"motionDetected":false}
2025-05-27T10:08:24.140Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-27T10:08:24.140Z: Successfully updated motion event: living room motion = false
2025-05-27T10:08:24.299Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-27T10:08:24.909Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":false,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-27T10:08:24.997980Z"}}
2025-05-27T10:08:24.909Z: Extracted AC on state: false, target temperature: N/A, target mode: N/A
2025-05-27T10:08:25.257Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":true},"success":true}
2025-05-27T10:08:25.257Z: Extracted light state: true
2025-05-27T10:08:25.258Z: Creating a combined row with motion=false, temp=24, humidity=61.9, light=true, ac_on=false, target_temp=N/A, target_mode=N/A
2025-05-27T10:08:25.258Z: logSensorData called with 7 sensors
2025-05-27T10:08:25.258Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-27T10:08:25.258Z: Setting spaceId column 8 to 41413915
2025-05-27T10:08:25.258Z: Setting column 3 (living room motion) to false
2025-05-27T10:08:25.258Z: Setting column 1 (living room temperature) to 24
2025-05-27T10:08:25.258Z: Setting column 2 (living room humidity) to 61.9
2025-05-27T10:08:25.258Z: Setting column 4 (light_state) to true
2025-05-27T10:08:25.258Z: Setting column 5 (ac_state) to false
2025-05-27T10:08:25.258Z: Setting column 6 (targetTemperature) to N/A
2025-05-27T10:08:25.258Z: Setting column 7 (targetAcMode) to N/A
2025-05-27T10:08:25.258Z: Preparing row: 2025-05-27 10:08:25,24,61.9,false,true,false,N/A,N/A,41413915
2025-05-27T10:08:25.258Z: Successfully wrote to log file using writeFileSync
2025-05-27T10:08:25.258Z: Successfully logged combined sensor data in one row with target temperature: N/A and target mode: N/A
2025-05-27T10:08:25.261Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-27T10:08:25.261Z: Polling interval active: true
2025-05-27T10:10:03.589Z: Polling for sensor data... (poll #11)
2025-05-27T10:10:03.590Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-27T10:10:03.590Z: Received sensor data: {"temperature":24,"humidity":61.8}
2025-05-27T10:10:03.590Z: Formatted events: [{"name":"living room temperature","value":24,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":61.8,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-27T10:10:03.590Z: Successfully updated event: living room temperature = 24
2025-05-27T10:10:03.590Z: Successfully updated event: living room humidity = 61.8
2025-05-27T10:10:04.185Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":24,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":61.8,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-27T10:10:04.185Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-27T10:10:04.185Z: Received motion sensor data: {"motionDetected":false}
2025-05-27T10:10:04.185Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-27T10:10:04.185Z: Successfully updated motion event: living room motion = false
2025-05-27T10:10:04.346Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-27T10:10:04.896Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":false,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-27T10:10:04.988884Z"}}
2025-05-27T10:10:04.896Z: Extracted AC on state: false, target temperature: N/A, target mode: N/A
2025-05-27T10:10:05.283Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":true},"success":true}
2025-05-27T10:10:05.283Z: Extracted light state: true
2025-05-27T10:10:05.284Z: Creating a combined row with motion=false, temp=24, humidity=61.8, light=true, ac_on=false, target_temp=N/A, target_mode=N/A
2025-05-27T10:10:05.284Z: logSensorData called with 7 sensors
2025-05-27T10:10:05.284Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-27T10:10:05.284Z: Setting spaceId column 8 to 41413915
2025-05-27T10:10:05.284Z: Setting column 3 (living room motion) to false
2025-05-27T10:10:05.284Z: Setting column 1 (living room temperature) to 24
2025-05-27T10:10:05.284Z: Setting column 2 (living room humidity) to 61.8
2025-05-27T10:10:05.284Z: Setting column 4 (light_state) to true
2025-05-27T10:10:05.284Z: Setting column 5 (ac_state) to false
2025-05-27T10:10:05.284Z: Setting column 6 (targetTemperature) to N/A
2025-05-27T10:10:05.284Z: Setting column 7 (targetAcMode) to N/A
2025-05-27T10:10:05.284Z: Preparing row: 2025-05-27 10:10:05,24,61.8,false,true,false,N/A,N/A,41413915
2025-05-27T10:10:05.284Z: Successfully wrote to log file using writeFileSync
2025-05-27T10:10:05.284Z: Successfully logged combined sensor data in one row with target temperature: N/A and target mode: N/A
2025-05-27T10:10:05.288Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-27T10:10:05.289Z: Polling interval active: true
2025-05-27T10:11:43.596Z: Polling for sensor data... (poll #12)
2025-05-27T10:11:43.597Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-27T10:11:43.597Z: Received sensor data: {"temperature":24,"humidity":61.8}
2025-05-27T10:11:43.597Z: Formatted events: [{"name":"living room temperature","value":24,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":61.8,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-27T10:11:43.597Z: Successfully updated event: living room temperature = 24
2025-05-27T10:11:43.597Z: Successfully updated event: living room humidity = 61.8
2025-05-27T10:11:44.656Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":24,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":61.8,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-27T10:11:44.657Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-27T10:11:44.657Z: Received motion sensor data: {"motionDetected":false}
2025-05-27T10:11:44.657Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-27T10:11:44.657Z: Successfully updated motion event: living room motion = false
2025-05-27T10:11:44.855Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-27T10:11:45.457Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":false,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-27T10:11:45.556849Z"}}
2025-05-27T10:11:45.457Z: Extracted AC on state: false, target temperature: N/A, target mode: N/A
2025-05-27T10:11:45.791Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":true},"success":true}
2025-05-27T10:11:45.792Z: Extracted light state: true
2025-05-27T10:11:45.792Z: Creating a combined row with motion=false, temp=24, humidity=61.8, light=true, ac_on=false, target_temp=N/A, target_mode=N/A
2025-05-27T10:11:45.793Z: logSensorData called with 7 sensors
2025-05-27T10:11:45.793Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-27T10:11:45.793Z: Setting spaceId column 8 to 41413915
2025-05-27T10:11:45.793Z: Setting column 3 (living room motion) to false
2025-05-27T10:11:45.793Z: Setting column 1 (living room temperature) to 24
2025-05-27T10:11:45.793Z: Setting column 2 (living room humidity) to 61.8
2025-05-27T10:11:45.793Z: Setting column 4 (light_state) to true
2025-05-27T10:11:45.793Z: Setting column 5 (ac_state) to false
2025-05-27T10:11:45.793Z: Setting column 6 (targetTemperature) to N/A
2025-05-27T10:11:45.793Z: Setting column 7 (targetAcMode) to N/A
2025-05-27T10:11:45.793Z: Preparing row: 2025-05-27 10:11:45,24,61.8,false,true,false,N/A,N/A,41413915
2025-05-27T10:11:45.793Z: Successfully wrote to log file using writeFileSync
2025-05-27T10:11:45.792Z: Successfully logged combined sensor data in one row with target temperature: N/A and target mode: N/A
2025-05-27T10:11:45.796Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-27T10:11:45.797Z: Polling interval active: true
2025-05-27T10:13:23.600Z: Polling for sensor data... (poll #13)
2025-05-27T10:13:23.601Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-27T10:13:23.601Z: Received sensor data: {"temperature":24,"humidity":61.8}
2025-05-27T10:13:23.601Z: Formatted events: [{"name":"living room temperature","value":24,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":61.8,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-27T10:13:23.601Z: Successfully updated event: living room temperature = 24
2025-05-27T10:13:23.601Z: Successfully updated event: living room humidity = 61.8
2025-05-27T10:13:24.177Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":24,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":61.8,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-27T10:13:24.178Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-27T10:13:24.178Z: Received motion sensor data: {"motionDetected":false}
2025-05-27T10:13:24.178Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-27T10:13:24.178Z: Successfully updated motion event: living room motion = false
2025-05-27T10:13:24.452Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-27T10:13:25.007Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":false,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-27T10:13:25.109621Z"}}
2025-05-27T10:13:25.007Z: Extracted AC on state: false, target temperature: N/A, target mode: N/A
2025-05-27T10:13:25.344Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":true},"success":true}
2025-05-27T10:13:25.344Z: Extracted light state: true
2025-05-27T10:13:25.345Z: Creating a combined row with motion=false, temp=24, humidity=61.8, light=true, ac_on=false, target_temp=N/A, target_mode=N/A
2025-05-27T10:13:25.345Z: logSensorData called with 7 sensors
2025-05-27T10:13:25.345Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-27T10:13:25.345Z: Setting spaceId column 8 to 41413915
2025-05-27T10:13:25.345Z: Setting column 3 (living room motion) to false
2025-05-27T10:13:25.345Z: Setting column 1 (living room temperature) to 24
2025-05-27T10:13:25.345Z: Setting column 2 (living room humidity) to 61.8
2025-05-27T10:13:25.345Z: Setting column 4 (light_state) to true
2025-05-27T10:13:25.345Z: Setting column 5 (ac_state) to false
2025-05-27T10:13:25.345Z: Setting column 6 (targetTemperature) to N/A
2025-05-27T10:13:25.345Z: Setting column 7 (targetAcMode) to N/A
2025-05-27T10:13:25.345Z: Preparing row: 2025-05-27 10:13:25,24,61.8,false,true,false,N/A,N/A,41413915
2025-05-27T10:13:25.345Z: Successfully wrote to log file using writeFileSync
2025-05-27T10:13:25.345Z: Successfully logged combined sensor data in one row with target temperature: N/A and target mode: N/A
2025-05-27T10:13:25.349Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-27T10:13:25.349Z: Polling interval active: true
2025-05-27T10:15:03.610Z: Polling for sensor data... (poll #14)
2025-05-27T10:15:03.611Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-27T10:15:03.611Z: Received sensor data: {"temperature":24.1,"humidity":61.9}
2025-05-27T10:15:03.611Z: Formatted events: [{"name":"living room temperature","value":24.1,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":61.9,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-27T10:15:03.611Z: Successfully updated event: living room temperature = 24.1
2025-05-27T10:15:03.611Z: Successfully updated event: living room humidity = 61.9
2025-05-27T10:15:04.212Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":24.1,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":61.9,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-27T10:15:04.212Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-27T10:15:04.212Z: Received motion sensor data: {"motionDetected":false}
2025-05-27T10:15:04.212Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-27T10:15:04.212Z: Successfully updated motion event: living room motion = false
2025-05-27T10:15:04.447Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-27T10:15:05.035Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":false,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-27T10:15:05.139655Z"}}
2025-05-27T10:15:05.035Z: Extracted AC on state: false, target temperature: N/A, target mode: N/A
2025-05-27T10:15:05.407Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":true},"success":true}
2025-05-27T10:15:05.408Z: Extracted light state: true
2025-05-27T10:15:05.408Z: Creating a combined row with motion=false, temp=24.1, humidity=61.9, light=true, ac_on=false, target_temp=N/A, target_mode=N/A
2025-05-27T10:15:05.408Z: logSensorData called with 7 sensors
2025-05-27T10:15:05.408Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-27T10:15:05.408Z: Setting spaceId column 8 to 41413915
2025-05-27T10:15:05.408Z: Setting column 3 (living room motion) to false
2025-05-27T10:15:05.408Z: Setting column 1 (living room temperature) to 24.1
2025-05-27T10:15:05.408Z: Setting column 2 (living room humidity) to 61.9
2025-05-27T10:15:05.408Z: Setting column 4 (light_state) to true
2025-05-27T10:15:05.408Z: Setting column 5 (ac_state) to false
2025-05-27T10:15:05.408Z: Setting column 6 (targetTemperature) to N/A
2025-05-27T10:15:05.408Z: Setting column 7 (targetAcMode) to N/A
2025-05-27T10:15:05.408Z: Preparing row: 2025-05-27 10:15:05,24.1,61.9,false,true,false,N/A,N/A,41413915
2025-05-27T10:15:05.408Z: Successfully wrote to log file using writeFileSync
2025-05-27T10:15:05.408Z: Successfully logged combined sensor data in one row with target temperature: N/A and target mode: N/A
2025-05-27T10:15:05.412Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-27T10:15:05.412Z: Polling interval active: true
2025-05-27T10:16:43.613Z: Polling for sensor data... (poll #15)
2025-05-27T10:16:43.614Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-27T10:16:43.614Z: Received sensor data: {"temperature":24.1,"humidity":61.9}
2025-05-27T10:16:43.614Z: Formatted events: [{"name":"living room temperature","value":24.1,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":61.9,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-27T10:16:43.614Z: Successfully updated event: living room temperature = 24.1
2025-05-27T10:16:43.614Z: Successfully updated event: living room humidity = 61.9
2025-05-27T10:16:44.227Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":24.1,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":61.9,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-27T10:16:44.227Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-27T10:16:44.227Z: Received motion sensor data: {"motionDetected":true}
2025-05-27T10:16:44.227Z: Formatted motion sensor events: [{"name":"living room motion","value":true,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-27T10:16:44.227Z: Successfully updated motion event: living room motion = true
2025-05-27T10:16:44.375Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":true,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-27T10:16:45.026Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":false,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-27T10:16:45.132550Z"}}
2025-05-27T10:16:45.027Z: Extracted AC on state: false, target temperature: N/A, target mode: N/A
2025-05-27T10:16:45.349Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":true},"success":true}
2025-05-27T10:16:45.350Z: Extracted light state: true
2025-05-27T10:16:45.351Z: Creating a combined row with motion=true, temp=24.1, humidity=61.9, light=true, ac_on=false, target_temp=N/A, target_mode=N/A
2025-05-27T10:16:45.351Z: logSensorData called with 7 sensors
2025-05-27T10:16:45.351Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-27T10:16:45.351Z: Setting spaceId column 8 to 41413915
2025-05-27T10:16:45.351Z: Setting column 3 (living room motion) to true
2025-05-27T10:16:45.351Z: Setting column 1 (living room temperature) to 24.1
2025-05-27T10:16:45.351Z: Setting column 2 (living room humidity) to 61.9
2025-05-27T10:16:45.351Z: Setting column 4 (light_state) to true
2025-05-27T10:16:45.351Z: Setting column 5 (ac_state) to false
2025-05-27T10:16:45.351Z: Setting column 6 (targetTemperature) to N/A
2025-05-27T10:16:45.351Z: Setting column 7 (targetAcMode) to N/A
2025-05-27T10:16:45.351Z: Preparing row: 2025-05-27 10:16:45,24.1,61.9,true,true,false,N/A,N/A,41413915
2025-05-27T10:16:45.351Z: Successfully wrote to log file using writeFileSync
2025-05-27T10:16:45.351Z: Successfully logged combined sensor data in one row with target temperature: N/A and target mode: N/A
2025-05-27T10:16:45.354Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-27T10:16:45.354Z: Polling interval active: true
2025-05-27T10:18:23.621Z: Polling for sensor data... (poll #16)
2025-05-27T10:18:23.622Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-27T10:18:23.622Z: Received sensor data: {"temperature":24.1,"humidity":61.9}
2025-05-27T10:18:23.622Z: Formatted events: [{"name":"living room temperature","value":24.1,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":61.9,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-27T10:18:23.622Z: Successfully updated event: living room temperature = 24.1
2025-05-27T10:18:23.622Z: Successfully updated event: living room humidity = 61.9
2025-05-27T10:18:24.213Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":24.1,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":61.9,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-27T10:18:24.213Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-27T10:18:24.213Z: Received motion sensor data: {"motionDetected":false}
2025-05-27T10:18:24.213Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-27T10:18:24.213Z: Successfully updated motion event: living room motion = false
2025-05-27T10:18:24.364Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-27T10:18:24.922Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":false,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-27T10:18:25.040818Z"}}
2025-05-27T10:18:24.923Z: Extracted AC on state: false, target temperature: N/A, target mode: N/A
2025-05-27T10:18:25.258Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":true},"success":true}
2025-05-27T10:18:25.258Z: Extracted light state: true
2025-05-27T10:18:25.258Z: Creating a combined row with motion=false, temp=24.1, humidity=61.9, light=true, ac_on=false, target_temp=N/A, target_mode=N/A
2025-05-27T10:18:25.259Z: logSensorData called with 7 sensors
2025-05-27T10:18:25.259Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-27T10:18:25.259Z: Setting spaceId column 8 to 41413915
2025-05-27T10:18:25.259Z: Setting column 3 (living room motion) to false
2025-05-27T10:18:25.259Z: Setting column 1 (living room temperature) to 24.1
2025-05-27T10:18:25.259Z: Setting column 2 (living room humidity) to 61.9
2025-05-27T10:18:25.259Z: Setting column 4 (light_state) to true
2025-05-27T10:18:25.259Z: Setting column 5 (ac_state) to false
2025-05-27T10:18:25.259Z: Setting column 6 (targetTemperature) to N/A
2025-05-27T10:18:25.259Z: Setting column 7 (targetAcMode) to N/A
2025-05-27T10:18:25.259Z: Preparing row: 2025-05-27 10:18:25,24.1,61.9,false,true,false,N/A,N/A,41413915
2025-05-27T10:18:25.259Z: Successfully wrote to log file using writeFileSync
2025-05-27T10:18:25.258Z: Successfully logged combined sensor data in one row with target temperature: N/A and target mode: N/A
2025-05-27T10:18:25.261Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-27T10:18:25.261Z: Polling interval active: true
2025-05-27T10:20:03.637Z: Polling for sensor data... (poll #17)
2025-05-27T10:20:03.638Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-27T10:20:03.638Z: Received sensor data: {"temperature":24,"humidity":62}
2025-05-27T10:20:03.638Z: Formatted events: [{"name":"living room temperature","value":24,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":62,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-27T10:20:03.638Z: Successfully updated event: living room temperature = 24
2025-05-27T10:20:03.638Z: Successfully updated event: living room humidity = 62
2025-05-27T10:20:04.266Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":24,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":62,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-27T10:20:04.266Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-27T10:20:04.266Z: Received motion sensor data: {"motionDetected":false}
2025-05-27T10:20:04.266Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-27T10:20:04.266Z: Successfully updated motion event: living room motion = false
2025-05-27T10:20:04.429Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-27T10:20:05.052Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":false,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-27T10:20:05.156275Z"}}
2025-05-27T10:20:05.052Z: Extracted AC on state: false, target temperature: N/A, target mode: N/A
2025-05-27T10:20:05.394Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":true},"success":true}
2025-05-27T10:20:05.394Z: Extracted light state: true
2025-05-27T10:20:05.394Z: Creating a combined row with motion=false, temp=24, humidity=62, light=true, ac_on=false, target_temp=N/A, target_mode=N/A
2025-05-27T10:20:05.395Z: logSensorData called with 7 sensors
2025-05-27T10:20:05.395Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-27T10:20:05.395Z: Setting spaceId column 8 to 41413915
2025-05-27T10:20:05.395Z: Setting column 3 (living room motion) to false
2025-05-27T10:20:05.395Z: Setting column 1 (living room temperature) to 24
2025-05-27T10:20:05.395Z: Setting column 2 (living room humidity) to 62
2025-05-27T10:20:05.395Z: Setting column 4 (light_state) to true
2025-05-27T10:20:05.395Z: Setting column 5 (ac_state) to false
2025-05-27T10:20:05.395Z: Setting column 6 (targetTemperature) to N/A
2025-05-27T10:20:05.395Z: Setting column 7 (targetAcMode) to N/A
2025-05-27T10:20:05.395Z: Preparing row: 2025-05-27 10:20:05,24,62,false,true,false,N/A,N/A,41413915
2025-05-27T10:20:05.395Z: Successfully wrote to log file using writeFileSync
2025-05-27T10:20:05.394Z: Successfully logged combined sensor data in one row with target temperature: N/A and target mode: N/A
2025-05-27T10:20:05.398Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-27T10:20:05.398Z: Polling interval active: true
2025-05-27T10:21:43.650Z: Polling for sensor data... (poll #18)
2025-05-27T10:21:43.651Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-27T10:21:43.651Z: Received sensor data: {"temperature":24,"humidity":62}
2025-05-27T10:21:43.651Z: Formatted events: [{"name":"living room temperature","value":24,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":62,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-27T10:21:43.651Z: Successfully updated event: living room temperature = 24
2025-05-27T10:21:43.651Z: Successfully updated event: living room humidity = 62
2025-05-27T10:21:44.209Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":24,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":62,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-27T10:21:44.209Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-27T10:21:44.209Z: Received motion sensor data: {"motionDetected":false}
2025-05-27T10:21:44.209Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-27T10:21:44.209Z: Successfully updated motion event: living room motion = false
2025-05-27T10:21:44.366Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-27T10:21:45.009Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":false,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-27T10:21:45.117863Z"}}
2025-05-27T10:21:45.009Z: Extracted AC on state: false, target temperature: N/A, target mode: N/A
2025-05-27T10:21:45.350Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":true},"success":true}
2025-05-27T10:21:45.350Z: Extracted light state: true
2025-05-27T10:21:45.351Z: Creating a combined row with motion=false, temp=24, humidity=62, light=true, ac_on=false, target_temp=N/A, target_mode=N/A
2025-05-27T10:21:45.351Z: logSensorData called with 7 sensors
2025-05-27T10:21:45.351Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-27T10:21:45.351Z: Setting spaceId column 8 to 41413915
2025-05-27T10:21:45.351Z: Setting column 3 (living room motion) to false
2025-05-27T10:21:45.351Z: Setting column 1 (living room temperature) to 24
2025-05-27T10:21:45.351Z: Setting column 2 (living room humidity) to 62
2025-05-27T10:21:45.351Z: Setting column 4 (light_state) to true
2025-05-27T10:21:45.351Z: Setting column 5 (ac_state) to false
2025-05-27T10:21:45.351Z: Setting column 6 (targetTemperature) to N/A
2025-05-27T10:21:45.351Z: Setting column 7 (targetAcMode) to N/A
2025-05-27T10:21:45.351Z: Preparing row: 2025-05-27 10:21:45,24,62,false,true,false,N/A,N/A,41413915
2025-05-27T10:21:45.351Z: Successfully wrote to log file using writeFileSync
2025-05-27T10:21:45.351Z: Successfully logged combined sensor data in one row with target temperature: N/A and target mode: N/A
2025-05-27T10:21:45.355Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-27T10:21:45.355Z: Polling interval active: true
2025-05-27T10:23:23.651Z: Polling for sensor data... (poll #19)
2025-05-27T10:23:23.652Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-05-27T10:23:23.652Z: Received sensor data: {"temperature":24,"humidity":61.9}
2025-05-27T10:23:23.652Z: Formatted events: [{"name":"living room temperature","value":24,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":61.9,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-27T10:23:23.652Z: Successfully updated event: living room temperature = 24
2025-05-27T10:23:23.652Z: Successfully updated event: living room humidity = 61.9
2025-05-27T10:23:24.223Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":24,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":61.9,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-05-27T10:23:24.223Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-05-27T10:23:24.223Z: Received motion sensor data: {"motionDetected":false}
2025-05-27T10:23:24.223Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-05-27T10:23:24.223Z: Successfully updated motion event: living room motion = false
2025-05-27T10:23:24.460Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-05-27T10:23:25.164Z: AC state is: {"fanLevel":"low","horizontalSwing":"rangeFull","mode":"cool","on":false,"swing":"fixedMiddle","targetTemperature":20,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-05-27T10:23:25.279336Z"}}
2025-05-27T10:23:25.164Z: Extracted AC on state: false, target temperature: N/A, target mode: N/A
2025-05-27T10:23:25.510Z: Raw light state result: {"message":"Light state retrieved successfully","on":{"on":true},"success":true}
2025-05-27T10:23:25.510Z: Extracted light state: true
2025-05-27T10:23:25.510Z: Creating a combined row with motion=false, temp=24, humidity=61.9, light=true, ac_on=false, target_temp=N/A, target_mode=N/A
2025-05-27T10:23:25.511Z: logSensorData called with 7 sensors
2025-05-27T10:23:25.511Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-05-27T10:23:25.511Z: Setting spaceId column 8 to 41413915
2025-05-27T10:23:25.511Z: Setting column 3 (living room motion) to false
2025-05-27T10:23:25.511Z: Setting column 1 (living room temperature) to 24
2025-05-27T10:23:25.511Z: Setting column 2 (living room humidity) to 61.9
2025-05-27T10:23:25.511Z: Setting column 4 (light_state) to true
2025-05-27T10:23:25.511Z: Setting column 5 (ac_state) to false
2025-05-27T10:23:25.511Z: Setting column 6 (targetTemperature) to N/A
2025-05-27T10:23:25.511Z: Setting column 7 (targetAcMode) to N/A
2025-05-27T10:23:25.511Z: Preparing row: 2025-05-27 10:23:25,24,61.9,false,true,false,N/A,N/A,41413915
2025-05-27T10:23:25.511Z: Successfully wrote to log file using writeFileSync
2025-05-27T10:23:25.510Z: Successfully logged combined sensor data in one row with target temperature: N/A and target mode: N/A
2025-05-27T10:23:25.513Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-05-27T10:23:25.514Z: Polling interval active: true
2025-06-16T14:01:04.268Z: Polling for sensor data... (poll #31)
2025-06-16T14:01:04.269Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-06-16T14:01:04.269Z: Received sensor data: {"temperature":24.4,"humidity":71.3}
2025-06-16T14:01:04.269Z: Formatted events: [{"name":"living room temperature","value":24.4,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":71.3,"roomName":"Living Room","spaceId":"41413915"}]
2025-06-16T14:01:04.269Z: Successfully updated event: living room temperature = 24.4
2025-06-16T14:01:04.269Z: Successfully updated event: living room humidity = 71.3
2025-06-16T14:01:05.088Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":24.4,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":71.3,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-06-16T14:01:05.088Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-06-16T14:01:05.088Z: Received motion sensor data: {"motionDetected":true}
2025-06-16T14:01:05.088Z: Formatted motion sensor events: [{"name":"living room motion","value":true,"roomName":"Living Room","spaceId":"41413915"}]
2025-06-16T14:01:05.088Z: Successfully updated motion event: living room motion = true
2025-06-16T14:01:05.316Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":true,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-06-16T14:01:05.985Z: AC state is: {"fanLevel":"auto","horizontalSwing":"fixedCenter","mode":"dry","on":true,"swing":"fixedMiddle","targetTemperature":28,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-06-16T14:01:05.961502Z"}}
2025-06-16T14:01:05.985Z: Extracted AC on state: true, target temperature: 28, target mode: dry
2025-06-16T14:01:09.281Z: Raw light state result: null
2025-06-16T14:01:09.282Z: Creating a combined row with motion=true, temp=24.4, humidity=71.3, light=false, ac_on=true, target_temp=28, target_mode=dry
2025-06-16T14:01:09.283Z: logSensorData called with 7 sensors
2025-06-16T14:01:09.283Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-06-16T14:01:09.283Z: Setting spaceId column 8 to 41413915
2025-06-16T14:01:09.283Z: Setting column 3 (living room motion) to true
2025-06-16T14:01:09.283Z: Setting column 1 (living room temperature) to 24.4
2025-06-16T14:01:09.283Z: Setting column 2 (living room humidity) to 71.3
2025-06-16T14:01:09.283Z: Setting column 4 (light_state) to false
2025-06-16T14:01:09.283Z: Setting column 5 (ac_state) to true
2025-06-16T14:01:09.283Z: Setting column 6 (targetTemperature) to 28
2025-06-16T14:01:09.283Z: Setting column 7 (targetAcMode) to dry
2025-06-16T14:01:09.283Z: Preparing row: 2025-06-16 14:01:09,24.4,71.3,true,false,true,28,dry,41413915
2025-06-16T14:01:09.283Z: Successfully wrote to log file using writeFileSync
2025-06-16T14:01:09.282Z: Successfully logged combined sensor data in one row with target temperature: 28 and target mode: dry
2025-06-16T14:01:09.286Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-06-16T14:01:09.286Z: Polling interval active: true
2025-06-16T14:02:44.270Z: Polling for sensor data... (poll #32)
2025-06-16T14:02:44.270Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-06-16T14:02:44.270Z: Received sensor data: {"temperature":24.4,"humidity":71.4}
2025-06-16T14:02:44.270Z: Formatted events: [{"name":"living room temperature","value":24.4,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":71.4,"roomName":"Living Room","spaceId":"41413915"}]
2025-06-16T14:02:44.270Z: Successfully updated event: living room temperature = 24.4
2025-06-16T14:02:44.270Z: Successfully updated event: living room humidity = 71.4
2025-06-16T14:02:45.066Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":24.4,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":71.4,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-06-16T14:02:45.066Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-06-16T14:02:45.066Z: Received motion sensor data: {"motionDetected":false}
2025-06-16T14:02:45.066Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-06-16T14:02:45.066Z: Successfully updated motion event: living room motion = false
2025-06-16T14:02:45.303Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-06-16T14:02:46.012Z: AC state is: {"fanLevel":"auto","horizontalSwing":"fixedCenter","mode":"dry","on":true,"swing":"fixedMiddle","targetTemperature":28,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-06-16T14:02:45.979313Z"}}
2025-06-16T14:02:46.012Z: Extracted AC on state: true, target temperature: 28, target mode: dry
2025-06-16T14:02:49.317Z: Raw light state result: null
2025-06-16T14:02:49.318Z: Creating a combined row with motion=false, temp=24.4, humidity=71.4, light=false, ac_on=true, target_temp=28, target_mode=dry
2025-06-16T14:02:49.318Z: logSensorData called with 7 sensors
2025-06-16T14:02:49.318Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-06-16T14:02:49.318Z: Setting spaceId column 8 to 41413915
2025-06-16T14:02:49.318Z: Setting column 3 (living room motion) to false
2025-06-16T14:02:49.318Z: Setting column 1 (living room temperature) to 24.4
2025-06-16T14:02:49.318Z: Setting column 2 (living room humidity) to 71.4
2025-06-16T14:02:49.318Z: Setting column 4 (light_state) to false
2025-06-16T14:02:49.318Z: Setting column 5 (ac_state) to true
2025-06-16T14:02:49.318Z: Setting column 6 (targetTemperature) to 28
2025-06-16T14:02:49.318Z: Setting column 7 (targetAcMode) to dry
2025-06-16T14:02:49.318Z: Preparing row: 2025-06-16 14:02:49,24.4,71.4,false,false,true,28,dry,41413915
2025-06-16T14:02:49.318Z: Successfully wrote to log file using writeFileSync
2025-06-16T14:02:49.318Z: Successfully logged combined sensor data in one row with target temperature: 28 and target mode: dry
2025-06-16T14:02:49.320Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-06-16T14:02:49.320Z: Polling interval active: true
2025-06-16T14:04:24.272Z: Polling for sensor data... (poll #33)
2025-06-16T14:04:24.273Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-06-16T14:04:24.273Z: Received sensor data: {"temperature":24.4,"humidity":71.4}
2025-06-16T14:04:24.273Z: Formatted events: [{"name":"living room temperature","value":24.4,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":71.4,"roomName":"Living Room","spaceId":"41413915"}]
2025-06-16T14:04:24.273Z: Successfully updated event: living room temperature = 24.4
2025-06-16T14:04:24.273Z: Successfully updated event: living room humidity = 71.4
2025-06-16T14:04:24.999Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":24.4,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":71.4,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-06-16T14:04:24.999Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-06-16T14:04:24.999Z: Received motion sensor data: {"motionDetected":false}
2025-06-16T14:04:24.999Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-06-16T14:04:24.999Z: Successfully updated motion event: living room motion = false
2025-06-16T14:04:25.246Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-06-16T14:04:25.899Z: AC state is: {"fanLevel":"auto","horizontalSwing":"fixedCenter","mode":"dry","on":true,"swing":"fixedMiddle","targetTemperature":28,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-06-16T14:04:25.842188Z"}}
2025-06-16T14:04:25.899Z: Extracted AC on state: true, target temperature: 28, target mode: dry
2025-06-16T14:04:29.192Z: Raw light state result: null
2025-06-16T14:04:29.193Z: Creating a combined row with motion=false, temp=24.4, humidity=71.4, light=false, ac_on=true, target_temp=28, target_mode=dry
2025-06-16T14:04:29.193Z: logSensorData called with 7 sensors
2025-06-16T14:04:29.193Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-06-16T14:04:29.193Z: Setting spaceId column 8 to 41413915
2025-06-16T14:04:29.193Z: Setting column 3 (living room motion) to false
2025-06-16T14:04:29.193Z: Setting column 1 (living room temperature) to 24.4
2025-06-16T14:04:29.193Z: Setting column 2 (living room humidity) to 71.4
2025-06-16T14:04:29.193Z: Setting column 4 (light_state) to false
2025-06-16T14:04:29.193Z: Setting column 5 (ac_state) to true
2025-06-16T14:04:29.193Z: Setting column 6 (targetTemperature) to 28
2025-06-16T14:04:29.193Z: Setting column 7 (targetAcMode) to dry
2025-06-16T14:04:29.193Z: Preparing row: 2025-06-16 14:04:29,24.4,71.4,false,false,true,28,dry,41413915
2025-06-16T14:04:29.193Z: Successfully wrote to log file using writeFileSync
2025-06-16T14:04:29.193Z: Successfully logged combined sensor data in one row with target temperature: 28 and target mode: dry
2025-06-16T14:04:29.195Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-06-16T14:04:29.195Z: Polling interval active: true
2025-06-16T14:06:04.275Z: Polling for sensor data... (poll #34)
2025-06-16T14:06:04.276Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-06-16T14:06:04.276Z: Received sensor data: {"temperature":24.4,"humidity":71.3}
2025-06-16T14:06:04.276Z: Formatted events: [{"name":"living room temperature","value":24.4,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":71.3,"roomName":"Living Room","spaceId":"41413915"}]
2025-06-16T14:06:04.276Z: Successfully updated event: living room temperature = 24.4
2025-06-16T14:06:04.276Z: Successfully updated event: living room humidity = 71.3
2025-06-16T14:06:05.063Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":24.4,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":71.3,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-06-16T14:06:05.063Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-06-16T14:06:05.063Z: Received motion sensor data: {"motionDetected":false}
2025-06-16T14:06:05.063Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-06-16T14:06:05.063Z: Successfully updated motion event: living room motion = false
2025-06-16T14:06:05.324Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-06-16T14:06:05.975Z: AC state is: {"fanLevel":"auto","horizontalSwing":"fixedCenter","mode":"dry","on":true,"swing":"fixedMiddle","targetTemperature":28,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-06-16T14:06:05.943219Z"}}
2025-06-16T14:06:05.975Z: Extracted AC on state: true, target temperature: 28, target mode: dry
2025-06-16T14:06:09.289Z: Raw light state result: null
2025-06-16T14:06:09.290Z: Creating a combined row with motion=false, temp=24.4, humidity=71.3, light=false, ac_on=true, target_temp=28, target_mode=dry
2025-06-16T14:06:09.290Z: logSensorData called with 7 sensors
2025-06-16T14:06:09.290Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-06-16T14:06:09.290Z: Setting spaceId column 8 to 41413915
2025-06-16T14:06:09.290Z: Setting column 3 (living room motion) to false
2025-06-16T14:06:09.290Z: Setting column 1 (living room temperature) to 24.4
2025-06-16T14:06:09.290Z: Setting column 2 (living room humidity) to 71.3
2025-06-16T14:06:09.290Z: Setting column 4 (light_state) to false
2025-06-16T14:06:09.290Z: Setting column 5 (ac_state) to true
2025-06-16T14:06:09.290Z: Setting column 6 (targetTemperature) to 28
2025-06-16T14:06:09.290Z: Setting column 7 (targetAcMode) to dry
2025-06-16T14:06:09.290Z: Preparing row: 2025-06-16 14:06:09,24.4,71.3,false,false,true,28,dry,41413915
2025-06-16T14:06:09.290Z: Successfully wrote to log file using writeFileSync
2025-06-16T14:06:09.290Z: Successfully logged combined sensor data in one row with target temperature: 28 and target mode: dry
2025-06-16T14:06:09.294Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-06-16T14:06:09.295Z: Polling interval active: true
2025-06-16T14:07:44.276Z: Polling for sensor data... (poll #35)
2025-06-16T14:07:44.279Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-06-16T14:07:44.279Z: Received sensor data: {"temperature":24.4,"humidity":71.2}
2025-06-16T14:07:44.279Z: Formatted events: [{"name":"living room temperature","value":24.4,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":71.2,"roomName":"Living Room","spaceId":"41413915"}]
2025-06-16T14:07:44.279Z: Successfully updated event: living room temperature = 24.4
2025-06-16T14:07:44.279Z: Successfully updated event: living room humidity = 71.2
2025-06-16T14:07:45.180Z: Sensibo polling result: {"success":true,"updatedEvents":[{"name":"living room temperature","value":24.4,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":71.2,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":2,"successfulUpdates":2}
2025-06-16T14:07:45.181Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-06-16T14:07:45.181Z: Received motion sensor data: {"motionDetected":false}
2025-06-16T14:07:45.181Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-06-16T14:07:45.181Z: Successfully updated motion event: living room motion = false
2025-06-16T14:07:45.433Z: Motion sensor polling result: {"success":true,"updatedEvents":[{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}],"totalEvents":1,"successfulUpdates":1}
2025-06-16T14:07:46.163Z: AC state is: {"fanLevel":"auto","horizontalSwing":"fixedCenter","mode":"dry","on":true,"swing":"fixedMiddle","targetTemperature":28,"temperatureUnit":"C","timestamp":{"secondsAgo":0,"time":"2025-06-16T14:07:46.134919Z"}}
2025-06-16T14:07:46.163Z: Extracted AC on state: true, target temperature: 28, target mode: dry
2025-06-16T14:07:49.484Z: Raw light state result: null
2025-06-16T14:07:49.485Z: Creating a combined row with motion=false, temp=24.4, humidity=71.2, light=false, ac_on=true, target_temp=28, target_mode=dry
2025-06-16T14:07:49.486Z: logSensorData called with 7 sensors
2025-06-16T14:07:49.486Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-06-16T14:07:49.486Z: Setting spaceId column 8 to 41413915
2025-06-16T14:07:49.486Z: Setting column 3 (living room motion) to false
2025-06-16T14:07:49.486Z: Setting column 1 (living room temperature) to 24.4
2025-06-16T14:07:49.486Z: Setting column 2 (living room humidity) to 71.2
2025-06-16T14:07:49.486Z: Setting column 4 (light_state) to false
2025-06-16T14:07:49.486Z: Setting column 5 (ac_state) to true
2025-06-16T14:07:49.486Z: Setting column 6 (targetTemperature) to 28
2025-06-16T14:07:49.486Z: Setting column 7 (targetAcMode) to dry
2025-06-16T14:07:49.486Z: Preparing row: 2025-06-16 14:07:49,24.4,71.2,false,false,true,28,dry,41413915
2025-06-16T14:07:49.486Z: Successfully wrote to log file using writeFileSync
2025-06-16T14:07:49.485Z: Successfully logged combined sensor data in one row with target temperature: 28 and target mode: dry
2025-06-16T14:07:49.490Z: Combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-06-16T14:07:49.490Z: Polling interval active: true
2025-06-17T11:42:26.227Z: Initializing sensor logging service
2025-06-17T11:42:26.228Z: Log file path: /Users/nourmawasi/Desktop/dev/iec/SmartSchool-Server/logs/sensor_data.csv
2025-06-17T11:42:26.228Z: Added light_state column to event names
2025-06-17T11:42:26.229Z: Added ac_state column to event names
2025-06-17T11:42:26.229Z: Added ac_state column to event names
2025-06-17T11:42:26.229Z: Added targetAcMode column to event names
2025-06-17T11:42:26.230Z: Using existing log file
2025-06-17T11:42:26.232Z: Logging enabled
2025-06-17T11:42:26.233Z: No polling was active to stop
2025-06-17T11:42:26.234Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-06-17T11:42:26.234Z: Polling interval set with ID: 1271
2025-06-17T11:42:26.235Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-06-17T11:42:26.236Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-06-17T11:42:26.236Z: Received motion sensor data: {"motionDetected":false}
2025-06-17T11:42:26.236Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-06-17T11:42:26.236Z: Successfully updated motion event: living room motion = false
2025-06-17T11:42:26.883Z: Initializing sensor logging service
2025-06-17T11:42:26.883Z: Log file path: /Users/nourmawasi/Desktop/dev/iec/SmartSchool-Server/logs/sensor_data.csv
2025-06-17T11:42:26.884Z: Added light_state column to event names
2025-06-17T11:42:26.884Z: Added ac_state column to event names
2025-06-17T11:42:26.884Z: Added ac_state column to event names
2025-06-17T11:42:26.884Z: Added targetAcMode column to event names
2025-06-17T11:42:26.884Z: Using existing log file
2025-06-17T11:42:26.885Z: Closing existing log stream before creating new one
2025-06-17T11:42:26.885Z: Logging enabled
2025-06-17T11:42:26.885Z: Stopping sensor polling interval: 1271
2025-06-17T11:42:26.885Z: Closing logging service
2025-06-17T11:42:26.886Z: Closing sensor logging service
2025-06-17T11:42:26.886Z: Closing log stream
2025-06-17T11:42:26.886Z: Logging stopped at 2025-06-17T11:42:26.886Z
2025-06-17T11:42:26.886Z: Starting sensor polling with interval: 100000ms for IP 192.168.0.121
2025-06-17T11:42:26.886Z: Polling interval set with ID: 1584
2025-06-17T11:42:26.886Z: Fetching sensor data from Raspberry Pi at 192.168.0.121
2025-06-17T11:42:26.887Z: Fetching motion sensor data from Raspberry Pi at 192.168.0.121
2025-06-17T11:42:26.235Z: Received sensor data: {"temperature":25.7,"humidity":58.9}
2025-06-17T11:42:26.235Z: Formatted events: [{"name":"living room temperature","value":25.7,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":58.9,"roomName":"Living Room","spaceId":"41413915"}]
2025-06-17T11:42:26.235Z: Successfully updated event: living room temperature = 25.7
2025-06-17T11:42:26.235Z: Successfully updated event: living room humidity = 58.9
2025-06-17T11:42:27.283Z: Initial poll - AC on: true, target temp: 24, target mode: cool
2025-06-17T11:42:27.284Z: Creating a combined row with motion=false, temp=25.7, humidity=58.9, light=false, ac_on=true, target_temp=24, target_mode=cool
2025-06-17T11:42:27.285Z: logSensorData called with 7 sensors
2025-06-17T11:42:27.285Z: WARNING - Logging is disabled but logSensorData was called
2025-06-17T11:42:27.285Z: Attempting to re-initialize logging with existing events
2025-06-17T11:42:27.286Z: Initializing sensor logging service
2025-06-17T11:42:27.287Z: Log file path: /Users/nourmawasi/Desktop/dev/iec/SmartSchool-Server/logs/sensor_data.csv
2025-06-17T11:42:27.289Z: Using existing log file
2025-06-17T11:42:27.285Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-06-17T11:42:27.285Z: Setting spaceId column 8 to 41413915
2025-06-17T11:42:27.285Z: Setting column 3 (living room motion) to false
2025-06-17T11:42:27.285Z: Setting column 1 (living room temperature) to 25.7
2025-06-17T11:42:27.285Z: Setting column 2 (living room humidity) to 58.9
2025-06-17T11:42:27.285Z: Setting column 4 (light_state) to false
2025-06-17T11:42:27.285Z: Setting column 5 (ac_state) to true
2025-06-17T11:42:27.285Z: Setting column 6 (targetTemperature) to 24
2025-06-17T11:42:27.285Z: Setting column 7 (targetAcMode) to cool
2025-06-17T11:42:27.285Z: Preparing row: 2025-06-17 11:42:27,25.7,58.9,false,false,true,24,cool,41413915
2025-06-17T11:42:27.285Z: Successfully wrote to log file using writeFileSync
2025-06-17T11:42:27.284Z: Successfully logged combined sensor data in one row with target temperature: 24 and target mode: cool
2025-06-17T11:42:27.293Z: Initial combined logging result: {"success":true,"message":"Sensor data logged successfully"}
2025-06-17T11:42:27.294Z: Logging enabled
2025-06-17T11:42:27.285Z: Re-initialization result: {"success":true,"message":"Sensor logging initialized to /Users/nourmawasi/Desktop/dev/iec/SmartSchool-Server/logs/sensor_data.csv","columns":[["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]}
2025-06-17T11:42:26.887Z: Received motion sensor data: {"motionDetected":false}
2025-06-17T11:42:26.887Z: Formatted motion sensor events: [{"name":"living room motion","value":false,"roomName":"Living Room","spaceId":"41413915"}]
2025-06-17T11:42:26.887Z: Successfully updated motion event: living room motion = false
2025-06-17T11:42:26.886Z: Received sensor data: {"temperature":25.7,"humidity":58.9}
2025-06-17T11:42:26.886Z: Formatted events: [{"name":"living room temperature","value":25.7,"roomName":"Living Room","spaceId":"41413915"},{"name":"living room humidity","value":58.9,"roomName":"Living Room","spaceId":"41413915"}]
2025-06-17T11:42:26.886Z: Successfully updated event: living room temperature = 25.7
2025-06-17T11:42:26.886Z: Successfully updated event: living room humidity = 58.9
2025-06-17T11:42:27.838Z: Initial poll - AC on: true, target temp: 24, target mode: cool
2025-06-17T11:42:27.839Z: Creating a combined row with motion=false, temp=25.7, humidity=58.9, light=false, ac_on=true, target_temp=24, target_mode=cool
2025-06-17T11:42:27.839Z: logSensorData called with 7 sensors
2025-06-17T11:42:27.839Z: Column map has 7 columns: [["living room temperature",1],["living room humidity",2],["living room motion",3],["light_state",4],["ac_state",5],["targetTemperature",6],["targetAcMode",7]]
2025-06-17T11:42:27.839Z: Setting spaceId column 8 to 41413915
2025-06-17T11:42:27.839Z: Setting column 3 (living room motion) to false
2025-06-17T11:42:27.839Z: Setting column 1 (living room temperature) to 25.7
2025-06-17T11:42:27.839Z: Setting column 2 (living room humidity) to 58.9
2025-06-17T11:42:27.839Z: Setting column 4 (light_state) to false
2025-06-17T11:42:27.839Z: Setting column 5 (ac_state) to true
2025-06-17T11:42:27.839Z: Setting column 6 (targetTemperature) to 24
2025-06-17T11:42:27.839Z: Setting column 7 (targetAcMode) to cool
2025-06-17T11:42:27.839Z: Preparing row: 2025-06-17 11:42:27,25.7,58.9,false,false,true,24,cool,41413915
2025-06-17T11:42:27.839Z: Successfully wrote to log file using writeFileSync
2025-06-17T11:42:27.839Z: Successfully logged combined sensor data in one row with target temperature: 24 and target mode: cool
2025-06-17T11:42:27.844Z: Initial combined logging result: {"success":true,"message":"Sensor data logged successfully"}
